# 1 "HxParser.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxParser *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable lex : HxLexer.t; mutable cur : HxToken.t; mutable peeked1 : HxToken.t; mutable peeked2 : HxToken.t; mutable capturedReturnStringLiteral : string }

let create = fun source -> let self = ({ __hx_type = HxType.class_ "HxParser"; lex = Obj.magic (); cur = Obj.magic (); peeked1 = Obj.magic (HxRuntime.hx_null); peeked2 = Obj.magic (HxRuntime.hx_null); capturedReturnStringLiteral = "" } : t) in (
  ignore ((
    ignore (let __assign_1 = "" in (
      self.capturedReturnStringLiteral <- __assign_1;
      __assign_1
    ));
    ignore (let __assign_2 = Obj.magic (HxRuntime.hx_null) in (
      self.peeked2 <- __assign_2;
      __assign_2
    ));
    ignore (let __assign_3 = Obj.magic (HxRuntime.hx_null) in (
      self.peeked1 <- __assign_3;
      __assign_3
    ));
    ignore (let __assign_4 = HxLexer.create source in (
      self.lex <- __assign_4;
      __assign_4
    ));
    let __assign_5 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_5;
      __assign_5
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxParser"; lex = Obj.magic (); cur = Obj.magic (); peeked1 = Obj.magic (HxRuntime.hx_null); peeked2 = Obj.magic (HxRuntime.hx_null); capturedReturnStringLiteral = "" } : t)

let bump = fun self () -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
  ignore (let __assign_6 = self.peeked1 in (
    self.cur <- __assign_6;
    __assign_6
  ));
  ignore (let __assign_7 = self.peeked2 in (
    self.peeked1 <- __assign_7;
    __assign_7
  ));
  let __assign_8 = Obj.magic (HxRuntime.hx_null) in (
    self.peeked2 <- __assign_8;
    __assign_8
  )
)) else ignore (let __assign_9 = HxLexer.next (self.lex) () in (
  self.cur <- __assign_9;
  __assign_9
)))

let peek = fun self () -> (
  ignore (if self.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_10 = HxLexer.next (self.lex) () in (
    self.peeked1 <- __assign_10;
    __assign_10
  )) else ());
  self.peeked1
)

let peek2 = fun self () -> (
  ignore (if self.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_11 = HxLexer.next (self.lex) () in (
    self.peeked1 <- __assign_11;
    __assign_11
  )) else ());
  ignore (if self.peeked2 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_12 = HxLexer.next (self.lex) () in (
    self.peeked2 <- __assign_12;
    __assign_12
  )) else ());
  self.peeked2
)

let peekKind = fun self () -> (
  ignore (if self.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_13 = HxLexer.next (self.lex) () in (
    self.peeked1 <- __assign_13;
    __assign_13
  )) else ());
  let tempMaybeHxToken = self.peeked1 in tempMaybeHxToken.kind
)

let peekKind2 = fun self () -> (
  ignore (if self.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_14 = HxLexer.next (self.lex) () in (
    self.peeked1 <- __assign_14;
    __assign_14
  )) else ());
  ignore (if self.peeked2 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_15 = HxLexer.next (self.lex) () in (
    self.peeked2 <- __assign_15;
    __assign_15
  )) else ());
  let tempMaybeHxToken = self.peeked2 in tempMaybeHxToken.kind
)

let fail = fun self (message : string) -> HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create message (self.cur.pos))) ["Dynamic"; "HxParseError"]

let expect = fun self (kind : HxTokenKind.hxtokenkind) (label : string) -> ignore (let tempBool = ref false in (
  ignore (let _g = self.cur.kind in match _g with
    | HxTokenKind.TEof -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 0 then let __assign_17 = true in (
      tempBool := __assign_17;
      __assign_17
    ) else let __assign_18 = false in (
      tempBool := __assign_18;
      __assign_18
    )
    | HxTokenKind.TKeyword _p0 -> let _g2 = _p0 in if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 5 then let _g1 = _p0 in let b = _g1 in let a = _g2 in let __assign_19 = a = b in (
      tempBool := __assign_19;
      __assign_19
    ) else let __assign_20 = false in (
      tempBool := __assign_20;
      __assign_20
    )
    | HxTokenKind.TLBrace -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 6 then let __assign_21 = true in (
      tempBool := __assign_21;
      __assign_21
    ) else let __assign_22 = false in (
      tempBool := __assign_22;
      __assign_22
    )
    | HxTokenKind.TRBrace -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 7 then let __assign_23 = true in (
      tempBool := __assign_23;
      __assign_23
    ) else let __assign_24 = false in (
      tempBool := __assign_24;
      __assign_24
    )
    | HxTokenKind.TLParen -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 8 then let __assign_25 = true in (
      tempBool := __assign_25;
      __assign_25
    ) else let __assign_26 = false in (
      tempBool := __assign_26;
      __assign_26
    )
    | HxTokenKind.TRParen -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 9 then let __assign_27 = true in (
      tempBool := __assign_27;
      __assign_27
    ) else let __assign_28 = false in (
      tempBool := __assign_28;
      __assign_28
    )
    | HxTokenKind.TSemicolon -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 10 then let __assign_29 = true in (
      tempBool := __assign_29;
      __assign_29
    ) else let __assign_30 = false in (
      tempBool := __assign_30;
      __assign_30
    )
    | HxTokenKind.TColon -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 11 then let __assign_31 = true in (
      tempBool := __assign_31;
      __assign_31
    ) else let __assign_32 = false in (
      tempBool := __assign_32;
      __assign_32
    )
    | HxTokenKind.TDot -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 12 then let __assign_33 = true in (
      tempBool := __assign_33;
      __assign_33
    ) else let __assign_34 = false in (
      tempBool := __assign_34;
      __assign_34
    )
    | HxTokenKind.TComma -> if (match kind with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 13 then let __assign_35 = true in (
      tempBool := __assign_35;
      __assign_35
    ) else let __assign_36 = false in (
      tempBool := __assign_36;
      __assign_36
    )
    | _ -> let __assign_16 = false in (
      tempBool := __assign_16;
      __assign_16
    ));
  let ok = !tempBool in (
    ignore (if not (ok) then ignore (fail self ("Expected " ^ HxString.toStdString label)) else ());
    if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_37 = self.peeked1 in (
        self.cur <- __assign_37;
        __assign_37
      ));
      ignore (let __assign_38 = self.peeked2 in (
        self.peeked1 <- __assign_38;
        __assign_38
      ));
      let __assign_39 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_39;
        __assign_39
      )
    )) else ignore (let __assign_40 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_40;
      __assign_40
    ))
  )
))

let acceptKeyword = fun self (k : HxKeyword.hxkeyword) -> let tempResult = ref false in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 5 then let _g2 = match _g with
    | HxTokenKind.TKeyword __enum_param_41 -> __enum_param_41
    | _ -> failwith "Unexpected enum parameter" in let kk = _g2 in if kk = k then (
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_42 = self.peeked1 in (
        self.cur <- __assign_42;
        __assign_42
      ));
      ignore (let __assign_43 = self.peeked2 in (
        self.peeked1 <- __assign_43;
        __assign_43
      ));
      let __assign_44 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_44;
        __assign_44
      )
    )) else ignore (let __assign_45 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_45;
      __assign_45
    )));
    let __assign_46 = true in (
      tempResult := __assign_46;
      __assign_46
    )
  ) else let __assign_47 = false in (
    tempResult := __assign_47;
    __assign_47
  ) else let __assign_48 = false in (
    tempResult := __assign_48;
    __assign_48
  ));
  !tempResult
)

let acceptOtherChar = fun self (ch : string) -> let code = HxString.charCodeAt ch 0 in let tempResult = ref false in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
    | HxTokenKind.TOther __enum_param_49 -> __enum_param_49
    | _ -> failwith "Unexpected enum parameter" in let c = _g2 in if let __nullable_50 = code in if __nullable_50 == HxRuntime.hx_null then false else Obj.obj __nullable_50 = c then (
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_51 = self.peeked1 in (
        self.cur <- __assign_51;
        __assign_51
      ));
      ignore (let __assign_52 = self.peeked2 in (
        self.peeked1 <- __assign_52;
        __assign_52
      ));
      let __assign_53 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_53;
        __assign_53
      )
    )) else ignore (let __assign_54 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_54;
      __assign_54
    )));
    let __assign_55 = true in (
      tempResult := __assign_55;
      __assign_55
    )
  ) else let __assign_56 = false in (
    tempResult := __assign_56;
    __assign_56
  ) else let __assign_57 = false in (
    tempResult := __assign_57;
    __assign_57
  ));
  !tempResult
)

let isOtherChar = fun self (ch : string) -> let code = HxString.charCodeAt ch 0 in let tempResult = ref false in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
    | HxTokenKind.TOther __enum_param_58 -> __enum_param_58
    | _ -> failwith "Unexpected enum parameter" in let c = _g2 in if let __nullable_59 = code in if __nullable_59 == HxRuntime.hx_null then false else Obj.obj __nullable_59 = c then let __assign_60 = true in (
    tempResult := __assign_60;
    __assign_60
  ) else let __assign_61 = false in (
    tempResult := __assign_61;
    __assign_61
  ) else let __assign_62 = false in (
    tempResult := __assign_62;
    __assign_62
  ));
  !tempResult
)

let readIdent = fun self (label : string) -> let tempResult = ref "" in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 1 then let _g2 = match _g with
    | HxTokenKind.TIdent __enum_param_63 -> __enum_param_63
    | _ -> failwith "Unexpected enum parameter" in let name = _g2 in (
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_64 = self.peeked1 in (
        self.cur <- __assign_64;
        __assign_64
      ));
      ignore (let __assign_65 = self.peeked2 in (
        self.peeked1 <- __assign_65;
        __assign_65
      ));
      let __assign_66 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_66;
        __assign_66
      )
    )) else ignore (let __assign_67 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_67;
      __assign_67
    )));
    let __assign_68 = name in (
      tempResult := __assign_68;
      __assign_68
    )
  ) else let __assign_69 = fail self ("Expected " ^ HxString.toStdString label) in (
    tempResult := __assign_69;
    __assign_69
  ));
  !tempResult
)

let readDottedPath = fun self () -> let parts = HxArray.create () in (
  ignore (HxArray.push parts (readIdent self "identifier"));
  ignore (try while true do try ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 12 then ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_70 = self.peeked1 in (
        self.cur <- __assign_70;
        __assign_70
      ));
      ignore (let __assign_71 = self.peeked2 in (
        self.peeked1 <- __assign_71;
        __assign_71
      ));
      let __assign_72 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_72;
        __assign_72
      )
    )) else ignore (let __assign_73 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_73;
      __assign_73
    )));
    HxArray.push parts (readIdent self "identifier")
  )) else raise (HxRuntime.Hx_break)) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  HxArray.join parts "." (fun x -> x)
)

let readImportPath = fun self () -> let parts = HxArray.create () in (
  ignore (HxArray.push parts (readIdent self "identifier"));
  ignore (try while true do try ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 12 then ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_74 = self.peeked1 in (
        self.cur <- __assign_74;
        __assign_74
      ));
      ignore (let __assign_75 = self.peeked2 in (
        self.peeked1 <- __assign_75;
        __assign_75
      ));
      let __assign_76 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_76;
        __assign_76
      )
    )) else ignore (let __assign_77 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_77;
      __assign_77
    )));
    ignore (if acceptOtherChar self "*" then ignore ((
      ignore (HxArray.push parts "*");
      raise (HxRuntime.Hx_break)
    )) else ());
    HxArray.push parts (readIdent self "identifier")
  )) else raise (HxRuntime.Hx_break)) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  HxArray.join parts "." (fun x -> x)
)

let skipBalancedParens = fun self () -> ignore (let depth = ref 1 in while !depth > 0 do ignore (let _g = self.cur.kind in match _g with
  | HxTokenKind.TEof -> ignore (fail self "Unterminated parenthesis group")
  | HxTokenKind.TLParen -> ignore ((
    ignore (let __old_82 = !depth in let __new_83 = HxInt.add __old_82 1 in (
      ignore (depth := __new_83);
      __old_82
    ));
    if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_84 = self.peeked1 in (
        self.cur <- __assign_84;
        __assign_84
      ));
      ignore (let __assign_85 = self.peeked2 in (
        self.peeked1 <- __assign_85;
        __assign_85
      ));
      let __assign_86 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_86;
        __assign_86
      )
    )) else ignore (let __assign_87 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_87;
      __assign_87
    ))
  ))
  | HxTokenKind.TRParen -> ignore ((
    ignore (let __old_88 = !depth in let __new_89 = HxInt.add __old_88 (-1) in (
      ignore (depth := __new_89);
      __old_88
    ));
    if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_90 = self.peeked1 in (
        self.cur <- __assign_90;
        __assign_90
      ));
      ignore (let __assign_91 = self.peeked2 in (
        self.peeked1 <- __assign_91;
        __assign_91
      ));
      let __assign_92 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_92;
        __assign_92
      )
    )) else ignore (let __assign_93 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_93;
      __assign_93
    ))
  ))
  | _ -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
    ignore (let __assign_78 = self.peeked1 in (
      self.cur <- __assign_78;
      __assign_78
    ));
    ignore (let __assign_79 = self.peeked2 in (
      self.peeked1 <- __assign_79;
      __assign_79
    ));
    let __assign_80 = Obj.magic (HxRuntime.hx_null) in (
      self.peeked2 <- __assign_80;
      __assign_80
    )
  )) else ignore (let __assign_81 = HxLexer.next (self.lex) () in (
    self.cur <- __assign_81;
    __assign_81
  )))) done)

let skipBalancedBraces = fun self () -> ignore (let depth = ref 1 in while !depth > 0 do ignore (let _g = self.cur.kind in match _g with
  | HxTokenKind.TEof -> ignore (fail self "Unterminated brace block")
  | HxTokenKind.TLBrace -> ignore ((
    ignore (let __old_98 = !depth in let __new_99 = HxInt.add __old_98 1 in (
      ignore (depth := __new_99);
      __old_98
    ));
    if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_100 = self.peeked1 in (
        self.cur <- __assign_100;
        __assign_100
      ));
      ignore (let __assign_101 = self.peeked2 in (
        self.peeked1 <- __assign_101;
        __assign_101
      ));
      let __assign_102 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_102;
        __assign_102
      )
    )) else ignore (let __assign_103 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_103;
      __assign_103
    ))
  ))
  | HxTokenKind.TRBrace -> ignore ((
    ignore (let __old_104 = !depth in let __new_105 = HxInt.add __old_104 (-1) in (
      ignore (depth := __new_105);
      __old_104
    ));
    if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_106 = self.peeked1 in (
        self.cur <- __assign_106;
        __assign_106
      ));
      ignore (let __assign_107 = self.peeked2 in (
        self.peeked1 <- __assign_107;
        __assign_107
      ));
      let __assign_108 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_108;
        __assign_108
      )
    )) else ignore (let __assign_109 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_109;
      __assign_109
    ))
  ))
  | HxTokenKind.TLParen -> ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_110 = self.peeked1 in (
        self.cur <- __assign_110;
        __assign_110
      ));
      ignore (let __assign_111 = self.peeked2 in (
        self.peeked1 <- __assign_111;
        __assign_111
      ));
      let __assign_112 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_112;
        __assign_112
      )
    )) else ignore (let __assign_113 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_113;
      __assign_113
    )));
    skipBalancedParens self ()
  ))
  | _ -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
    ignore (let __assign_94 = self.peeked1 in (
      self.cur <- __assign_94;
      __assign_94
    ));
    ignore (let __assign_95 = self.peeked2 in (
      self.peeked1 <- __assign_95;
      __assign_95
    ));
    let __assign_96 = Obj.magic (HxRuntime.hx_null) in (
      self.peeked2 <- __assign_96;
      __assign_96
    )
  )) else ignore (let __assign_97 = HxLexer.next (self.lex) () in (
    self.cur <- __assign_97;
    __assign_97
  )))) done)

let peekBinop = fun self (stop : unit -> bool) -> try let _gthis = self in (
  ignore (if stop () then raise (HxRuntime.Hx_return (Obj.repr (Obj.magic (HxRuntime.hx_null)))) else ());
  let tempResult = ref (Obj.magic ()) in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
      | HxTokenKind.TOther __enum_param_536 -> __enum_param_536
      | _ -> failwith "Unexpected enum parameter" in let c = _g2 in match c with
      | 33 -> let tempBool = ref false in (
        ignore ((
          ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_538 = HxLexer.next (_gthis.lex) () in (
            _gthis.peeked1 <- __assign_538;
            __assign_538
          )) else ());
          let tempMaybeHxToken = _gthis.peeked1 in let _g3 = tempMaybeHxToken.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
            | HxTokenKind.TOther __enum_param_539 -> __enum_param_539
            | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 61 then let __assign_540 = true in (
            tempBool := __assign_540;
            __assign_540
          ) else let __assign_541 = false in (
            tempBool := __assign_541;
            __assign_541
          ) else let __assign_542 = false in (
            tempBool := __assign_542;
            __assign_542
          )
        ));
        if !tempBool then let __assign_543 = let __anon_544 = HxAnon.create () in (
          ignore (HxAnon.set __anon_544 "op" (Obj.repr "!="));
          ignore (HxAnon.set __anon_544 "len" (Obj.repr 2));
          __anon_544
        ) in (
          tempResult := __assign_543;
          __assign_543
        ) else let __assign_545 = HxRuntime.hx_null in (
          tempResult := __assign_545;
          __assign_545
        )
      )
      | 37 -> let __assign_546 = let __anon_547 = HxAnon.create () in (
        ignore (HxAnon.set __anon_547 "op" (Obj.repr "%"));
        ignore (HxAnon.set __anon_547 "len" (Obj.repr 1));
        __anon_547
      ) in (
        tempResult := __assign_546;
        __assign_546
      )
      | 38 -> let tempBool1 = ref false in (
        ignore ((
          ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_548 = HxLexer.next (_gthis.lex) () in (
            _gthis.peeked1 <- __assign_548;
            __assign_548
          )) else ());
          let tempMaybeHxToken1 = _gthis.peeked1 in let _g3 = tempMaybeHxToken1.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
            | HxTokenKind.TOther __enum_param_549 -> __enum_param_549
            | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 38 then let __assign_550 = true in (
            tempBool1 := __assign_550;
            __assign_550
          ) else let __assign_551 = false in (
            tempBool1 := __assign_551;
            __assign_551
          ) else let __assign_552 = false in (
            tempBool1 := __assign_552;
            __assign_552
          )
        ));
        if !tempBool1 then let __assign_553 = let __anon_554 = HxAnon.create () in (
          ignore (HxAnon.set __anon_554 "op" (Obj.repr "&&"));
          ignore (HxAnon.set __anon_554 "len" (Obj.repr 2));
          __anon_554
        ) in (
          tempResult := __assign_553;
          __assign_553
        ) else let __assign_555 = let __anon_556 = HxAnon.create () in (
          ignore (HxAnon.set __anon_556 "op" (Obj.repr "&"));
          ignore (HxAnon.set __anon_556 "len" (Obj.repr 1));
          __anon_556
        ) in (
          tempResult := __assign_555;
          __assign_555
        )
      )
      | 42 -> let __assign_557 = let __anon_558 = HxAnon.create () in (
        ignore (HxAnon.set __anon_558 "op" (Obj.repr "*"));
        ignore (HxAnon.set __anon_558 "len" (Obj.repr 1));
        __anon_558
      ) in (
        tempResult := __assign_557;
        __assign_557
      )
      | 43 -> let __assign_559 = let __anon_560 = HxAnon.create () in (
        ignore (HxAnon.set __anon_560 "op" (Obj.repr "+"));
        ignore (HxAnon.set __anon_560 "len" (Obj.repr 1));
        __anon_560
      ) in (
        tempResult := __assign_559;
        __assign_559
      )
      | 45 -> let __assign_561 = let __anon_562 = HxAnon.create () in (
        ignore (HxAnon.set __anon_562 "op" (Obj.repr "-"));
        ignore (HxAnon.set __anon_562 "len" (Obj.repr 1));
        __anon_562
      ) in (
        tempResult := __assign_561;
        __assign_561
      )
      | 47 -> let __assign_563 = let __anon_564 = HxAnon.create () in (
        ignore (HxAnon.set __anon_564 "op" (Obj.repr "/"));
        ignore (HxAnon.set __anon_564 "len" (Obj.repr 1));
        __anon_564
      ) in (
        tempResult := __assign_563;
        __assign_563
      )
      | 60 -> let tempBool2 = ref false in (
        ignore ((
          ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_565 = HxLexer.next (_gthis.lex) () in (
            _gthis.peeked1 <- __assign_565;
            __assign_565
          )) else ());
          let tempMaybeHxToken2 = _gthis.peeked1 in let _g3 = tempMaybeHxToken2.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
            | HxTokenKind.TOther __enum_param_566 -> __enum_param_566
            | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 60 then let __assign_567 = true in (
            tempBool2 := __assign_567;
            __assign_567
          ) else let __assign_568 = false in (
            tempBool2 := __assign_568;
            __assign_568
          ) else let __assign_569 = false in (
            tempBool2 := __assign_569;
            __assign_569
          )
        ));
        if !tempBool2 then let __assign_570 = let __anon_571 = HxAnon.create () in (
          ignore (HxAnon.set __anon_571 "op" (Obj.repr "<<"));
          ignore (HxAnon.set __anon_571 "len" (Obj.repr 2));
          __anon_571
        ) in (
          tempResult := __assign_570;
          __assign_570
        ) else let tempBool3 = ref false in (
          ignore ((
            ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_572 = HxLexer.next (_gthis.lex) () in (
              _gthis.peeked1 <- __assign_572;
              __assign_572
            )) else ());
            let tempMaybeHxToken3 = _gthis.peeked1 in let _g3 = tempMaybeHxToken3.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
              | HxTokenKind.TOther __enum_param_573 -> __enum_param_573
              | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 61 then let __assign_574 = true in (
              tempBool3 := __assign_574;
              __assign_574
            ) else let __assign_575 = false in (
              tempBool3 := __assign_575;
              __assign_575
            ) else let __assign_576 = false in (
              tempBool3 := __assign_576;
              __assign_576
            )
          ));
          if !tempBool3 then let __assign_577 = let __anon_578 = HxAnon.create () in (
            ignore (HxAnon.set __anon_578 "op" (Obj.repr "<="));
            ignore (HxAnon.set __anon_578 "len" (Obj.repr 2));
            __anon_578
          ) in (
            tempResult := __assign_577;
            __assign_577
          ) else let __assign_579 = let __anon_580 = HxAnon.create () in (
            ignore (HxAnon.set __anon_580 "op" (Obj.repr "<"));
            ignore (HxAnon.set __anon_580 "len" (Obj.repr 1));
            __anon_580
          ) in (
            tempResult := __assign_579;
            __assign_579
          )
        )
      )
      | 61 -> let tempBool4 = ref false in (
        ignore ((
          ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_581 = HxLexer.next (_gthis.lex) () in (
            _gthis.peeked1 <- __assign_581;
            __assign_581
          )) else ());
          let tempMaybeHxToken4 = _gthis.peeked1 in let _g3 = tempMaybeHxToken4.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
            | HxTokenKind.TOther __enum_param_582 -> __enum_param_582
            | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 61 then let __assign_583 = true in (
            tempBool4 := __assign_583;
            __assign_583
          ) else let __assign_584 = false in (
            tempBool4 := __assign_584;
            __assign_584
          ) else let __assign_585 = false in (
            tempBool4 := __assign_585;
            __assign_585
          )
        ));
        if !tempBool4 then let __assign_586 = let __anon_587 = HxAnon.create () in (
          ignore (HxAnon.set __anon_587 "op" (Obj.repr "=="));
          ignore (HxAnon.set __anon_587 "len" (Obj.repr 2));
          __anon_587
        ) in (
          tempResult := __assign_586;
          __assign_586
        ) else let __assign_588 = let __anon_589 = HxAnon.create () in (
          ignore (HxAnon.set __anon_589 "op" (Obj.repr "="));
          ignore (HxAnon.set __anon_589 "len" (Obj.repr 1));
          __anon_589
        ) in (
          tempResult := __assign_588;
          __assign_588
        )
      )
      | 62 -> let tempBool5 = ref false in (
        ignore ((
          ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_590 = HxLexer.next (_gthis.lex) () in (
            _gthis.peeked1 <- __assign_590;
            __assign_590
          )) else ());
          let tempMaybeHxToken5 = _gthis.peeked1 in let _g3 = tempMaybeHxToken5.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
            | HxTokenKind.TOther __enum_param_591 -> __enum_param_591
            | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 62 then let __assign_592 = true in (
            tempBool5 := __assign_592;
            __assign_592
          ) else let __assign_593 = false in (
            tempBool5 := __assign_593;
            __assign_593
          ) else let __assign_594 = false in (
            tempBool5 := __assign_594;
            __assign_594
          )
        ));
        if !tempBool5 then let tempBool6 = ref false in (
          ignore ((
            ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_595 = HxLexer.next (_gthis.lex) () in (
              _gthis.peeked1 <- __assign_595;
              __assign_595
            )) else ());
            ignore (if _gthis.peeked2 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_596 = HxLexer.next (_gthis.lex) () in (
              _gthis.peeked2 <- __assign_596;
              __assign_596
            )) else ());
            let tempMaybeHxToken6 = _gthis.peeked2 in let _g3 = tempMaybeHxToken6.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
              | HxTokenKind.TOther __enum_param_597 -> __enum_param_597
              | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 62 then let __assign_598 = true in (
              tempBool6 := __assign_598;
              __assign_598
            ) else let __assign_599 = false in (
              tempBool6 := __assign_599;
              __assign_599
            ) else let __assign_600 = false in (
              tempBool6 := __assign_600;
              __assign_600
            )
          ));
          if !tempBool6 then let __assign_601 = let __anon_602 = HxAnon.create () in (
            ignore (HxAnon.set __anon_602 "op" (Obj.repr ">>>"));
            ignore (HxAnon.set __anon_602 "len" (Obj.repr 3));
            __anon_602
          ) in (
            tempResult := __assign_601;
            __assign_601
          ) else let __assign_603 = let __anon_604 = HxAnon.create () in (
            ignore (HxAnon.set __anon_604 "op" (Obj.repr ">>"));
            ignore (HxAnon.set __anon_604 "len" (Obj.repr 2));
            __anon_604
          ) in (
            tempResult := __assign_603;
            __assign_603
          )
        ) else let tempBool7 = ref false in (
          ignore ((
            ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_605 = HxLexer.next (_gthis.lex) () in (
              _gthis.peeked1 <- __assign_605;
              __assign_605
            )) else ());
            let tempMaybeHxToken7 = _gthis.peeked1 in let _g3 = tempMaybeHxToken7.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
              | HxTokenKind.TOther __enum_param_606 -> __enum_param_606
              | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 61 then let __assign_607 = true in (
              tempBool7 := __assign_607;
              __assign_607
            ) else let __assign_608 = false in (
              tempBool7 := __assign_608;
              __assign_608
            ) else let __assign_609 = false in (
              tempBool7 := __assign_609;
              __assign_609
            )
          ));
          if !tempBool7 then let __assign_610 = let __anon_611 = HxAnon.create () in (
            ignore (HxAnon.set __anon_611 "op" (Obj.repr ">="));
            ignore (HxAnon.set __anon_611 "len" (Obj.repr 2));
            __anon_611
          ) in (
            tempResult := __assign_610;
            __assign_610
          ) else let __assign_612 = let __anon_613 = HxAnon.create () in (
            ignore (HxAnon.set __anon_613 "op" (Obj.repr ">"));
            ignore (HxAnon.set __anon_613 "len" (Obj.repr 1));
            __anon_613
          ) in (
            tempResult := __assign_612;
            __assign_612
          )
        )
      )
      | 94 -> let __assign_614 = let __anon_615 = HxAnon.create () in (
        ignore (HxAnon.set __anon_615 "op" (Obj.repr "^"));
        ignore (HxAnon.set __anon_615 "len" (Obj.repr 1));
        __anon_615
      ) in (
        tempResult := __assign_614;
        __assign_614
      )
      | 124 -> let tempBool8 = ref false in (
        ignore ((
          ignore (if _gthis.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_616 = HxLexer.next (_gthis.lex) () in (
            _gthis.peeked1 <- __assign_616;
            __assign_616
          )) else ());
          let tempMaybeHxToken8 = _gthis.peeked1 in let _g3 = tempMaybeHxToken8.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
            | HxTokenKind.TOther __enum_param_617 -> __enum_param_617
            | _ -> failwith "Unexpected enum parameter" in let c2 = _g4 in if c2 = 124 then let __assign_618 = true in (
            tempBool8 := __assign_618;
            __assign_618
          ) else let __assign_619 = false in (
            tempBool8 := __assign_619;
            __assign_619
          ) else let __assign_620 = false in (
            tempBool8 := __assign_620;
            __assign_620
          )
        ));
        if !tempBool8 then let __assign_621 = let __anon_622 = HxAnon.create () in (
          ignore (HxAnon.set __anon_622 "op" (Obj.repr "||"));
          ignore (HxAnon.set __anon_622 "len" (Obj.repr 2));
          __anon_622
        ) in (
          tempResult := __assign_621;
          __assign_621
        ) else let __assign_623 = let __anon_624 = HxAnon.create () in (
          ignore (HxAnon.set __anon_624 "op" (Obj.repr "|"));
          ignore (HxAnon.set __anon_624 "len" (Obj.repr 1));
          __anon_624
        ) in (
          tempResult := __assign_623;
          __assign_623
        )
      )
      | _ -> let __assign_537 = HxRuntime.hx_null in (
        tempResult := __assign_537;
        __assign_537
      ) else let __assign_625 = HxRuntime.hx_null in (
      tempResult := __assign_625;
      __assign_625
    ));
    !tempResult
  )
) with
  | HxRuntime.Hx_return __ret_626 -> Obj.obj __ret_626

let consumeBinop = fun self (len : int) -> ignore (let _g = ref 0 in let _g1 = len in while !_g < _g1 do ignore ((
  ignore (let __old_627 = !_g in let __new_628 = HxInt.add __old_627 1 in (
    ignore (_g := __new_628);
    __old_627
  ));
  if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
    ignore (let __assign_629 = self.peeked1 in (
      self.cur <- __assign_629;
      __assign_629
    ));
    ignore (let __assign_630 = self.peeked2 in (
      self.peeked1 <- __assign_630;
      __assign_630
    ));
    let __assign_631 = Obj.magic (HxRuntime.hx_null) in (
      self.peeked2 <- __assign_631;
      __assign_631
    )
  )) else ignore (let __assign_632 = HxLexer.next (self.lex) () in (
    self.cur <- __assign_632;
    __assign_632
  ))
)) done)

let syncToStmtEnd = fun self () -> ignore (try (
  ignore (try while true do try ignore (let tempBool = ref false in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 10 then let __assign_736 = true in (
      tempBool := __assign_736;
      __assign_736
    ) else let __assign_737 = false in (
      tempBool := __assign_737;
      __assign_737
    ));
    let tempBool1 = ref false in (
      ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 7 then let __assign_738 = true in (
        tempBool1 := __assign_738;
        __assign_738
      ) else let __assign_739 = false in (
        tempBool1 := __assign_739;
        __assign_739
      ));
      let tempBool2 = ref false in (
        ignore (let _g = self.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 0 then let __assign_740 = true in (
          tempBool2 := __assign_740;
          __assign_740
        ) else let __assign_741 = false in (
          tempBool2 := __assign_741;
          __assign_741
        ));
        ignore (if not (not (!tempBool) && not (!tempBool1) && not (!tempBool2)) then raise (HxRuntime.Hx_break) else ());
        let _g = self.cur.kind in match _g with
          | HxTokenKind.TLBrace -> raise (HxRuntime.Hx_return (Obj.repr ()))
          | HxTokenKind.TLParen -> ignore ((
            ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_746 = self.peeked1 in (
                self.cur <- __assign_746;
                __assign_746
              ));
              ignore (let __assign_747 = self.peeked2 in (
                self.peeked1 <- __assign_747;
                __assign_747
              ));
              let __assign_748 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_748;
                __assign_748
              )
            )) else ignore (let __assign_749 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_749;
              __assign_749
            )));
            skipBalancedParens self ()
          ))
          | _ -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_742 = self.peeked1 in (
              self.cur <- __assign_742;
              __assign_742
            ));
            ignore (let __assign_743 = self.peeked2 in (
              self.peeked1 <- __assign_743;
              __assign_743
            ));
            let __assign_744 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_744;
              __assign_744
            )
          )) else ignore (let __assign_745 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_745;
            __assign_745
          )))
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let tempBool3 = ref false in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 10 then let __assign_750 = true in (
      tempBool3 := __assign_750;
      __assign_750
    ) else let __assign_751 = false in (
      tempBool3 := __assign_751;
      __assign_751
    ));
    if !tempBool3 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_752 = self.peeked1 in (
        self.cur <- __assign_752;
        __assign_752
      ));
      ignore (let __assign_753 = self.peeked2 in (
        self.peeked1 <- __assign_753;
        __assign_753
      ));
      let __assign_754 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_754;
        __assign_754
      )
    )) else ignore (let __assign_755 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_755;
      __assign_755
    ))) else ()
  )
) with
  | HxRuntime.Hx_return __ret_756 -> Obj.obj __ret_756)

let keywordText = fun k -> let tempResult = ref "" in (
  ignore (match k with
    | HxKeyword.KPackage -> let __assign_1051 = "package" in (
      tempResult := __assign_1051;
      __assign_1051
    )
    | HxKeyword.KImport -> let __assign_1052 = "import" in (
      tempResult := __assign_1052;
      __assign_1052
    )
    | HxKeyword.KUsing -> let __assign_1053 = "using" in (
      tempResult := __assign_1053;
      __assign_1053
    )
    | HxKeyword.KAs -> let __assign_1054 = "as" in (
      tempResult := __assign_1054;
      __assign_1054
    )
    | HxKeyword.KClass -> let __assign_1055 = "class" in (
      tempResult := __assign_1055;
      __assign_1055
    )
    | HxKeyword.KPublic -> let __assign_1056 = "public" in (
      tempResult := __assign_1056;
      __assign_1056
    )
    | HxKeyword.KPrivate -> let __assign_1057 = "private" in (
      tempResult := __assign_1057;
      __assign_1057
    )
    | HxKeyword.KStatic -> let __assign_1058 = "static" in (
      tempResult := __assign_1058;
      __assign_1058
    )
    | HxKeyword.KFunction -> let __assign_1059 = "function" in (
      tempResult := __assign_1059;
      __assign_1059
    )
    | HxKeyword.KReturn -> let __assign_1060 = "return" in (
      tempResult := __assign_1060;
      __assign_1060
    )
    | HxKeyword.KIf -> let __assign_1061 = "if" in (
      tempResult := __assign_1061;
      __assign_1061
    )
    | HxKeyword.KElse -> let __assign_1062 = "else" in (
      tempResult := __assign_1062;
      __assign_1062
    )
    | HxKeyword.KSwitch -> let __assign_1063 = "switch" in (
      tempResult := __assign_1063;
      __assign_1063
    )
    | HxKeyword.KCase -> let __assign_1064 = "case" in (
      tempResult := __assign_1064;
      __assign_1064
    )
    | HxKeyword.KDefault -> let __assign_1065 = "default" in (
      tempResult := __assign_1065;
      __assign_1065
    )
    | HxKeyword.KTry -> let __assign_1066 = "try" in (
      tempResult := __assign_1066;
      __assign_1066
    )
    | HxKeyword.KCatch -> let __assign_1067 = "catch" in (
      tempResult := __assign_1067;
      __assign_1067
    )
    | HxKeyword.KThrow -> let __assign_1068 = "throw" in (
      tempResult := __assign_1068;
      __assign_1068
    )
    | HxKeyword.KWhile -> let __assign_1069 = "while" in (
      tempResult := __assign_1069;
      __assign_1069
    )
    | HxKeyword.KDo -> let __assign_1070 = "do" in (
      tempResult := __assign_1070;
      __assign_1070
    )
    | HxKeyword.KFor -> let __assign_1071 = "for" in (
      tempResult := __assign_1071;
      __assign_1071
    )
    | HxKeyword.KBreak -> let __assign_1072 = "break" in (
      tempResult := __assign_1072;
      __assign_1072
    )
    | HxKeyword.KContinue -> let __assign_1073 = "continue" in (
      tempResult := __assign_1073;
      __assign_1073
    )
    | HxKeyword.KUntyped -> let __assign_1074 = "untyped" in (
      tempResult := __assign_1074;
      __assign_1074
    )
    | HxKeyword.KCast -> let __assign_1075 = "cast" in (
      tempResult := __assign_1075;
      __assign_1075
    )
    | HxKeyword.KVar -> let __assign_1076 = "var" in (
      tempResult := __assign_1076;
      __assign_1076
    )
    | HxKeyword.KFinal -> let __assign_1077 = "final" in (
      tempResult := __assign_1077;
      __assign_1077
    )
    | HxKeyword.KNew -> let __assign_1078 = "new" in (
      tempResult := __assign_1078;
      __assign_1078
    )
    | HxKeyword.KThis -> let __assign_1079 = "this" in (
      tempResult := __assign_1079;
      __assign_1079
    )
    | HxKeyword.KSuper -> let __assign_1080 = "super" in (
      tempResult := __assign_1080;
      __assign_1080
    )
    | HxKeyword.KTrue -> let __assign_1081 = "true" in (
      tempResult := __assign_1081;
      __assign_1081
    )
    | HxKeyword.KFalse -> let __assign_1082 = "false" in (
      tempResult := __assign_1082;
      __assign_1082
    )
    | HxKeyword.KNull -> let __assign_1083 = "null" in (
      tempResult := __assign_1083;
      __assign_1083
    ));
  !tempResult
)

let readTypeHintText = fun self (stop : unit -> bool) -> let parts = HxArray.create () in (
  ignore (try while not (stop ()) do try ignore (let _g = self.cur.kind in match _g with
    | HxTokenKind.TEof -> raise (HxRuntime.Hx_break)
    | HxTokenKind.TIdent _p0 -> ignore (let _g2 = _p0 in let name = _g2 in (
      ignore (HxArray.push parts name);
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_114 = self.peeked1 in (
          self.cur <- __assign_114;
          __assign_114
        ));
        ignore (let __assign_115 = self.peeked2 in (
          self.peeked1 <- __assign_115;
          __assign_115
        ));
        let __assign_116 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_116;
          __assign_116
        )
      )) else ignore (let __assign_117 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_117;
        __assign_117
      ))
    ))
    | HxTokenKind.TString _p0 -> ignore (let _g2 = _p0 in let s = _g2 in (
      ignore (HxArray.push parts (("\"" ^ HxString.toStdString s) ^ "\""));
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_118 = self.peeked1 in (
          self.cur <- __assign_118;
          __assign_118
        ));
        ignore (let __assign_119 = self.peeked2 in (
          self.peeked1 <- __assign_119;
          __assign_119
        ));
        let __assign_120 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_120;
          __assign_120
        )
      )) else ignore (let __assign_121 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_121;
        __assign_121
      ))
    ))
    | HxTokenKind.TInt _p0 -> ignore (let _g2 = _p0 in let v = _g2 in (
      ignore (HxArray.push parts (string_of_int v));
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_122 = self.peeked1 in (
          self.cur <- __assign_122;
          __assign_122
        ));
        ignore (let __assign_123 = self.peeked2 in (
          self.peeked1 <- __assign_123;
          __assign_123
        ));
        let __assign_124 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_124;
          __assign_124
        )
      )) else ignore (let __assign_125 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_125;
        __assign_125
      ))
    ))
    | HxTokenKind.TFloat _p0 -> ignore (let _g2 = _p0 in let v = _g2 in (
      ignore (HxArray.push parts (string_of_float v));
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_126 = self.peeked1 in (
          self.cur <- __assign_126;
          __assign_126
        ));
        ignore (let __assign_127 = self.peeked2 in (
          self.peeked1 <- __assign_127;
          __assign_127
        ));
        let __assign_128 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_128;
          __assign_128
        )
      )) else ignore (let __assign_129 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_129;
        __assign_129
      ))
    ))
    | HxTokenKind.TKeyword _p0 -> ignore (let _g2 = _p0 in let k = _g2 in (
      ignore (HxArray.push parts (keywordText k));
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_130 = self.peeked1 in (
          self.cur <- __assign_130;
          __assign_130
        ));
        ignore (let __assign_131 = self.peeked2 in (
          self.peeked1 <- __assign_131;
          __assign_131
        ));
        let __assign_132 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_132;
          __assign_132
        )
      )) else ignore (let __assign_133 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_133;
        __assign_133
      ))
    ))
    | HxTokenKind.TLBrace -> ignore ((
      ignore (HxArray.push parts "{");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_134 = self.peeked1 in (
          self.cur <- __assign_134;
          __assign_134
        ));
        ignore (let __assign_135 = self.peeked2 in (
          self.peeked1 <- __assign_135;
          __assign_135
        ));
        let __assign_136 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_136;
          __assign_136
        )
      )) else ignore (let __assign_137 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_137;
        __assign_137
      ))
    ))
    | HxTokenKind.TRBrace -> ignore ((
      ignore (HxArray.push parts "}");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_138 = self.peeked1 in (
          self.cur <- __assign_138;
          __assign_138
        ));
        ignore (let __assign_139 = self.peeked2 in (
          self.peeked1 <- __assign_139;
          __assign_139
        ));
        let __assign_140 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_140;
          __assign_140
        )
      )) else ignore (let __assign_141 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_141;
        __assign_141
      ))
    ))
    | HxTokenKind.TLParen -> ignore ((
      ignore (HxArray.push parts "(");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_142 = self.peeked1 in (
          self.cur <- __assign_142;
          __assign_142
        ));
        ignore (let __assign_143 = self.peeked2 in (
          self.peeked1 <- __assign_143;
          __assign_143
        ));
        let __assign_144 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_144;
          __assign_144
        )
      )) else ignore (let __assign_145 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_145;
        __assign_145
      ))
    ))
    | HxTokenKind.TRParen -> ignore ((
      ignore (HxArray.push parts ")");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_146 = self.peeked1 in (
          self.cur <- __assign_146;
          __assign_146
        ));
        ignore (let __assign_147 = self.peeked2 in (
          self.peeked1 <- __assign_147;
          __assign_147
        ));
        let __assign_148 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_148;
          __assign_148
        )
      )) else ignore (let __assign_149 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_149;
        __assign_149
      ))
    ))
    | HxTokenKind.TSemicolon -> ignore ((
      ignore (HxArray.push parts ";");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_150 = self.peeked1 in (
          self.cur <- __assign_150;
          __assign_150
        ));
        ignore (let __assign_151 = self.peeked2 in (
          self.peeked1 <- __assign_151;
          __assign_151
        ));
        let __assign_152 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_152;
          __assign_152
        )
      )) else ignore (let __assign_153 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_153;
        __assign_153
      ))
    ))
    | HxTokenKind.TColon -> ignore ((
      ignore (HxArray.push parts ":");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_154 = self.peeked1 in (
          self.cur <- __assign_154;
          __assign_154
        ));
        ignore (let __assign_155 = self.peeked2 in (
          self.peeked1 <- __assign_155;
          __assign_155
        ));
        let __assign_156 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_156;
          __assign_156
        )
      )) else ignore (let __assign_157 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_157;
        __assign_157
      ))
    ))
    | HxTokenKind.TDot -> ignore ((
      ignore (HxArray.push parts ".");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_158 = self.peeked1 in (
          self.cur <- __assign_158;
          __assign_158
        ));
        ignore (let __assign_159 = self.peeked2 in (
          self.peeked1 <- __assign_159;
          __assign_159
        ));
        let __assign_160 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_160;
          __assign_160
        )
      )) else ignore (let __assign_161 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_161;
        __assign_161
      ))
    ))
    | HxTokenKind.TComma -> ignore ((
      ignore (HxArray.push parts ",");
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_162 = self.peeked1 in (
          self.cur <- __assign_162;
          __assign_162
        ));
        ignore (let __assign_163 = self.peeked2 in (
          self.peeked1 <- __assign_163;
          __assign_163
        ));
        let __assign_164 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_164;
          __assign_164
        )
      )) else ignore (let __assign_165 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_165;
        __assign_165
      ))
    ))
    | HxTokenKind.TOther _p0 -> ignore (let _g2 = _p0 in let c = _g2 in (
      ignore (HxArray.push parts (HxString.fromCharCode c));
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_166 = self.peeked1 in (
          self.cur <- __assign_166;
          __assign_166
        ));
        ignore (let __assign_167 = self.peeked2 in (
          self.peeked1 <- __assign_167;
          __assign_167
        ));
        let __assign_168 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_168;
          __assign_168
        )
      )) else ignore (let __assign_169 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_169;
        __assign_169
      ))
    ))) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  HxArray.join parts "" (fun x -> x)
)

let binopPrec = fun op -> let tempResult = ref 0 in (
  ignore (match op with
    | "!=" | "==" -> let __assign_1097 = 4 in (
      tempResult := __assign_1097;
      __assign_1097
    )
    | "%" | "*" | "/" -> let __assign_1098 = 7 in (
      tempResult := __assign_1098;
      __assign_1098
    )
    | "&" -> let __assign_1099 = 3 in (
      tempResult := __assign_1099;
      __assign_1099
    )
    | "&&" -> let __assign_1100 = 3 in (
      tempResult := __assign_1100;
      __assign_1100
    )
    | "+" | "-" -> let __assign_1101 = 6 in (
      tempResult := __assign_1101;
      __assign_1101
    )
    | "=" -> let __assign_1102 = 1 in (
      tempResult := __assign_1102;
      __assign_1102
    )
    | "<" | "<=" | ">" | ">=" -> let __assign_1103 = 5 in (
      tempResult := __assign_1103;
      __assign_1103
    )
    | "<<" | ">>" | ">>>" -> let __assign_1104 = 5 in (
      tempResult := __assign_1104;
      __assign_1104
    )
    | "?" -> let __assign_1105 = 2 in (
      tempResult := __assign_1105;
      __assign_1105
    )
    | "^" -> let __assign_1106 = 3 in (
      tempResult := __assign_1106;
      __assign_1106
    )
    | "|" -> let __assign_1107 = 2 in (
      tempResult := __assign_1107;
      __assign_1107
    )
    | "||" -> let __assign_1108 = 2 in (
      tempResult := __assign_1108;
      __assign_1108
    )
    | _ -> let __assign_1096 = 0 in (
      tempResult := __assign_1096;
      __assign_1096
    ));
  !tempResult
)

let isRightAssoc = fun op -> HxString.equals op "="

let rec parsePrimaryExpr = fun self () -> let _gthis = self in let tempResult = ref (Obj.magic ()) in (
  ignore (let _g = self.cur.kind in match _g with
    | HxTokenKind.TIdent _p0 -> let _g2 = _p0 in let name = _g2 in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_175 = self.peeked1 in (
          self.cur <- __assign_175;
          __assign_175
        ));
        ignore (let __assign_176 = self.peeked2 in (
          self.peeked1 <- __assign_176;
          __assign_176
        ));
        let __assign_177 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_177;
          __assign_177
        )
      )) else ignore (let __assign_178 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_178;
        __assign_178
      )));
      let __assign_179 = HxExpr.EIdent name in (
        tempResult := __assign_179;
        __assign_179
      )
    )
    | HxTokenKind.TString _p0 -> let _g2 = _p0 in let s = _g2 in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_180 = self.peeked1 in (
          self.cur <- __assign_180;
          __assign_180
        ));
        ignore (let __assign_181 = self.peeked2 in (
          self.peeked1 <- __assign_181;
          __assign_181
        ));
        let __assign_182 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_182;
          __assign_182
        )
      )) else ignore (let __assign_183 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_183;
        __assign_183
      )));
      let __assign_184 = HxExpr.EString s in (
        tempResult := __assign_184;
        __assign_184
      )
    )
    | HxTokenKind.TInt _p0 -> let _g2 = _p0 in let v = _g2 in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_185 = self.peeked1 in (
          self.cur <- __assign_185;
          __assign_185
        ));
        ignore (let __assign_186 = self.peeked2 in (
          self.peeked1 <- __assign_186;
          __assign_186
        ));
        let __assign_187 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_187;
          __assign_187
        )
      )) else ignore (let __assign_188 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_188;
        __assign_188
      )));
      let __assign_189 = HxExpr.EInt v in (
        tempResult := __assign_189;
        __assign_189
      )
    )
    | HxTokenKind.TFloat _p0 -> let _g2 = _p0 in let v = _g2 in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_190 = self.peeked1 in (
          self.cur <- __assign_190;
          __assign_190
        ));
        ignore (let __assign_191 = self.peeked2 in (
          self.peeked1 <- __assign_191;
          __assign_191
        ));
        let __assign_192 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_192;
          __assign_192
        )
      )) else ignore (let __assign_193 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_193;
        __assign_193
      )));
      let __assign_194 = HxExpr.EFloat v in (
        tempResult := __assign_194;
        __assign_194
      )
    )
    | HxTokenKind.TKeyword _p0 -> let _g2 = _p0 in let k = _g2 in if k = HxKeyword.KNull then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_195 = self.peeked1 in (
          self.cur <- __assign_195;
          __assign_195
        ));
        ignore (let __assign_196 = self.peeked2 in (
          self.peeked1 <- __assign_196;
          __assign_196
        ));
        let __assign_197 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_197;
          __assign_197
        )
      )) else ignore (let __assign_198 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_198;
        __assign_198
      )));
      let __assign_199 = HxExpr.ENull in (
        tempResult := __assign_199;
        __assign_199
      )
    ) else if k = HxKeyword.KTrue then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_200 = self.peeked1 in (
          self.cur <- __assign_200;
          __assign_200
        ));
        ignore (let __assign_201 = self.peeked2 in (
          self.peeked1 <- __assign_201;
          __assign_201
        ));
        let __assign_202 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_202;
          __assign_202
        )
      )) else ignore (let __assign_203 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_203;
        __assign_203
      )));
      let __assign_204 = HxExpr.EBool true in (
        tempResult := __assign_204;
        __assign_204
      )
    ) else if k = HxKeyword.KFalse then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_205 = self.peeked1 in (
          self.cur <- __assign_205;
          __assign_205
        ));
        ignore (let __assign_206 = self.peeked2 in (
          self.peeked1 <- __assign_206;
          __assign_206
        ));
        let __assign_207 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_207;
          __assign_207
        )
      )) else ignore (let __assign_208 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_208;
        __assign_208
      )));
      let __assign_209 = HxExpr.EBool false in (
        tempResult := __assign_209;
        __assign_209
      )
    ) else if k = HxKeyword.KThis then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_210 = self.peeked1 in (
          self.cur <- __assign_210;
          __assign_210
        ));
        ignore (let __assign_211 = self.peeked2 in (
          self.peeked1 <- __assign_211;
          __assign_211
        ));
        let __assign_212 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_212;
          __assign_212
        )
      )) else ignore (let __assign_213 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_213;
        __assign_213
      )));
      let __assign_214 = HxExpr.EThis in (
        tempResult := __assign_214;
        __assign_214
      )
    ) else if k = HxKeyword.KSuper then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_215 = self.peeked1 in (
          self.cur <- __assign_215;
          __assign_215
        ));
        ignore (let __assign_216 = self.peeked2 in (
          self.peeked1 <- __assign_216;
          __assign_216
        ));
        let __assign_217 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_217;
          __assign_217
        )
      )) else ignore (let __assign_218 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_218;
        __assign_218
      )));
      let __assign_219 = HxExpr.ESuper in (
        tempResult := __assign_219;
        __assign_219
      )
    ) else if k = HxKeyword.KNew then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_220 = self.peeked1 in (
          self.cur <- __assign_220;
          __assign_220
        ));
        ignore (let __assign_221 = self.peeked2 in (
          self.peeked1 <- __assign_221;
          __assign_221
        ));
        let __assign_222 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_222;
          __assign_222
        )
      )) else ignore (let __assign_223 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_223;
        __assign_223
      )));
      let typePath = readDottedPath self () in let tempBool = ref false in (
        ignore (let _g3 = self.cur.kind in if (match _g3 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 8 then let __assign_224 = true in (
          tempBool := __assign_224;
          __assign_224
        ) else let __assign_225 = false in (
          tempBool := __assign_225;
          __assign_225
        ));
        if not (!tempBool) then let __assign_226 = HxExpr.ENew (typePath, (let __arr_227 = HxArray.create () in __arr_227)) in (
          tempResult := __assign_226;
          __assign_226
        ) else (
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_228 = self.peeked1 in (
              self.cur <- __assign_228;
              __assign_228
            ));
            ignore (let __assign_229 = self.peeked2 in (
              self.peeked1 <- __assign_229;
              __assign_229
            ));
            let __assign_230 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_230;
              __assign_230
            )
          )) else ignore (let __assign_231 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_231;
            __assign_231
          )));
          let args = HxArray.create () in let tempBool1 = ref false in (
            ignore (let _g3 = self.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_232 = true in (
              tempBool1 := __assign_232;
              __assign_232
            ) else let __assign_233 = false in (
              tempBool1 := __assign_233;
              __assign_233
            ));
            if !tempBool1 then (
              ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_234 = self.peeked1 in (
                  self.cur <- __assign_234;
                  __assign_234
                ));
                ignore (let __assign_235 = self.peeked2 in (
                  self.peeked1 <- __assign_235;
                  __assign_235
                ));
                let __assign_236 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_236;
                  __assign_236
                )
              )) else ignore (let __assign_237 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_237;
                __assign_237
              )));
              let __assign_238 = HxExpr.ENew (typePath, args) in (
                tempResult := __assign_238;
                __assign_238
              )
            ) else (
              ignore (try while true do try ignore (let arg = parseExpr self (fun () -> let tempLeft = ref false in (
                ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 13 then let __assign_239 = true in (
                  tempLeft := __assign_239;
                  __assign_239
                ) else let __assign_240 = false in (
                  tempLeft := __assign_240;
                  __assign_240
                ));
                let tempRight = ref false in (
                  ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 9 then let __assign_241 = true in (
                    tempRight := __assign_241;
                    __assign_241
                  ) else let __assign_242 = false in (
                    tempRight := __assign_242;
                    __assign_242
                  ));
                  let tempRight1 = ref false in (
                    ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                      | HxTokenKind.TEof -> 0
                      | HxTokenKind.TIdent _ -> 1
                      | HxTokenKind.TString _ -> 2
                      | HxTokenKind.TInt _ -> 3
                      | HxTokenKind.TFloat _ -> 4
                      | HxTokenKind.TKeyword _ -> 5
                      | HxTokenKind.TLBrace -> 6
                      | HxTokenKind.TRBrace -> 7
                      | HxTokenKind.TLParen -> 8
                      | HxTokenKind.TRParen -> 9
                      | HxTokenKind.TSemicolon -> 10
                      | HxTokenKind.TColon -> 11
                      | HxTokenKind.TDot -> 12
                      | HxTokenKind.TComma -> 13
                      | HxTokenKind.TOther _ -> 14) = 0 then let __assign_243 = true in (
                      tempRight1 := __assign_243;
                      __assign_243
                    ) else let __assign_244 = false in (
                      tempRight1 := __assign_244;
                      __assign_244
                    ));
                    !tempLeft || !tempRight || !tempRight1
                  )
                )
              )) in (
                ignore (HxArray.push args arg);
                let tempBool2 = ref false in (
                  ignore (let _g3 = self.cur.kind in if (match _g3 with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 13 then let __assign_245 = true in (
                    tempBool2 := __assign_245;
                    __assign_245
                  ) else let __assign_246 = false in (
                    tempBool2 := __assign_246;
                    __assign_246
                  ));
                  ignore (if !tempBool2 then ignore ((
                    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                      ignore (let __assign_247 = self.peeked1 in (
                        self.cur <- __assign_247;
                        __assign_247
                      ));
                      ignore (let __assign_248 = self.peeked2 in (
                        self.peeked1 <- __assign_248;
                        __assign_248
                      ));
                      let __assign_249 = Obj.magic (HxRuntime.hx_null) in (
                        self.peeked2 <- __assign_249;
                        __assign_249
                      )
                    )) else ignore (let __assign_250 = HxLexer.next (self.lex) () in (
                      self.cur <- __assign_250;
                      __assign_250
                    )));
                    raise (HxRuntime.Hx_continue)
                  )) else ());
                  ignore (expect self (HxTokenKind.TRParen) "')'");
                  raise (HxRuntime.Hx_break)
                )
              )) with
                | HxRuntime.Hx_continue -> () done with
                | HxRuntime.Hx_break -> ());
              let __assign_251 = HxExpr.ENew (typePath, args) in (
                tempResult := __assign_251;
                __assign_251
              )
            )
          )
        )
      )
    ) else let raw = keywordText k in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_252 = self.peeked1 in (
          self.cur <- __assign_252;
          __assign_252
        ));
        ignore (let __assign_253 = self.peeked2 in (
          self.peeked1 <- __assign_253;
          __assign_253
        ));
        let __assign_254 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_254;
          __assign_254
        )
      )) else ignore (let __assign_255 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_255;
        __assign_255
      )));
      let __assign_256 = HxExpr.EUnsupported raw in (
        tempResult := __assign_256;
        __assign_256
      )
    )
    | HxTokenKind.TLBrace -> let __assign_257 = parseAnonExpr self () in (
      tempResult := __assign_257;
      __assign_257
    )
    | HxTokenKind.TLParen -> (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_258 = self.peeked1 in (
          self.cur <- __assign_258;
          __assign_258
        ));
        ignore (let __assign_259 = self.peeked2 in (
          self.peeked1 <- __assign_259;
          __assign_259
        ));
        let __assign_260 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_260;
          __assign_260
        )
      )) else ignore (let __assign_261 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_261;
        __assign_261
      )));
      let inner = parseExpr self (fun () -> let tempLeft1 = ref false in (
        ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 9 then let __assign_262 = true in (
          tempLeft1 := __assign_262;
          __assign_262
        ) else let __assign_263 = false in (
          tempLeft1 := __assign_263;
          __assign_263
        ));
        let tempRight2 = ref false in (
          ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 0 then let __assign_264 = true in (
            tempRight2 := __assign_264;
            __assign_264
          ) else let __assign_265 = false in (
            tempRight2 := __assign_265;
            __assign_265
          ));
          !tempLeft1 || !tempRight2
        )
      )) in let tempBool3 = ref false in (
        ignore (let _g2 = self.cur.kind in if (match _g2 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 9 then let __assign_266 = true in (
          tempBool3 := __assign_266;
          __assign_266
        ) else let __assign_267 = false in (
          tempBool3 := __assign_267;
          __assign_267
        ));
        ignore (if not (!tempBool3) then ignore (try while true do try ignore (let tempBool4 = ref false in (
          ignore (let _g2 = self.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 9 then let __assign_268 = true in (
            tempBool4 := __assign_268;
            __assign_268
          ) else let __assign_269 = false in (
            tempBool4 := __assign_269;
            __assign_269
          ));
          let tempBool5 = ref false in (
            ignore (let _g2 = self.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 0 then let __assign_270 = true in (
              tempBool5 := __assign_270;
              __assign_270
            ) else let __assign_271 = false in (
              tempBool5 := __assign_271;
              __assign_271
            ));
            ignore (if not (not (!tempBool4) && not (!tempBool5)) then raise (HxRuntime.Hx_break) else ());
            if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_272 = self.peeked1 in (
                self.cur <- __assign_272;
                __assign_272
              ));
              ignore (let __assign_273 = self.peeked2 in (
                self.peeked1 <- __assign_273;
                __assign_273
              ));
              let __assign_274 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_274;
                __assign_274
              )
            )) else ignore (let __assign_275 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_275;
              __assign_275
            ))
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ()) else ());
        let tempBool6 = ref false in (
          ignore (let _g2 = self.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 9 then let __assign_276 = true in (
            tempBool6 := __assign_276;
            __assign_276
          ) else let __assign_277 = false in (
            tempBool6 := __assign_277;
            __assign_277
          ));
          ignore (if !tempBool6 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_278 = self.peeked1 in (
              self.cur <- __assign_278;
              __assign_278
            ));
            ignore (let __assign_279 = self.peeked2 in (
              self.peeked1 <- __assign_279;
              __assign_279
            ));
            let __assign_280 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_280;
              __assign_280
            )
          )) else ignore (let __assign_281 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_281;
            __assign_281
          ))) else ());
          let __assign_282 = inner in (
            tempResult := __assign_282;
            __assign_282
          )
        )
      )
    )
    | HxTokenKind.TOther _p0 -> let _g2 = _p0 in let c = _g2 in if c = 91 then let __assign_283 = parseArrayDeclExpr self () in (
      tempResult := __assign_283;
      __assign_283
    ) else let c2 = _g2 in let raw = HxString.fromCharCode c2 in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_284 = self.peeked1 in (
          self.cur <- __assign_284;
          __assign_284
        ));
        ignore (let __assign_285 = self.peeked2 in (
          self.peeked1 <- __assign_285;
          __assign_285
        ));
        let __assign_286 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_286;
          __assign_286
        )
      )) else ignore (let __assign_287 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_287;
        __assign_287
      )));
      let __assign_288 = HxExpr.EUnsupported raw in (
        tempResult := __assign_288;
        __assign_288
      )
    )
    | _ -> let raw = HxRuntime.dynamic_toStdString (Obj.repr (self.cur.kind)) in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_170 = self.peeked1 in (
          self.cur <- __assign_170;
          __assign_170
        ));
        ignore (let __assign_171 = self.peeked2 in (
          self.peeked1 <- __assign_171;
          __assign_171
        ));
        let __assign_172 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_172;
          __assign_172
        )
      )) else ignore (let __assign_173 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_173;
        __assign_173
      )));
      let __assign_174 = HxExpr.EUnsupported raw in (
        tempResult := __assign_174;
        __assign_174
      )
    ));
  !tempResult
)
and parseArrayDeclExpr = fun self () -> try let _gthis = self in let tempBool = ref false in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
    | HxTokenKind.TOther __enum_param_289 -> __enum_param_289
    | _ -> failwith "Unexpected enum parameter" in if _g2 = 91 then let __assign_290 = true in (
    tempBool := __assign_290;
    __assign_290
  ) else let __assign_291 = false in (
    tempBool := __assign_291;
    __assign_291
  ) else let __assign_292 = false in (
    tempBool := __assign_292;
    __assign_292
  ));
  ignore (if not (!tempBool) then raise (HxRuntime.Hx_return (Obj.repr (HxExpr.EArrayDecl (let __arr_293 = HxArray.create () in __arr_293)))) else ());
  ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
    ignore (let __assign_294 = self.peeked1 in (
      self.cur <- __assign_294;
      __assign_294
    ));
    ignore (let __assign_295 = self.peeked2 in (
      self.peeked1 <- __assign_295;
      __assign_295
    ));
    let __assign_296 = Obj.magic (HxRuntime.hx_null) in (
      self.peeked2 <- __assign_296;
      __assign_296
    )
  )) else ignore (let __assign_297 = HxLexer.next (self.lex) () in (
    self.cur <- __assign_297;
    __assign_297
  )));
  let values = HxArray.create () in let tempBool1 = ref false in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
      | HxTokenKind.TOther __enum_param_298 -> __enum_param_298
      | _ -> failwith "Unexpected enum parameter" in if _g2 = 93 then let __assign_299 = true in (
      tempBool1 := __assign_299;
      __assign_299
    ) else let __assign_300 = false in (
      tempBool1 := __assign_300;
      __assign_300
    ) else let __assign_301 = false in (
      tempBool1 := __assign_301;
      __assign_301
    ));
    ignore (if !tempBool1 then ignore ((
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_302 = self.peeked1 in (
          self.cur <- __assign_302;
          __assign_302
        ));
        ignore (let __assign_303 = self.peeked2 in (
          self.peeked1 <- __assign_303;
          __assign_303
        ));
        let __assign_304 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_304;
          __assign_304
        )
      )) else ignore (let __assign_305 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_305;
        __assign_305
      )));
      raise (HxRuntime.Hx_return (Obj.repr (HxExpr.EArrayDecl values)))
    )) else ());
    ignore (try while true do try ignore (let tempBool2 = ref false in (
      ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 0 then let __assign_306 = true in (
        tempBool2 := __assign_306;
        __assign_306
      ) else let __assign_307 = false in (
        tempBool2 := __assign_307;
        __assign_307
      ));
      ignore (if not (not (!tempBool2)) then raise (HxRuntime.Hx_break) else ());
      let tempBool3 = ref false in (
        ignore (let _g = self.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
          | HxTokenKind.TOther __enum_param_308 -> __enum_param_308
          | _ -> failwith "Unexpected enum parameter" in if _g2 = 93 then let __assign_309 = true in (
          tempBool3 := __assign_309;
          __assign_309
        ) else let __assign_310 = false in (
          tempBool3 := __assign_310;
          __assign_310
        ) else let __assign_311 = false in (
          tempBool3 := __assign_311;
          __assign_311
        ));
        ignore (if !tempBool3 then ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_312 = self.peeked1 in (
              self.cur <- __assign_312;
              __assign_312
            ));
            ignore (let __assign_313 = self.peeked2 in (
              self.peeked1 <- __assign_313;
              __assign_313
            ));
            let __assign_314 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_314;
              __assign_314
            )
          )) else ignore (let __assign_315 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_315;
            __assign_315
          )));
          raise (HxRuntime.Hx_break)
        )) else ());
        let value = parseExpr self (fun () -> let tempLeft = ref false in (
          ignore (let _g = _gthis.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 13 then let __assign_316 = true in (
            tempLeft := __assign_316;
            __assign_316
          ) else let __assign_317 = false in (
            tempLeft := __assign_317;
            __assign_317
          ));
          let tempRight = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
              | HxTokenKind.TOther __enum_param_318 -> __enum_param_318
              | _ -> failwith "Unexpected enum parameter" in if _g2 = 93 then let __assign_319 = true in (
              tempRight := __assign_319;
              __assign_319
            ) else let __assign_320 = false in (
              tempRight := __assign_320;
              __assign_320
            ) else let __assign_321 = false in (
              tempRight := __assign_321;
              __assign_321
            ));
            let tempRight1 = ref false in (
              ignore (let _g = _gthis.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_322 = true in (
                tempRight1 := __assign_322;
                __assign_322
              ) else let __assign_323 = false in (
                tempRight1 := __assign_323;
                __assign_323
              ));
              !tempLeft || !tempRight || !tempRight1
            )
          )
        )) in (
          ignore (HxArray.push values value);
          let tempBool4 = ref false in (
            ignore (let _g = self.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 13 then let __assign_324 = true in (
              tempBool4 := __assign_324;
              __assign_324
            ) else let __assign_325 = false in (
              tempBool4 := __assign_325;
              __assign_325
            ));
            ignore (if !tempBool4 then ignore ((
              ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_326 = self.peeked1 in (
                  self.cur <- __assign_326;
                  __assign_326
                ));
                ignore (let __assign_327 = self.peeked2 in (
                  self.peeked1 <- __assign_327;
                  __assign_327
                ));
                let __assign_328 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_328;
                  __assign_328
                )
              )) else ignore (let __assign_329 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_329;
                __assign_329
              )));
              raise (HxRuntime.Hx_continue)
            )) else ());
            let tempBool5 = ref false in (
              ignore (let _g = self.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
                | HxTokenKind.TOther __enum_param_330 -> __enum_param_330
                | _ -> failwith "Unexpected enum parameter" in if _g2 = 93 then let __assign_331 = true in (
                tempBool5 := __assign_331;
                __assign_331
              ) else let __assign_332 = false in (
                tempBool5 := __assign_332;
                __assign_332
              ) else let __assign_333 = false in (
                tempBool5 := __assign_333;
                __assign_333
              ));
              ignore (if !tempBool5 then ignore ((
                ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                  ignore (let __assign_334 = self.peeked1 in (
                    self.cur <- __assign_334;
                    __assign_334
                  ));
                  ignore (let __assign_335 = self.peeked2 in (
                    self.peeked1 <- __assign_335;
                    __assign_335
                  ));
                  let __assign_336 = Obj.magic (HxRuntime.hx_null) in (
                    self.peeked2 <- __assign_336;
                    __assign_336
                  )
                )) else ignore (let __assign_337 = HxLexer.next (self.lex) () in (
                  self.cur <- __assign_337;
                  __assign_337
                )));
                raise (HxRuntime.Hx_break)
              )) else ());
              ignore (try while true do try ignore (let tempBool6 = ref false in (
                ignore (let _g = self.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 13 then let __assign_338 = true in (
                  tempBool6 := __assign_338;
                  __assign_338
                ) else let __assign_339 = false in (
                  tempBool6 := __assign_339;
                  __assign_339
                ));
                let tempBool7 = ref false in (
                  ignore (let _g = self.cur.kind in if (match _g with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
                    | HxTokenKind.TOther __enum_param_340 -> __enum_param_340
                    | _ -> failwith "Unexpected enum parameter" in if _g2 = 93 then let __assign_341 = true in (
                    tempBool7 := __assign_341;
                    __assign_341
                  ) else let __assign_342 = false in (
                    tempBool7 := __assign_342;
                    __assign_342
                  ) else let __assign_343 = false in (
                    tempBool7 := __assign_343;
                    __assign_343
                  ));
                  let tempBool8 = ref false in (
                    ignore (let _g = self.cur.kind in if (match _g with
                      | HxTokenKind.TEof -> 0
                      | HxTokenKind.TIdent _ -> 1
                      | HxTokenKind.TString _ -> 2
                      | HxTokenKind.TInt _ -> 3
                      | HxTokenKind.TFloat _ -> 4
                      | HxTokenKind.TKeyword _ -> 5
                      | HxTokenKind.TLBrace -> 6
                      | HxTokenKind.TRBrace -> 7
                      | HxTokenKind.TLParen -> 8
                      | HxTokenKind.TRParen -> 9
                      | HxTokenKind.TSemicolon -> 10
                      | HxTokenKind.TColon -> 11
                      | HxTokenKind.TDot -> 12
                      | HxTokenKind.TComma -> 13
                      | HxTokenKind.TOther _ -> 14) = 0 then let __assign_344 = true in (
                      tempBool8 := __assign_344;
                      __assign_344
                    ) else let __assign_345 = false in (
                      tempBool8 := __assign_345;
                      __assign_345
                    ));
                    ignore (if not (not (!tempBool6) && not (!tempBool7) && not (!tempBool8)) then raise (HxRuntime.Hx_break) else ());
                    if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                      ignore (let __assign_346 = self.peeked1 in (
                        self.cur <- __assign_346;
                        __assign_346
                      ));
                      ignore (let __assign_347 = self.peeked2 in (
                        self.peeked1 <- __assign_347;
                        __assign_347
                      ));
                      let __assign_348 = Obj.magic (HxRuntime.hx_null) in (
                        self.peeked2 <- __assign_348;
                        __assign_348
                      )
                    )) else ignore (let __assign_349 = HxLexer.next (self.lex) () in (
                      self.cur <- __assign_349;
                      __assign_349
                    ))
                  )
                )
              )) with
                | HxRuntime.Hx_continue -> () done with
                | HxRuntime.Hx_break -> ());
              let tempBool9 = ref false in (
                ignore (let _g = self.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 13 then let __assign_350 = true in (
                  tempBool9 := __assign_350;
                  __assign_350
                ) else let __assign_351 = false in (
                  tempBool9 := __assign_351;
                  __assign_351
                ));
                ignore (if !tempBool9 then ignore ((
                  ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                    ignore (let __assign_352 = self.peeked1 in (
                      self.cur <- __assign_352;
                      __assign_352
                    ));
                    ignore (let __assign_353 = self.peeked2 in (
                      self.peeked1 <- __assign_353;
                      __assign_353
                    ));
                    let __assign_354 = Obj.magic (HxRuntime.hx_null) in (
                      self.peeked2 <- __assign_354;
                      __assign_354
                    )
                  )) else ignore (let __assign_355 = HxLexer.next (self.lex) () in (
                    self.cur <- __assign_355;
                    __assign_355
                  )));
                  raise (HxRuntime.Hx_continue)
                )) else ());
                let tempBool10 = ref false in (
                  ignore (let _g = self.cur.kind in if (match _g with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 14 then let _g2 = match _g with
                    | HxTokenKind.TOther __enum_param_356 -> __enum_param_356
                    | _ -> failwith "Unexpected enum parameter" in if _g2 = 93 then let __assign_357 = true in (
                    tempBool10 := __assign_357;
                    __assign_357
                  ) else let __assign_358 = false in (
                    tempBool10 := __assign_358;
                    __assign_358
                  ) else let __assign_359 = false in (
                    tempBool10 := __assign_359;
                    __assign_359
                  ));
                  if !tempBool10 then ignore ((
                    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                      ignore (let __assign_360 = self.peeked1 in (
                        self.cur <- __assign_360;
                        __assign_360
                      ));
                      ignore (let __assign_361 = self.peeked2 in (
                        self.peeked1 <- __assign_361;
                        __assign_361
                      ));
                      let __assign_362 = Obj.magic (HxRuntime.hx_null) in (
                        self.peeked2 <- __assign_362;
                        __assign_362
                      )
                    )) else ignore (let __assign_363 = HxLexer.next (self.lex) () in (
                      self.cur <- __assign_363;
                      __assign_363
                    )));
                    raise (HxRuntime.Hx_break)
                  )) else ()
                )
              )
            )
          )
        )
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxExpr.EArrayDecl values
  )
) with
  | HxRuntime.Hx_return __ret_364 -> Obj.obj __ret_364
and parseAnonExpr = fun self () -> try let _gthis = self in let names = HxArray.create () in let values = HxArray.create () in (
  ignore (expect self (HxTokenKind.TLBrace) "'{'");
  let tempBool = ref false in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 7 then let __assign_365 = true in (
      tempBool := __assign_365;
      __assign_365
    ) else let __assign_366 = false in (
      tempBool := __assign_366;
      __assign_366
    ));
    ignore (if !tempBool then ignore ((
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_367 = self.peeked1 in (
          self.cur <- __assign_367;
          __assign_367
        ));
        ignore (let __assign_368 = self.peeked2 in (
          self.peeked1 <- __assign_368;
          __assign_368
        ));
        let __assign_369 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_369;
          __assign_369
        )
      )) else ignore (let __assign_370 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_370;
        __assign_370
      )));
      raise (HxRuntime.Hx_return (Obj.repr (HxExpr.EAnon (names, values))))
    )) else ());
    ignore (try while true do try ignore (let tempBool1 = ref false in (
      ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 0 then let __assign_371 = true in (
        tempBool1 := __assign_371;
        __assign_371
      ) else let __assign_372 = false in (
        tempBool1 := __assign_372;
        __assign_372
      ));
      ignore (if not (not (!tempBool1)) then raise (HxRuntime.Hx_break) else ());
      let tempBool2 = ref false in (
        ignore (let _g = self.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 7 then let __assign_373 = true in (
          tempBool2 := __assign_373;
          __assign_373
        ) else let __assign_374 = false in (
          tempBool2 := __assign_374;
          __assign_374
        ));
        ignore (if !tempBool2 then ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_375 = self.peeked1 in (
              self.cur <- __assign_375;
              __assign_375
            ));
            ignore (let __assign_376 = self.peeked2 in (
              self.peeked1 <- __assign_376;
              __assign_376
            ));
            let __assign_377 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_377;
              __assign_377
            )
          )) else ignore (let __assign_378 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_378;
            __assign_378
          )));
          raise (HxRuntime.Hx_break)
        )) else ());
        let name = readIdent self "field name" in (
          ignore (expect self (HxTokenKind.TColon) "':'");
          let value = parseExpr self (fun () -> let tempLeft = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 13 then let __assign_379 = true in (
              tempLeft := __assign_379;
              __assign_379
            ) else let __assign_380 = false in (
              tempLeft := __assign_380;
              __assign_380
            ));
            let tempRight = ref false in (
              ignore (let _g = _gthis.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 7 then let __assign_381 = true in (
                tempRight := __assign_381;
                __assign_381
              ) else let __assign_382 = false in (
                tempRight := __assign_382;
                __assign_382
              ));
              let tempRight1 = ref false in (
                ignore (let _g = _gthis.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_383 = true in (
                  tempRight1 := __assign_383;
                  __assign_383
                ) else let __assign_384 = false in (
                  tempRight1 := __assign_384;
                  __assign_384
                ));
                !tempLeft || !tempRight || !tempRight1
              )
            )
          )) in (
            ignore (HxArray.push names name);
            ignore (HxArray.push values value);
            let tempBool3 = ref false in (
              ignore (let _g = self.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 13 then let __assign_385 = true in (
                tempBool3 := __assign_385;
                __assign_385
              ) else let __assign_386 = false in (
                tempBool3 := __assign_386;
                __assign_386
              ));
              ignore (if !tempBool3 then ignore ((
                ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                  ignore (let __assign_387 = self.peeked1 in (
                    self.cur <- __assign_387;
                    __assign_387
                  ));
                  ignore (let __assign_388 = self.peeked2 in (
                    self.peeked1 <- __assign_388;
                    __assign_388
                  ));
                  let __assign_389 = Obj.magic (HxRuntime.hx_null) in (
                    self.peeked2 <- __assign_389;
                    __assign_389
                  )
                )) else ignore (let __assign_390 = HxLexer.next (self.lex) () in (
                  self.cur <- __assign_390;
                  __assign_390
                )));
                raise (HxRuntime.Hx_continue)
              )) else ());
              let tempBool4 = ref false in (
                ignore (let _g = self.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 7 then let __assign_391 = true in (
                  tempBool4 := __assign_391;
                  __assign_391
                ) else let __assign_392 = false in (
                  tempBool4 := __assign_392;
                  __assign_392
                ));
                ignore (if !tempBool4 then ignore ((
                  ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                    ignore (let __assign_393 = self.peeked1 in (
                      self.cur <- __assign_393;
                      __assign_393
                    ));
                    ignore (let __assign_394 = self.peeked2 in (
                      self.peeked1 <- __assign_394;
                      __assign_394
                    ));
                    let __assign_395 = Obj.magic (HxRuntime.hx_null) in (
                      self.peeked2 <- __assign_395;
                      __assign_395
                    )
                  )) else ignore (let __assign_396 = HxLexer.next (self.lex) () in (
                    self.cur <- __assign_396;
                    __assign_396
                  )));
                  raise (HxRuntime.Hx_break)
                )) else ());
                ignore (try while true do try ignore (let tempBool5 = ref false in (
                  ignore (let _g = self.cur.kind in if (match _g with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 13 then let __assign_397 = true in (
                    tempBool5 := __assign_397;
                    __assign_397
                  ) else let __assign_398 = false in (
                    tempBool5 := __assign_398;
                    __assign_398
                  ));
                  let tempBool6 = ref false in (
                    ignore (let _g = self.cur.kind in if (match _g with
                      | HxTokenKind.TEof -> 0
                      | HxTokenKind.TIdent _ -> 1
                      | HxTokenKind.TString _ -> 2
                      | HxTokenKind.TInt _ -> 3
                      | HxTokenKind.TFloat _ -> 4
                      | HxTokenKind.TKeyword _ -> 5
                      | HxTokenKind.TLBrace -> 6
                      | HxTokenKind.TRBrace -> 7
                      | HxTokenKind.TLParen -> 8
                      | HxTokenKind.TRParen -> 9
                      | HxTokenKind.TSemicolon -> 10
                      | HxTokenKind.TColon -> 11
                      | HxTokenKind.TDot -> 12
                      | HxTokenKind.TComma -> 13
                      | HxTokenKind.TOther _ -> 14) = 7 then let __assign_399 = true in (
                      tempBool6 := __assign_399;
                      __assign_399
                    ) else let __assign_400 = false in (
                      tempBool6 := __assign_400;
                      __assign_400
                    ));
                    let tempBool7 = ref false in (
                      ignore (let _g = self.cur.kind in if (match _g with
                        | HxTokenKind.TEof -> 0
                        | HxTokenKind.TIdent _ -> 1
                        | HxTokenKind.TString _ -> 2
                        | HxTokenKind.TInt _ -> 3
                        | HxTokenKind.TFloat _ -> 4
                        | HxTokenKind.TKeyword _ -> 5
                        | HxTokenKind.TLBrace -> 6
                        | HxTokenKind.TRBrace -> 7
                        | HxTokenKind.TLParen -> 8
                        | HxTokenKind.TRParen -> 9
                        | HxTokenKind.TSemicolon -> 10
                        | HxTokenKind.TColon -> 11
                        | HxTokenKind.TDot -> 12
                        | HxTokenKind.TComma -> 13
                        | HxTokenKind.TOther _ -> 14) = 0 then let __assign_401 = true in (
                        tempBool7 := __assign_401;
                        __assign_401
                      ) else let __assign_402 = false in (
                        tempBool7 := __assign_402;
                        __assign_402
                      ));
                      ignore (if not (not (!tempBool5) && not (!tempBool6) && not (!tempBool7)) then raise (HxRuntime.Hx_break) else ());
                      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                        ignore (let __assign_403 = self.peeked1 in (
                          self.cur <- __assign_403;
                          __assign_403
                        ));
                        ignore (let __assign_404 = self.peeked2 in (
                          self.peeked1 <- __assign_404;
                          __assign_404
                        ));
                        let __assign_405 = Obj.magic (HxRuntime.hx_null) in (
                          self.peeked2 <- __assign_405;
                          __assign_405
                        )
                      )) else ignore (let __assign_406 = HxLexer.next (self.lex) () in (
                        self.cur <- __assign_406;
                        __assign_406
                      ))
                    )
                  )
                )) with
                  | HxRuntime.Hx_continue -> () done with
                  | HxRuntime.Hx_break -> ());
                let tempBool8 = ref false in (
                  ignore (let _g = self.cur.kind in if (match _g with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 13 then let __assign_407 = true in (
                    tempBool8 := __assign_407;
                    __assign_407
                  ) else let __assign_408 = false in (
                    tempBool8 := __assign_408;
                    __assign_408
                  ));
                  ignore (if !tempBool8 then ignore ((
                    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                      ignore (let __assign_409 = self.peeked1 in (
                        self.cur <- __assign_409;
                        __assign_409
                      ));
                      ignore (let __assign_410 = self.peeked2 in (
                        self.peeked1 <- __assign_410;
                        __assign_410
                      ));
                      let __assign_411 = Obj.magic (HxRuntime.hx_null) in (
                        self.peeked2 <- __assign_411;
                        __assign_411
                      )
                    )) else ignore (let __assign_412 = HxLexer.next (self.lex) () in (
                      self.cur <- __assign_412;
                      __assign_412
                    )));
                    raise (HxRuntime.Hx_continue)
                  )) else ());
                  let tempBool9 = ref false in (
                    ignore (let _g = self.cur.kind in if (match _g with
                      | HxTokenKind.TEof -> 0
                      | HxTokenKind.TIdent _ -> 1
                      | HxTokenKind.TString _ -> 2
                      | HxTokenKind.TInt _ -> 3
                      | HxTokenKind.TFloat _ -> 4
                      | HxTokenKind.TKeyword _ -> 5
                      | HxTokenKind.TLBrace -> 6
                      | HxTokenKind.TRBrace -> 7
                      | HxTokenKind.TLParen -> 8
                      | HxTokenKind.TRParen -> 9
                      | HxTokenKind.TSemicolon -> 10
                      | HxTokenKind.TColon -> 11
                      | HxTokenKind.TDot -> 12
                      | HxTokenKind.TComma -> 13
                      | HxTokenKind.TOther _ -> 14) = 7 then let __assign_413 = true in (
                      tempBool9 := __assign_413;
                      __assign_413
                    ) else let __assign_414 = false in (
                      tempBool9 := __assign_414;
                      __assign_414
                    ));
                    if !tempBool9 then ignore ((
                      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                        ignore (let __assign_415 = self.peeked1 in (
                          self.cur <- __assign_415;
                          __assign_415
                        ));
                        ignore (let __assign_416 = self.peeked2 in (
                          self.peeked1 <- __assign_416;
                          __assign_416
                        ));
                        let __assign_417 = Obj.magic (HxRuntime.hx_null) in (
                          self.peeked2 <- __assign_417;
                          __assign_417
                        )
                      )) else ignore (let __assign_418 = HxLexer.next (self.lex) () in (
                        self.cur <- __assign_418;
                        __assign_418
                      )));
                      raise (HxRuntime.Hx_break)
                    )) else ()
                  )
                )
              )
            )
          )
        )
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxExpr.EAnon (names, values)
  )
) with
  | HxRuntime.Hx_return __ret_419 -> Obj.obj __ret_419
and parsePostfixExpr = fun self (stop : unit -> bool) -> let _gthis = self in let e = ref (parsePrimaryExpr self ()) in (
  ignore (try while not (stop ()) do try ignore (let _g = self.cur.kind in match _g with
    | HxTokenKind.TLParen -> ignore ((
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_420 = self.peeked1 in (
          self.cur <- __assign_420;
          __assign_420
        ));
        ignore (let __assign_421 = self.peeked2 in (
          self.peeked1 <- __assign_421;
          __assign_421
        ));
        let __assign_422 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_422;
          __assign_422
        )
      )) else ignore (let __assign_423 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_423;
        __assign_423
      )));
      let args = HxArray.create () in let tempBool = ref false in (
        ignore (let _g2 = self.cur.kind in if (match _g2 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 9 then let __assign_424 = true in (
          tempBool := __assign_424;
          __assign_424
        ) else let __assign_425 = false in (
          tempBool := __assign_425;
          __assign_425
        ));
        ignore (if !tempBool then ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_426 = self.peeked1 in (
              self.cur <- __assign_426;
              __assign_426
            ));
            ignore (let __assign_427 = self.peeked2 in (
              self.peeked1 <- __assign_427;
              __assign_427
            ));
            let __assign_428 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_428;
              __assign_428
            )
          )) else ignore (let __assign_429 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_429;
            __assign_429
          )));
          ignore (let __assign_430 = HxExpr.ECall (!e, args) in (
            e := __assign_430;
            __assign_430
          ));
          raise (HxRuntime.Hx_continue)
        )) else ());
        ignore (try while true do try ignore (let arg = parseExpr self (fun () -> let tempLeft = ref false in (
          ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 13 then let __assign_431 = true in (
            tempLeft := __assign_431;
            __assign_431
          ) else let __assign_432 = false in (
            tempLeft := __assign_432;
            __assign_432
          ));
          let tempRight = ref false in (
            ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_433 = true in (
              tempRight := __assign_433;
              __assign_433
            ) else let __assign_434 = false in (
              tempRight := __assign_434;
              __assign_434
            ));
            let tempRight1 = ref false in (
              ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_435 = true in (
                tempRight1 := __assign_435;
                __assign_435
              ) else let __assign_436 = false in (
                tempRight1 := __assign_436;
                __assign_436
              ));
              !tempLeft || !tempRight || !tempRight1
            )
          )
        )) in (
          ignore (HxArray.push args arg);
          let tempBool1 = ref false in (
            ignore (let _g2 = self.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 13 then let __assign_437 = true in (
              tempBool1 := __assign_437;
              __assign_437
            ) else let __assign_438 = false in (
              tempBool1 := __assign_438;
              __assign_438
            ));
            ignore (if !tempBool1 then ignore ((
              ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_439 = self.peeked1 in (
                  self.cur <- __assign_439;
                  __assign_439
                ));
                ignore (let __assign_440 = self.peeked2 in (
                  self.peeked1 <- __assign_440;
                  __assign_440
                ));
                let __assign_441 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_441;
                  __assign_441
                )
              )) else ignore (let __assign_442 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_442;
                __assign_442
              )));
              raise (HxRuntime.Hx_continue)
            )) else ());
            ignore (expect self (HxTokenKind.TRParen) "')'");
            raise (HxRuntime.Hx_break)
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let __assign_443 = HxExpr.ECall (!e, args) in (
          e := __assign_443;
          __assign_443
        )
      )
    ))
    | HxTokenKind.TDot -> ignore ((
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_444 = self.peeked1 in (
          self.cur <- __assign_444;
          __assign_444
        ));
        ignore (let __assign_445 = self.peeked2 in (
          self.peeked1 <- __assign_445;
          __assign_445
        ));
        let __assign_446 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_446;
          __assign_446
        )
      )) else ignore (let __assign_447 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_447;
        __assign_447
      )));
      let field = readIdent self "field name" in let __assign_448 = HxExpr.EField (!e, field) in (
        e := __assign_448;
        __assign_448
      )
    ))
    | HxTokenKind.TOther _p0 -> ignore (let _g2 = _p0 in let c = _g2 in if c = 91 then ignore ((
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_449 = self.peeked1 in (
          self.cur <- __assign_449;
          __assign_449
        ));
        ignore (let __assign_450 = self.peeked2 in (
          self.peeked1 <- __assign_450;
          __assign_450
        ));
        let __assign_451 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_451;
          __assign_451
        )
      )) else ignore (let __assign_452 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_452;
        __assign_452
      )));
      let index = parseExpr self (fun () -> let tempLeft1 = ref false in (
        ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = _p0 in if _g4 = 93 then let __assign_453 = true in (
          tempLeft1 := __assign_453;
          __assign_453
        ) else let __assign_454 = false in (
          tempLeft1 := __assign_454;
          __assign_454
        ) else let __assign_455 = false in (
          tempLeft1 := __assign_455;
          __assign_455
        ));
        let tempRight2 = ref false in (
          ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 0 then let __assign_456 = true in (
            tempRight2 := __assign_456;
            __assign_456
          ) else let __assign_457 = false in (
            tempRight2 := __assign_457;
            __assign_457
          ));
          !tempLeft1 || !tempRight2
        )
      )) in let tempBool2 = ref false in (
        ignore (let _g3 = self.cur.kind in if (match _g3 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = _p0 in if _g4 = 93 then let __assign_458 = true in (
          tempBool2 := __assign_458;
          __assign_458
        ) else let __assign_459 = false in (
          tempBool2 := __assign_459;
          __assign_459
        ) else let __assign_460 = false in (
          tempBool2 := __assign_460;
          __assign_460
        ));
        ignore (if not (!tempBool2) then ignore (try while true do try ignore (let tempBool3 = ref false in (
          ignore (let _g3 = self.cur.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = _p0 in if _g4 = 93 then let __assign_461 = true in (
            tempBool3 := __assign_461;
            __assign_461
          ) else let __assign_462 = false in (
            tempBool3 := __assign_462;
            __assign_462
          ) else let __assign_463 = false in (
            tempBool3 := __assign_463;
            __assign_463
          ));
          let tempBool4 = ref false in (
            ignore (let _g3 = self.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 0 then let __assign_464 = true in (
              tempBool4 := __assign_464;
              __assign_464
            ) else let __assign_465 = false in (
              tempBool4 := __assign_465;
              __assign_465
            ));
            ignore (if not (not (!tempBool3) && not (!tempBool4)) then raise (HxRuntime.Hx_break) else ());
            if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_466 = self.peeked1 in (
                self.cur <- __assign_466;
                __assign_466
              ));
              ignore (let __assign_467 = self.peeked2 in (
                self.peeked1 <- __assign_467;
                __assign_467
              ));
              let __assign_468 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_468;
                __assign_468
              )
            )) else ignore (let __assign_469 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_469;
              __assign_469
            ))
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ()) else ());
        let tempBool5 = ref false in (
          ignore (let _g3 = self.cur.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = _p0 in if _g4 = 93 then let __assign_470 = true in (
            tempBool5 := __assign_470;
            __assign_470
          ) else let __assign_471 = false in (
            tempBool5 := __assign_471;
            __assign_471
          ) else let __assign_472 = false in (
            tempBool5 := __assign_472;
            __assign_472
          ));
          ignore (if !tempBool5 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_473 = self.peeked1 in (
              self.cur <- __assign_473;
              __assign_473
            ));
            ignore (let __assign_474 = self.peeked2 in (
              self.peeked1 <- __assign_474;
              __assign_474
            ));
            let __assign_475 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_475;
              __assign_475
            )
          )) else ignore (let __assign_476 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_476;
            __assign_476
          ))) else ());
          let __assign_477 = HxExpr.EArrayAccess (!e, index) in (
            e := __assign_477;
            __assign_477
          )
        )
      )
    )) else raise (HxRuntime.Hx_break))
    | _ -> raise (HxRuntime.Hx_break)) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  !e
)
and parseUnaryExpr = fun self (stop : unit -> bool) -> let _gthis = self in let tempResult = ref (Obj.magic ()) in (
  ignore (let _g = self.cur.kind in match _g with
    | HxTokenKind.TKeyword _p0 -> let _g2 = _p0 in let k = _g2 in if k = HxKeyword.KCast then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_479 = self.peeked1 in (
          self.cur <- __assign_479;
          __assign_479
        ));
        ignore (let __assign_480 = self.peeked2 in (
          self.peeked1 <- __assign_480;
          __assign_480
        ));
        let __assign_481 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_481;
          __assign_481
        )
      )) else ignore (let __assign_482 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_482;
        __assign_482
      )));
      let tempBool = ref false in (
        ignore (let _g3 = self.cur.kind in if (match _g3 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 8 then let __assign_483 = true in (
          tempBool := __assign_483;
          __assign_483
        ) else let __assign_484 = false in (
          tempBool := __assign_484;
          __assign_484
        ));
        if !tempBool then (
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_485 = self.peeked1 in (
              self.cur <- __assign_485;
              __assign_485
            ));
            ignore (let __assign_486 = self.peeked2 in (
              self.peeked1 <- __assign_486;
              __assign_486
            ));
            let __assign_487 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_487;
              __assign_487
            )
          )) else ignore (let __assign_488 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_488;
            __assign_488
          )));
          let inner = parseExpr self (fun () -> let tempLeft = ref false in (
            ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 13 then let __assign_489 = true in (
              tempLeft := __assign_489;
              __assign_489
            ) else let __assign_490 = false in (
              tempLeft := __assign_490;
              __assign_490
            ));
            let tempRight = ref false in (
              ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 9 then let __assign_491 = true in (
                tempRight := __assign_491;
                __assign_491
              ) else let __assign_492 = false in (
                tempRight := __assign_492;
                __assign_492
              ));
              let tempRight1 = ref false in (
                ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_493 = true in (
                  tempRight1 := __assign_493;
                  __assign_493
                ) else let __assign_494 = false in (
                  tempRight1 := __assign_494;
                  __assign_494
                ));
                !tempLeft || !tempRight || !tempRight1
              )
            )
          )) in let hint = ref "" in let tempBool1 = ref false in (
            ignore (let _g3 = self.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 13 then let __assign_495 = true in (
              tempBool1 := __assign_495;
              __assign_495
            ) else let __assign_496 = false in (
              tempBool1 := __assign_496;
              __assign_496
            ));
            ignore (if !tempBool1 then ignore ((
              ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_497 = self.peeked1 in (
                  self.cur <- __assign_497;
                  __assign_497
                ));
                ignore (let __assign_498 = self.peeked2 in (
                  self.peeked1 <- __assign_498;
                  __assign_498
                ));
                let __assign_499 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_499;
                  __assign_499
                )
              )) else ignore (let __assign_500 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_500;
                __assign_500
              )));
              let __assign_501 = readTypeHintText self (fun () -> let tempLeft1 = ref false in (
                ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 9 then let __assign_502 = true in (
                  tempLeft1 := __assign_502;
                  __assign_502
                ) else let __assign_503 = false in (
                  tempLeft1 := __assign_503;
                  __assign_503
                ));
                let tempRight2 = ref false in (
                  ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 0 then let __assign_504 = true in (
                    tempRight2 := __assign_504;
                    __assign_504
                  ) else let __assign_505 = false in (
                    tempRight2 := __assign_505;
                    __assign_505
                  ));
                  !tempLeft1 || !tempRight2
                )
              )) in (
                hint := __assign_501;
                __assign_501
              )
            )) else ());
            let tempBool2 = ref false in (
              ignore (let _g3 = self.cur.kind in if (match _g3 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 9 then let __assign_506 = true in (
                tempBool2 := __assign_506;
                __assign_506
              ) else let __assign_507 = false in (
                tempBool2 := __assign_507;
                __assign_507
              ));
              ignore (if not (!tempBool2) then ignore (try while true do try ignore (let tempBool3 = ref false in (
                ignore (let _g3 = self.cur.kind in if (match _g3 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 9 then let __assign_508 = true in (
                  tempBool3 := __assign_508;
                  __assign_508
                ) else let __assign_509 = false in (
                  tempBool3 := __assign_509;
                  __assign_509
                ));
                let tempBool4 = ref false in (
                  ignore (let _g3 = self.cur.kind in if (match _g3 with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 0 then let __assign_510 = true in (
                    tempBool4 := __assign_510;
                    __assign_510
                  ) else let __assign_511 = false in (
                    tempBool4 := __assign_511;
                    __assign_511
                  ));
                  ignore (if not (not (!tempBool3) && not (!tempBool4)) then raise (HxRuntime.Hx_break) else ());
                  if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                    ignore (let __assign_512 = self.peeked1 in (
                      self.cur <- __assign_512;
                      __assign_512
                    ));
                    ignore (let __assign_513 = self.peeked2 in (
                      self.peeked1 <- __assign_513;
                      __assign_513
                    ));
                    let __assign_514 = Obj.magic (HxRuntime.hx_null) in (
                      self.peeked2 <- __assign_514;
                      __assign_514
                    )
                  )) else ignore (let __assign_515 = HxLexer.next (self.lex) () in (
                    self.cur <- __assign_515;
                    __assign_515
                  ))
                )
              )) with
                | HxRuntime.Hx_continue -> () done with
                | HxRuntime.Hx_break -> ()) else ());
              let tempBool5 = ref false in (
                ignore (let _g3 = self.cur.kind in if (match _g3 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 9 then let __assign_516 = true in (
                  tempBool5 := __assign_516;
                  __assign_516
                ) else let __assign_517 = false in (
                  tempBool5 := __assign_517;
                  __assign_517
                ));
                ignore (if !tempBool5 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                  ignore (let __assign_518 = self.peeked1 in (
                    self.cur <- __assign_518;
                    __assign_518
                  ));
                  ignore (let __assign_519 = self.peeked2 in (
                    self.peeked1 <- __assign_519;
                    __assign_519
                  ));
                  let __assign_520 = Obj.magic (HxRuntime.hx_null) in (
                    self.peeked2 <- __assign_520;
                    __assign_520
                  )
                )) else ignore (let __assign_521 = HxLexer.next (self.lex) () in (
                  self.cur <- __assign_521;
                  __assign_521
                ))) else ());
                let __assign_522 = HxExpr.ECast (inner, !hint) in (
                  tempResult := __assign_522;
                  __assign_522
                )
              )
            )
          )
        ) else let __assign_523 = HxExpr.ECast (parseUnaryExpr self stop, "") in (
          tempResult := __assign_523;
          __assign_523
        )
      )
    ) else let k2 = _g2 in if k2 = HxKeyword.KUntyped then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_524 = self.peeked1 in (
          self.cur <- __assign_524;
          __assign_524
        ));
        ignore (let __assign_525 = self.peeked2 in (
          self.peeked1 <- __assign_525;
          __assign_525
        ));
        let __assign_526 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_526;
          __assign_526
        )
      )) else ignore (let __assign_527 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_527;
        __assign_527
      )));
      let __assign_528 = HxExpr.EUntyped (parseUnaryExpr self stop) in (
        tempResult := __assign_528;
        __assign_528
      )
    ) else let __assign_529 = parsePostfixExpr self stop in (
      tempResult := __assign_529;
      __assign_529
    )
    | HxTokenKind.TOther _p0 -> let _g2 = _p0 in let c = _g2 in if c = 33 || c = 45 || c = 43 then let op = HxString.fromCharCode c in (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_530 = self.peeked1 in (
          self.cur <- __assign_530;
          __assign_530
        ));
        ignore (let __assign_531 = self.peeked2 in (
          self.peeked1 <- __assign_531;
          __assign_531
        ));
        let __assign_532 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_532;
          __assign_532
        )
      )) else ignore (let __assign_533 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_533;
        __assign_533
      )));
      let __assign_534 = HxExpr.EUnop (op, parseUnaryExpr self stop) in (
        tempResult := __assign_534;
        __assign_534
      )
    ) else let __assign_535 = parsePostfixExpr self stop in (
      tempResult := __assign_535;
      __assign_535
    )
    | _ -> let __assign_478 = parsePostfixExpr self stop in (
      tempResult := __assign_478;
      __assign_478
    ));
  !tempResult
)
and parseBinaryExpr = fun self (minPrec : int) (stop : unit -> bool) -> let left = ref (parseUnaryExpr self stop) in (
  ignore (try while true do try ignore ((
    ignore (if stop () then raise (HxRuntime.Hx_break) else ());
    let peekedOp = peekBinop self stop in (
      ignore (if peekedOp == Obj.magic (HxRuntime.hx_null) then raise (HxRuntime.Hx_break) else ());
      let op = Obj.obj (HxAnon.get peekedOp "op") in let prec = binopPrec op in (
        ignore (if prec < minPrec || prec = 0 then raise (HxRuntime.Hx_break) else ());
        ignore (consumeBinop self (Obj.obj (HxAnon.get peekedOp "len")));
        let tempNumber = ref 0 in (
          ignore (if isRightAssoc op then let __assign_633 = prec in (
            tempNumber := __assign_633;
            __assign_633
          ) else let __assign_634 = HxInt.add prec 1 in (
            tempNumber := __assign_634;
            __assign_634
          ));
          let nextMin = !tempNumber in let right = parseBinaryExpr self nextMin stop in let __assign_635 = HxExpr.EBinop (op, !left, right) in (
            left := __assign_635;
            __assign_635
          )
        )
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  !left
)
and parseExpr = fun self (stop : unit -> bool) -> try let _gthis = self in (
  ignore (if not (stop ()) then ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 1 then ignore (let _g2 = match _g with
    | HxTokenKind.TIdent __enum_param_636 -> __enum_param_636
    | _ -> failwith "Unexpected enum parameter" in let name = _g2 in let tempLeft = ref false in (
    ignore (let tempMaybeHxToken = ref (Obj.magic ()) in (
      ignore ((
        ignore (if self.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_637 = HxLexer.next (self.lex) () in (
          self.peeked1 <- __assign_637;
          __assign_637
        )) else ());
        let __assign_638 = self.peeked1 in (
          tempMaybeHxToken := __assign_638;
          __assign_638
        )
      ));
      let _g3 = (!tempMaybeHxToken).kind in if (match _g3 with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
        | HxTokenKind.TOther __enum_param_639 -> __enum_param_639
        | _ -> failwith "Unexpected enum parameter" in if _g4 = 45 then let __assign_640 = true in (
        tempLeft := __assign_640;
        __assign_640
      ) else let __assign_641 = false in (
        tempLeft := __assign_641;
        __assign_641
      ) else let __assign_642 = false in (
        tempLeft := __assign_642;
        __assign_642
      )
    ));
    let tempRight = ref false in (
      ignore (let tempMaybeHxToken1 = ref (Obj.magic ()) in (
        ignore ((
          ignore (if self.peeked1 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_643 = HxLexer.next (self.lex) () in (
            self.peeked1 <- __assign_643;
            __assign_643
          )) else ());
          ignore (if self.peeked2 == Obj.magic (HxRuntime.hx_null) then ignore (let __assign_644 = HxLexer.next (self.lex) () in (
            self.peeked2 <- __assign_644;
            __assign_644
          )) else ());
          let __assign_645 = self.peeked2 in (
            tempMaybeHxToken1 := __assign_645;
            __assign_645
          )
        ));
        let _g3 = (!tempMaybeHxToken1).kind in if (match _g3 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 14 then let _g4 = match _g3 with
          | HxTokenKind.TOther __enum_param_646 -> __enum_param_646
          | _ -> failwith "Unexpected enum parameter" in if _g4 = 62 then let __assign_647 = true in (
          tempRight := __assign_647;
          __assign_647
        ) else let __assign_648 = false in (
          tempRight := __assign_648;
          __assign_648
        ) else let __assign_649 = false in (
          tempRight := __assign_649;
          __assign_649
        )
      ));
      if !tempLeft && !tempRight then ignore ((
        ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_650 = self.peeked1 in (
            self.cur <- __assign_650;
            __assign_650
          ));
          ignore (let __assign_651 = self.peeked2 in (
            self.peeked1 <- __assign_651;
            __assign_651
          ));
          let __assign_652 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_652;
            __assign_652
          )
        )) else ignore (let __assign_653 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_653;
          __assign_653
        )));
        ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_654 = self.peeked1 in (
            self.cur <- __assign_654;
            __assign_654
          ));
          ignore (let __assign_655 = self.peeked2 in (
            self.peeked1 <- __assign_655;
            __assign_655
          ));
          let __assign_656 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_656;
            __assign_656
          )
        )) else ignore (let __assign_657 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_657;
          __assign_657
        )));
        ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_658 = self.peeked1 in (
            self.cur <- __assign_658;
            __assign_658
          ));
          ignore (let __assign_659 = self.peeked2 in (
            self.peeked1 <- __assign_659;
            __assign_659
          ));
          let __assign_660 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_660;
            __assign_660
          )
        )) else ignore (let __assign_661 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_661;
          __assign_661
        )));
        let body = parseExpr self stop in raise (HxRuntime.Hx_return (Obj.repr (HxExpr.ELambda ((let __arr_662 = HxArray.create () in (
          ignore (HxArray.push __arr_662 name);
          __arr_662
        )), body))))
      )) else ()
    )
  )) else ignore ()) else ());
  let e = ref (parseBinaryExpr self 1 stop) in (
    ignore (if not (stop ()) && acceptOtherChar self "?" then ignore (let thenExpr = parseExpr self (fun () -> let tempLeft1 = ref false in (
      ignore (let _g = _gthis.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 11 then let __assign_663 = true in (
        tempLeft1 := __assign_663;
        __assign_663
      ) else let __assign_664 = false in (
        tempLeft1 := __assign_664;
        __assign_664
      ));
      let tempRight1 = ref false in (
        ignore (let _g = _gthis.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 0 then let __assign_665 = true in (
          tempRight1 := __assign_665;
          __assign_665
        ) else let __assign_666 = false in (
          tempRight1 := __assign_666;
          __assign_666
        ));
        !tempLeft1 || !tempRight1
      )
    )) in (
      ignore (expect self (HxTokenKind.TColon) "':'");
      let elseExpr = parseExpr self stop in let tempRight2 = ref (Obj.magic ()) in (
        ignore (if (match !e with
          | HxExpr.ENull -> 0
          | HxExpr.EBool _ -> 1
          | HxExpr.EString _ -> 2
          | HxExpr.EInt _ -> 3
          | HxExpr.EFloat _ -> 4
          | HxExpr.EThis -> 5
          | HxExpr.ESuper -> 6
          | HxExpr.EIdent _ -> 7
          | HxExpr.EField (_, _) -> 8
          | HxExpr.ECall (_, _) -> 9
          | HxExpr.ELambda (_, _) -> 10
          | HxExpr.ENew (_, _) -> 11
          | HxExpr.EUnop (_, _) -> 12
          | HxExpr.EBinop (_, _, _) -> 13
          | HxExpr.ETernary (_, _, _) -> 14
          | HxExpr.EAnon (_, _) -> 15
          | HxExpr.EArrayDecl _ -> 16
          | HxExpr.EArrayAccess (_, _) -> 17
          | HxExpr.ECast (_, _) -> 18
          | HxExpr.EUntyped _ -> 19
          | HxExpr.EUnsupported _ -> 20) = 13 then let _g = match !e with
          | HxExpr.EBinop (__enum_param_667, _, _) -> __enum_param_667
          | _ -> failwith "Unexpected enum parameter" in let _g1 = match !e with
          | HxExpr.EBinop (_, __enum_param_668, _) -> __enum_param_668
          | _ -> failwith "Unexpected enum parameter" in let _g2 = match !e with
          | HxExpr.EBinop (_, _, __enum_param_669) -> __enum_param_669
          | _ -> failwith "Unexpected enum parameter" in if HxString.equals _g "=" then let left = _g1 in let right = _g2 in let __assign_670 = HxExpr.EBinop ("=", left, HxExpr.ETernary (right, thenExpr, elseExpr)) in (
          tempRight2 := __assign_670;
          __assign_670
        ) else let __assign_671 = HxExpr.ETernary (!e, thenExpr, elseExpr) in (
          tempRight2 := __assign_671;
          __assign_671
        ) else let __assign_672 = HxExpr.ETernary (!e, thenExpr, elseExpr) in (
          tempRight2 := __assign_672;
          __assign_672
        ));
        let __assign_673 = !tempRight2 in (
          e := __assign_673;
          __assign_673
        )
      )
    )) else ());
    !e
  )
) with
  | HxRuntime.Hx_return __ret_674 -> Obj.obj __ret_674

let parseVarStmt = fun self (pos : HxPos.t) -> let _gthis = self in let name = readIdent self "variable name" in let typeHint = ref "" in let tempBool = ref false in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 11 then let __assign_757 = true in (
    tempBool := __assign_757;
    __assign_757
  ) else let __assign_758 = false in (
    tempBool := __assign_758;
    __assign_758
  ));
  ignore (if !tempBool then ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_759 = self.peeked1 in (
        self.cur <- __assign_759;
        __assign_759
      ));
      ignore (let __assign_760 = self.peeked2 in (
        self.peeked1 <- __assign_760;
        __assign_760
      ));
      let __assign_761 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_761;
        __assign_761
      )
    )) else ignore (let __assign_762 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_762;
      __assign_762
    )));
    let __assign_763 = readTypeHintText self (fun () -> let tempLeft = ref false in (
      ignore (let _g = _gthis.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 10 then let __assign_764 = true in (
        tempLeft := __assign_764;
        __assign_764
      ) else let __assign_765 = false in (
        tempLeft := __assign_765;
        __assign_765
      ));
      let tempRight = ref false in (
        ignore (let _g = _gthis.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 0 then let __assign_766 = true in (
          tempRight := __assign_766;
          __assign_766
        ) else let __assign_767 = false in (
          tempRight := __assign_767;
          __assign_767
        ));
        !tempLeft || !tempRight || isOtherChar _gthis "="
      )
    )) in (
      typeHint := __assign_763;
      __assign_763
    )
  )) else ());
  let init = ref (Obj.obj (HxEnum.unbox_or_obj "HxExpr" (Obj.magic (HxRuntime.hx_null)))) in (
    ignore (if acceptOtherChar self "=" then ignore (let __assign_768 = HxEnum.box_if_needed "HxExpr" (Obj.repr (parseExpr self (fun () -> let tempLeft1 = ref false in (
      ignore (let _g = _gthis.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 10 then let __assign_769 = true in (
        tempLeft1 := __assign_769;
        __assign_769
      ) else let __assign_770 = false in (
        tempLeft1 := __assign_770;
        __assign_770
      ));
      let tempRight1 = ref false in (
        ignore (let _g = _gthis.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 0 then let __assign_771 = true in (
          tempRight1 := __assign_771;
          __assign_771
        ) else let __assign_772 = false in (
          tempRight1 := __assign_772;
          __assign_772
        ));
        let tempRight2 = ref false in (
          ignore (let _g = _gthis.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 7 then let __assign_773 = true in (
            tempRight2 := __assign_773;
            __assign_773
          ) else let __assign_774 = false in (
            tempRight2 := __assign_774;
            __assign_774
          ));
          !tempLeft1 || !tempRight1 || !tempRight2
        )
      )
    )))) in (
      init := __assign_768;
      __assign_768
    )) else ());
    ignore (syncToStmtEnd self ());
    HxStmt.SVar (name, !typeHint, !init, pos)
  )
)

let rec parseReturnStmt = fun self (pos : HxPos.t) -> try let _gthis = self in let tempBool = ref false in (
  ignore (let _g = self.cur.kind in if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 10 then let __assign_675 = true in (
    tempBool := __assign_675;
    __assign_675
  ) else let __assign_676 = false in (
    tempBool := __assign_676;
    __assign_676
  ));
  ignore (if !tempBool then ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_677 = self.peeked1 in (
        self.cur <- __assign_677;
        __assign_677
      ));
      ignore (let __assign_678 = self.peeked2 in (
        self.peeked1 <- __assign_678;
        __assign_678
      ));
      let __assign_679 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_679;
        __assign_679
      )
    )) else ignore (let __assign_680 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_680;
      __assign_680
    )));
    raise (HxRuntime.Hx_return (Obj.repr (HxStmt.SReturnVoid pos)))
  )) else ());
  let tempBool1 = ref false in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 7 then let __assign_681 = true in (
      tempBool1 := __assign_681;
      __assign_681
    ) else let __assign_682 = false in (
      tempBool1 := __assign_682;
      __assign_682
    ));
    ignore (if !tempBool1 then raise (HxRuntime.Hx_return (Obj.repr (HxStmt.SReturnVoid pos))) else ());
    let tempBool2 = ref false in (
      ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 5 then let _g2 = match _g with
        | HxTokenKind.TKeyword __enum_param_683 -> __enum_param_683
        | _ -> failwith "Unexpected enum parameter" in if (match _g2 with
        | HxKeyword.KPackage -> 0
        | HxKeyword.KImport -> 1
        | HxKeyword.KUsing -> 2
        | HxKeyword.KAs -> 3
        | HxKeyword.KClass -> 4
        | HxKeyword.KPublic -> 5
        | HxKeyword.KPrivate -> 6
        | HxKeyword.KStatic -> 7
        | HxKeyword.KFunction -> 8
        | HxKeyword.KReturn -> 9
        | HxKeyword.KIf -> 10
        | HxKeyword.KElse -> 11
        | HxKeyword.KSwitch -> 12
        | HxKeyword.KCase -> 13
        | HxKeyword.KDefault -> 14
        | HxKeyword.KTry -> 15
        | HxKeyword.KCatch -> 16
        | HxKeyword.KThrow -> 17
        | HxKeyword.KWhile -> 18
        | HxKeyword.KDo -> 19
        | HxKeyword.KFor -> 20
        | HxKeyword.KBreak -> 21
        | HxKeyword.KContinue -> 22
        | HxKeyword.KUntyped -> 23
        | HxKeyword.KCast -> 24
        | HxKeyword.KVar -> 25
        | HxKeyword.KFinal -> 26
        | HxKeyword.KNew -> 27
        | HxKeyword.KThis -> 28
        | HxKeyword.KSuper -> 29
        | HxKeyword.KTrue -> 30
        | HxKeyword.KFalse -> 31
        | HxKeyword.KNull -> 32) = 10 then let __assign_684 = true in (
        tempBool2 := __assign_684;
        __assign_684
      ) else let __assign_685 = false in (
        tempBool2 := __assign_685;
        __assign_685
      ) else let __assign_686 = false in (
        tempBool2 := __assign_686;
        __assign_686
      ));
      ignore (if !tempBool2 then ignore ((
        ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_687 = self.peeked1 in (
            self.cur <- __assign_687;
            __assign_687
          ));
          ignore (let __assign_688 = self.peeked2 in (
            self.peeked1 <- __assign_688;
            __assign_688
          ));
          let __assign_689 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_689;
            __assign_689
          )
        )) else ignore (let __assign_690 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_690;
          __assign_690
        )));
        ignore (expect self (HxTokenKind.TLParen) "'('");
        let cond = parseExpr self (fun () -> let tempLeft = ref false in (
          ignore (let _g = _gthis.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 9 then let __assign_691 = true in (
            tempLeft := __assign_691;
            __assign_691
          ) else let __assign_692 = false in (
            tempLeft := __assign_692;
            __assign_692
          ));
          let tempRight = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 0 then let __assign_693 = true in (
              tempRight := __assign_693;
              __assign_693
            ) else let __assign_694 = false in (
              tempRight := __assign_694;
              __assign_694
            ));
            !tempLeft || !tempRight
          )
        )) in let tempBool3 = ref false in (
          ignore (let _g = self.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 9 then let __assign_695 = true in (
            tempBool3 := __assign_695;
            __assign_695
          ) else let __assign_696 = false in (
            tempBool3 := __assign_696;
            __assign_696
          ));
          ignore (if not (!tempBool3) then ignore (try while true do try ignore (let tempBool4 = ref false in (
            ignore (let _g = self.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_697 = true in (
              tempBool4 := __assign_697;
              __assign_697
            ) else let __assign_698 = false in (
              tempBool4 := __assign_698;
              __assign_698
            ));
            let tempBool5 = ref false in (
              ignore (let _g = self.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_699 = true in (
                tempBool5 := __assign_699;
                __assign_699
              ) else let __assign_700 = false in (
                tempBool5 := __assign_700;
                __assign_700
              ));
              ignore (if not (not (!tempBool4) && not (!tempBool5)) then raise (HxRuntime.Hx_break) else ());
              if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_701 = self.peeked1 in (
                  self.cur <- __assign_701;
                  __assign_701
                ));
                ignore (let __assign_702 = self.peeked2 in (
                  self.peeked1 <- __assign_702;
                  __assign_702
                ));
                let __assign_703 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_703;
                  __assign_703
                )
              )) else ignore (let __assign_704 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_704;
                __assign_704
              ))
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ()) else ());
          let tempBool6 = ref false in (
            ignore (let _g = self.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_705 = true in (
              tempBool6 := __assign_705;
              __assign_705
            ) else let __assign_706 = false in (
              tempBool6 := __assign_706;
              __assign_706
            ));
            ignore (if !tempBool6 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_707 = self.peeked1 in (
                self.cur <- __assign_707;
                __assign_707
              ));
              ignore (let __assign_708 = self.peeked2 in (
                self.peeked1 <- __assign_708;
                __assign_708
              ));
              let __assign_709 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_709;
                __assign_709
              )
            )) else ignore (let __assign_710 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_710;
              __assign_710
            ))) else ());
            let ensureBranchReturns = fun s -> let tempResult = ref (Obj.magic ()) in (
              ignore (match s with
                | HxStmt.SBlock (_p0, _p1) -> (let _g = _p0 in let _g1 = _p1 in let stmts = _g in let p = _g1 in if HxArray.length stmts = 0 then let __assign_713 = HxStmt.SBlock ((let __arr_714 = HxArray.create () in (
                  ignore (HxArray.push __arr_714 (HxStmt.SReturnVoid p));
                  __arr_714
                )), p) in (
                  tempResult := __assign_713;
                  __assign_713
                ) else let last = HxArray.get stmts (HxInt.sub (HxArray.length stmts) 1) in match last with
                  | HxStmt.SReturnVoid _p0 -> (
                    ignore _p0;
                    let __assign_716 = s in (
                      tempResult := __assign_716;
                      __assign_716
                    )
                  )
                  | HxStmt.SReturn (_p0, _p1) -> (
                    ignore _p0;
                    ignore _p1;
                    let __assign_717 = s in (
                      tempResult := __assign_717;
                      __assign_717
                    )
                  )
                  | HxStmt.SExpr (_p0, _p1) -> let _g2 = _p0 in let _g3 = _p1 in let e = _g2 in let lp = _g3 in let copy = HxArray.copy stmts in (
                    ignore (let __assign_718 = HxStmt.SReturn (e, lp) in HxArray.set copy (HxInt.sub (HxArray.length copy) 1) __assign_718);
                    let __assign_719 = HxStmt.SBlock (copy, p) in (
                      tempResult := __assign_719;
                      __assign_719
                    )
                  )
                  | _ -> let copy = HxArray.copy stmts in (
                    ignore (HxArray.push copy (HxStmt.SReturnVoid p));
                    let __assign_715 = HxStmt.SBlock (copy, p) in (
                      tempResult := __assign_715;
                      __assign_715
                    )
                  ))
                | HxStmt.SReturnVoid _p0 -> (
                  ignore _p0;
                  let __assign_720 = s in (
                    tempResult := __assign_720;
                    __assign_720
                  )
                )
                | HxStmt.SReturn (_p0, _p1) -> (
                  ignore _p0;
                  ignore _p1;
                  let __assign_721 = s in (
                    tempResult := __assign_721;
                    __assign_721
                  )
                )
                | HxStmt.SExpr (_p0, _p1) -> let _g = _p0 in let _g1 = _p1 in let e = _g in let p = _g1 in let __assign_722 = HxStmt.SReturn (e, p) in (
                  tempResult := __assign_722;
                  __assign_722
                )
                | _ -> let __assign_711 = HxStmt.SBlock ((let __arr_712 = HxArray.create () in (
                  ignore (HxArray.push __arr_712 s);
                  ignore (HxArray.push __arr_712 (HxStmt.SReturnVoid pos));
                  __arr_712
                )), pos) in (
                  tempResult := __assign_711;
                  __assign_711
                ));
              !tempResult
            ) in let thenBranch = ensureBranchReturns (parseStmt self (fun () -> let tempResult1 = ref false in (
              ignore (let _g = _gthis.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_723 = true in (
                tempResult1 := __assign_723;
                __assign_723
              ) else let __assign_724 = false in (
                tempResult1 := __assign_724;
                __assign_724
              ));
              !tempResult1
            ))) in (
              ignore (if not (acceptKeyword self (HxKeyword.KElse)) then ignore (let elseBranch = HxEnum.box_if_needed "HxStmt" (Obj.repr (HxStmt.SReturnVoid pos)) in raise (HxRuntime.Hx_return (Obj.repr (HxStmt.SIf (cond, thenBranch, elseBranch, pos))))) else ());
              let elseBranch = HxEnum.box_if_needed "HxStmt" (Obj.repr (ensureBranchReturns (parseStmt self (fun () -> let tempResult2 = ref false in (
                ignore (let _g = _gthis.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_725 = true in (
                  tempResult2 := __assign_725;
                  __assign_725
                ) else let __assign_726 = false in (
                  tempResult2 := __assign_726;
                  __assign_726
                ));
                !tempResult2
              ))))) in raise (HxRuntime.Hx_return (Obj.repr (HxStmt.SIf (cond, thenBranch, elseBranch, pos))))
            )
          )
        )
      )) else ());
      ignore (if HxString.length (self.capturedReturnStringLiteral) = 0 then ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 2 then ignore (let _g2 = match _g with
        | HxTokenKind.TString __enum_param_727 -> __enum_param_727
        | _ -> failwith "Unexpected enum parameter" in let s = _g2 in let __assign_728 = s in (
        self.capturedReturnStringLiteral <- __assign_728;
        __assign_728
      )) else ignore ()) else ());
      let expr = parseExpr self (fun () -> let tempLeft1 = ref false in (
        ignore (let _g = _gthis.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 10 then let __assign_729 = true in (
          tempLeft1 := __assign_729;
          __assign_729
        ) else let __assign_730 = false in (
          tempLeft1 := __assign_730;
          __assign_730
        ));
        let tempRight1 = ref false in (
          ignore (let _g = _gthis.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 7 then let __assign_731 = true in (
            tempRight1 := __assign_731;
            __assign_731
          ) else let __assign_732 = false in (
            tempRight1 := __assign_732;
            __assign_732
          ));
          let tempRight2 = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 0 then let __assign_733 = true in (
              tempRight2 := __assign_733;
              __assign_733
            ) else let __assign_734 = false in (
              tempRight2 := __assign_734;
              __assign_734
            ));
            !tempLeft1 || !tempRight1 || !tempRight2
          )
        )
      )) in (
        ignore (syncToStmtEnd self ());
        HxStmt.SReturn (expr, pos)
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_735 -> Obj.obj __ret_735
and parseStmt = fun self (stop : unit -> bool) -> try let _gthis = self in (
  ignore (if stop () then raise (HxRuntime.Hx_return (Obj.repr (HxStmt.SExpr (HxExpr.EUnsupported "<eof-stmt>", HxPos.unknown ())))) else ());
  let pos = self.cur.pos in let tempResult = ref (Obj.magic ()) in (
    ignore (let _g = self.cur.kind in match _g with
      | HxTokenKind.TKeyword _p0 -> (let _g2 = _p0 in match _g2 with
        | HxKeyword.KReturn -> (
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_789 = self.peeked1 in (
              self.cur <- __assign_789;
              __assign_789
            ));
            ignore (let __assign_790 = self.peeked2 in (
              self.peeked1 <- __assign_790;
              __assign_790
            ));
            let __assign_791 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_791;
              __assign_791
            )
          )) else ignore (let __assign_792 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_792;
            __assign_792
          )));
          let __assign_793 = parseReturnStmt self pos in (
            tempResult := __assign_793;
            __assign_793
          )
        )
        | HxKeyword.KIf -> (
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_794 = self.peeked1 in (
              self.cur <- __assign_794;
              __assign_794
            ));
            ignore (let __assign_795 = self.peeked2 in (
              self.peeked1 <- __assign_795;
              __assign_795
            ));
            let __assign_796 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_796;
              __assign_796
            )
          )) else ignore (let __assign_797 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_797;
            __assign_797
          )));
          ignore (expect self (HxTokenKind.TLParen) "'('");
          let cond = parseExpr self (fun () -> let tempLeft = ref false in (
            ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_798 = true in (
              tempLeft := __assign_798;
              __assign_798
            ) else let __assign_799 = false in (
              tempLeft := __assign_799;
              __assign_799
            ));
            let tempRight = ref false in (
              ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_800 = true in (
                tempRight := __assign_800;
                __assign_800
              ) else let __assign_801 = false in (
                tempRight := __assign_801;
                __assign_801
              ));
              !tempLeft || !tempRight
            )
          )) in let tempBool = ref false in (
            ignore (let _g3 = self.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_802 = true in (
              tempBool := __assign_802;
              __assign_802
            ) else let __assign_803 = false in (
              tempBool := __assign_803;
              __assign_803
            ));
            ignore (if not (!tempBool) then ignore (try while true do try ignore (let tempBool1 = ref false in (
              ignore (let _g3 = self.cur.kind in if (match _g3 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 9 then let __assign_804 = true in (
                tempBool1 := __assign_804;
                __assign_804
              ) else let __assign_805 = false in (
                tempBool1 := __assign_805;
                __assign_805
              ));
              let tempBool2 = ref false in (
                ignore (let _g3 = self.cur.kind in if (match _g3 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_806 = true in (
                  tempBool2 := __assign_806;
                  __assign_806
                ) else let __assign_807 = false in (
                  tempBool2 := __assign_807;
                  __assign_807
                ));
                ignore (if not (not (!tempBool1) && not (!tempBool2)) then raise (HxRuntime.Hx_break) else ());
                if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                  ignore (let __assign_808 = self.peeked1 in (
                    self.cur <- __assign_808;
                    __assign_808
                  ));
                  ignore (let __assign_809 = self.peeked2 in (
                    self.peeked1 <- __assign_809;
                    __assign_809
                  ));
                  let __assign_810 = Obj.magic (HxRuntime.hx_null) in (
                    self.peeked2 <- __assign_810;
                    __assign_810
                  )
                )) else ignore (let __assign_811 = HxLexer.next (self.lex) () in (
                  self.cur <- __assign_811;
                  __assign_811
                ))
              )
            )) with
              | HxRuntime.Hx_continue -> () done with
              | HxRuntime.Hx_break -> ()) else ());
            let tempBool3 = ref false in (
              ignore (let _g3 = self.cur.kind in if (match _g3 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 9 then let __assign_812 = true in (
                tempBool3 := __assign_812;
                __assign_812
              ) else let __assign_813 = false in (
                tempBool3 := __assign_813;
                __assign_813
              ));
              ignore (if !tempBool3 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_814 = self.peeked1 in (
                  self.cur <- __assign_814;
                  __assign_814
                ));
                ignore (let __assign_815 = self.peeked2 in (
                  self.peeked1 <- __assign_815;
                  __assign_815
                ));
                let __assign_816 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_816;
                  __assign_816
                )
              )) else ignore (let __assign_817 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_817;
                __assign_817
              ))) else ());
              let thenBranch = parseStmt self stop in let tempMaybeHxStmt = ref (Obj.magic ()) in (
                ignore (if acceptKeyword self (HxKeyword.KElse) then let __assign_818 = HxEnum.box_if_needed "HxStmt" (Obj.repr (parseStmt self stop)) in (
                  tempMaybeHxStmt := __assign_818;
                  __assign_818
                ) else let __assign_819 = Obj.obj (HxEnum.unbox_or_obj "HxStmt" (Obj.magic (HxRuntime.hx_null))) in (
                  tempMaybeHxStmt := __assign_819;
                  __assign_819
                ));
                let elseBranch = Obj.obj (HxEnum.unbox_or_obj "HxStmt" (!tempMaybeHxStmt)) in let __assign_820 = HxStmt.SIf (cond, thenBranch, elseBranch, pos) in (
                  tempResult := __assign_820;
                  __assign_820
                )
              )
            )
          )
        )
        | HxKeyword.KVar -> (
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_821 = self.peeked1 in (
              self.cur <- __assign_821;
              __assign_821
            ));
            ignore (let __assign_822 = self.peeked2 in (
              self.peeked1 <- __assign_822;
              __assign_822
            ));
            let __assign_823 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_823;
              __assign_823
            )
          )) else ignore (let __assign_824 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_824;
            __assign_824
          )));
          let __assign_825 = parseVarStmt self pos in (
            tempResult := __assign_825;
            __assign_825
          )
        )
        | _ -> let expr = parseExpr self (fun () -> let tempLeft1 = ref false in (
          ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 10 then let __assign_782 = true in (
            tempLeft1 := __assign_782;
            __assign_782
          ) else let __assign_783 = false in (
            tempLeft1 := __assign_783;
            __assign_783
          ));
          let tempRight1 = ref false in (
            ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 7 then let __assign_784 = true in (
              tempRight1 := __assign_784;
              __assign_784
            ) else let __assign_785 = false in (
              tempRight1 := __assign_785;
              __assign_785
            ));
            let tempRight2 = ref false in (
              ignore (let _g3 = _gthis.cur.kind in if (match _g3 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_786 = true in (
                tempRight2 := __assign_786;
                __assign_786
              ) else let __assign_787 = false in (
                tempRight2 := __assign_787;
                __assign_787
              ));
              !tempLeft1 || !tempRight1 || !tempRight2
            )
          )
        )) in (
          ignore (syncToStmtEnd self ());
          let __assign_788 = HxStmt.SExpr (expr, pos) in (
            tempResult := __assign_788;
            __assign_788
          )
        ))
      | HxTokenKind.TLBrace -> (
        ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_826 = self.peeked1 in (
            self.cur <- __assign_826;
            __assign_826
          ));
          ignore (let __assign_827 = self.peeked2 in (
            self.peeked1 <- __assign_827;
            __assign_827
          ));
          let __assign_828 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_828;
            __assign_828
          )
        )) else ignore (let __assign_829 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_829;
          __assign_829
        )));
        let ss = HxArray.create () in (
          ignore (try while true do try ignore (let tempBool4 = ref false in (
            ignore (let _g2 = self.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 7 then let __assign_830 = true in (
              tempBool4 := __assign_830;
              __assign_830
            ) else let __assign_831 = false in (
              tempBool4 := __assign_831;
              __assign_831
            ));
            let tempBool5 = ref false in (
              ignore (let _g2 = self.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_832 = true in (
                tempBool5 := __assign_832;
                __assign_832
              ) else let __assign_833 = false in (
                tempBool5 := __assign_833;
                __assign_833
              ));
              ignore (if not (not (!tempBool4) && not (!tempBool5)) then raise (HxRuntime.Hx_break) else ());
              HxArray.push ss (parseStmt self (fun () -> let tempLeft2 = ref false in (
                ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 7 then let __assign_834 = true in (
                  tempLeft2 := __assign_834;
                  __assign_834
                ) else let __assign_835 = false in (
                  tempLeft2 := __assign_835;
                  __assign_835
                ));
                let tempRight3 = ref false in (
                  ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 0 then let __assign_836 = true in (
                    tempRight3 := __assign_836;
                    __assign_836
                  ) else let __assign_837 = false in (
                    tempRight3 := __assign_837;
                    __assign_837
                  ));
                  !tempLeft2 || !tempRight3
                )
              )))
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ());
          ignore (expect self (HxTokenKind.TRBrace) "'}'");
          let __assign_838 = HxStmt.SBlock (ss, pos) in (
            tempResult := __assign_838;
            __assign_838
          )
        )
      )
      | _ -> let expr = parseExpr self (fun () -> let tempLeft3 = ref false in (
        ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 10 then let __assign_775 = true in (
          tempLeft3 := __assign_775;
          __assign_775
        ) else let __assign_776 = false in (
          tempLeft3 := __assign_776;
          __assign_776
        ));
        let tempRight4 = ref false in (
          ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 7 then let __assign_777 = true in (
            tempRight4 := __assign_777;
            __assign_777
          ) else let __assign_778 = false in (
            tempRight4 := __assign_778;
            __assign_778
          ));
          let tempRight5 = ref false in (
            ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 0 then let __assign_779 = true in (
              tempRight5 := __assign_779;
              __assign_779
            ) else let __assign_780 = false in (
              tempRight5 := __assign_780;
              __assign_780
            ));
            !tempLeft3 || !tempRight4 || !tempRight5
          )
        )
      )) in (
        ignore (syncToStmtEnd self ());
        let __assign_781 = HxStmt.SExpr (expr, pos) in (
          tempResult := __assign_781;
          __assign_781
        )
      ));
    !tempResult
  )
) with
  | HxRuntime.Hx_return __ret_839 -> Obj.obj __ret_839

let parseFunctionBodyStatements = fun self () -> try let _gthis = self in let out = HxArray.create () in while true do ignore (let _g = self.cur.kind in match _g with
  | HxTokenKind.TEof -> ignore (fail self "Unterminated function body")
  | HxTokenKind.TRBrace -> ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_844 = self.peeked1 in (
        self.cur <- __assign_844;
        __assign_844
      ));
      ignore (let __assign_845 = self.peeked2 in (
        self.peeked1 <- __assign_845;
        __assign_845
      ));
      let __assign_846 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_846;
        __assign_846
      )
    )) else ignore (let __assign_847 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_847;
      __assign_847
    )));
    raise (HxRuntime.Hx_return (Obj.repr out))
  ))
  | _ -> ignore (HxArray.push out (parseStmt self (fun () -> let tempLeft = ref false in (
    ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 7 then let __assign_840 = true in (
      tempLeft := __assign_840;
      __assign_840
    ) else let __assign_841 = false in (
      tempLeft := __assign_841;
      __assign_841
    ));
    let tempRight = ref false in (
      ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 0 then let __assign_842 = true in (
        tempRight := __assign_842;
        __assign_842
      ) else let __assign_843 = false in (
        tempRight := __assign_843;
        __assign_843
      ));
      !tempLeft || !tempRight
    )
  ))))) done with
  | HxRuntime.Hx_return __ret_848 -> Obj.obj __ret_848

let parseFunctionBodyStatementsBestEffort = fun self () -> try let _gthis = self in let out = HxArray.create () in while true do ignore (let _g = self.cur.kind in match _g with
  | HxTokenKind.TEof -> raise (HxRuntime.Hx_return (Obj.repr out))
  | HxTokenKind.TRBrace -> ignore ((
    ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_889 = self.peeked1 in (
        self.cur <- __assign_889;
        __assign_889
      ));
      ignore (let __assign_890 = self.peeked2 in (
        self.peeked1 <- __assign_890;
        __assign_890
      ));
      let __assign_891 = Obj.magic (HxRuntime.hx_null) in (
        self.peeked2 <- __assign_891;
        __assign_891
      )
    )) else ignore (let __assign_892 = HxLexer.next (self.lex) () in (
      self.cur <- __assign_892;
      __assign_892
    )));
    raise (HxRuntime.Hx_return (Obj.repr out))
  ))
  | _ -> ignore (try (
    ignore (HxArray.push out (parseStmt self (fun () -> let tempLeft = ref false in (
      ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 7 then let __assign_849 = true in (
        tempLeft := __assign_849;
        __assign_849
      ) else let __assign_850 = false in (
        tempLeft := __assign_850;
        __assign_850
      ));
      let tempRight = ref false in (
        ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 0 then let __assign_851 = true in (
          tempRight := __assign_851;
          __assign_851
        ) else let __assign_852 = false in (
          tempRight := __assign_852;
          __assign_852
        ));
        !tempLeft || !tempRight
      )
    ))));
    0
  ) with
    | HxRuntime.Hx_break -> raise (HxRuntime.Hx_break)
    | HxRuntime.Hx_continue -> raise (HxRuntime.Hx_continue)
    | HxRuntime.Hx_return __ret_853 -> raise (HxRuntime.Hx_return __ret_853)
    | HxRuntime.Hx_exception (__exn_v_854, __exn_tags_855) -> if true then let _hx = (__exn_v_854 : Obj.t) in (
      ignore _hx;
      (
        ignore (try while true do try ignore (let tempBool = ref false in (
          ignore (let _g2 = self.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 10 then let __assign_856 = true in (
            tempBool := __assign_856;
            __assign_856
          ) else let __assign_857 = false in (
            tempBool := __assign_857;
            __assign_857
          ));
          let tempBool1 = ref false in (
            ignore (let _g2 = self.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 7 then let __assign_858 = true in (
              tempBool1 := __assign_858;
              __assign_858
            ) else let __assign_859 = false in (
              tempBool1 := __assign_859;
              __assign_859
            ));
            let tempBool2 = ref false in (
              ignore (let _g2 = self.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_860 = true in (
                tempBool2 := __assign_860;
                __assign_860
              ) else let __assign_861 = false in (
                tempBool2 := __assign_861;
                __assign_861
              ));
              ignore (if not (not (!tempBool) && not (!tempBool1) && not (!tempBool2)) then raise (HxRuntime.Hx_break) else ());
              if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_862 = self.peeked1 in (
                  self.cur <- __assign_862;
                  __assign_862
                ));
                ignore (let __assign_863 = self.peeked2 in (
                  self.peeked1 <- __assign_863;
                  __assign_863
                ));
                let __assign_864 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_864;
                  __assign_864
                )
              )) else ignore (let __assign_865 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_865;
                __assign_865
              ))
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let tempBool3 = ref false in (
          ignore (let _g2 = self.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 10 then let __assign_866 = true in (
            tempBool3 := __assign_866;
            __assign_866
          ) else let __assign_867 = false in (
            tempBool3 := __assign_867;
            __assign_867
          ));
          ignore (if !tempBool3 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_868 = self.peeked1 in (
              self.cur <- __assign_868;
              __assign_868
            ));
            ignore (let __assign_869 = self.peeked2 in (
              self.peeked1 <- __assign_869;
              __assign_869
            ));
            let __assign_870 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_870;
              __assign_870
            )
          )) else ignore (let __assign_871 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_871;
            __assign_871
          ))) else ());
          0
        )
      )
    ) else HxRuntime.hx_throw_typed __exn_v_854 __exn_tags_855
    | __exn_872 -> if true then let _hx = (Obj.repr __exn_872 : Obj.t) in (
      ignore _hx;
      (
        ignore (try while true do try ignore (let tempBool = ref false in (
          ignore (let _g2 = self.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 10 then let __assign_873 = true in (
            tempBool := __assign_873;
            __assign_873
          ) else let __assign_874 = false in (
            tempBool := __assign_874;
            __assign_874
          ));
          let tempBool1 = ref false in (
            ignore (let _g2 = self.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 7 then let __assign_875 = true in (
              tempBool1 := __assign_875;
              __assign_875
            ) else let __assign_876 = false in (
              tempBool1 := __assign_876;
              __assign_876
            ));
            let tempBool2 = ref false in (
              ignore (let _g2 = self.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_877 = true in (
                tempBool2 := __assign_877;
                __assign_877
              ) else let __assign_878 = false in (
                tempBool2 := __assign_878;
                __assign_878
              ));
              ignore (if not (not (!tempBool) && not (!tempBool1) && not (!tempBool2)) then raise (HxRuntime.Hx_break) else ());
              if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_879 = self.peeked1 in (
                  self.cur <- __assign_879;
                  __assign_879
                ));
                ignore (let __assign_880 = self.peeked2 in (
                  self.peeked1 <- __assign_880;
                  __assign_880
                ));
                let __assign_881 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_881;
                  __assign_881
                )
              )) else ignore (let __assign_882 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_882;
                __assign_882
              ))
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let tempBool3 = ref false in (
          ignore (let _g2 = self.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 10 then let __assign_883 = true in (
            tempBool3 := __assign_883;
            __assign_883
          ) else let __assign_884 = false in (
            tempBool3 := __assign_884;
            __assign_884
          ));
          ignore (if !tempBool3 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_885 = self.peeked1 in (
              self.cur <- __assign_885;
              __assign_885
            ));
            ignore (let __assign_886 = self.peeked2 in (
              self.peeked1 <- __assign_886;
              __assign_886
            ));
            let __assign_887 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_887;
              __assign_887
            )
          )) else ignore (let __assign_888 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_888;
            __assign_888
          ))) else ());
          0
        )
      )
    ) else raise (__exn_872))) done with
  | HxRuntime.Hx_return __ret_893 -> Obj.obj __ret_893

let parseFunctionDecl = fun self (visibility : HxVisibility.hxvisibility) (isStatic : bool) -> let _gthis = self in (
  ignore (let __assign_894 = "" in (
    self.capturedReturnStringLiteral <- __assign_894;
    __assign_894
  ));
  let tempString = ref "" in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 5 then let _g2 = match _g with
      | HxTokenKind.TKeyword __enum_param_895 -> __enum_param_895
      | _ -> failwith "Unexpected enum parameter" in if (match _g2 with
      | HxKeyword.KPackage -> 0
      | HxKeyword.KImport -> 1
      | HxKeyword.KUsing -> 2
      | HxKeyword.KAs -> 3
      | HxKeyword.KClass -> 4
      | HxKeyword.KPublic -> 5
      | HxKeyword.KPrivate -> 6
      | HxKeyword.KStatic -> 7
      | HxKeyword.KFunction -> 8
      | HxKeyword.KReturn -> 9
      | HxKeyword.KIf -> 10
      | HxKeyword.KElse -> 11
      | HxKeyword.KSwitch -> 12
      | HxKeyword.KCase -> 13
      | HxKeyword.KDefault -> 14
      | HxKeyword.KTry -> 15
      | HxKeyword.KCatch -> 16
      | HxKeyword.KThrow -> 17
      | HxKeyword.KWhile -> 18
      | HxKeyword.KDo -> 19
      | HxKeyword.KFor -> 20
      | HxKeyword.KBreak -> 21
      | HxKeyword.KContinue -> 22
      | HxKeyword.KUntyped -> 23
      | HxKeyword.KCast -> 24
      | HxKeyword.KVar -> 25
      | HxKeyword.KFinal -> 26
      | HxKeyword.KNew -> 27
      | HxKeyword.KThis -> 28
      | HxKeyword.KSuper -> 29
      | HxKeyword.KTrue -> 30
      | HxKeyword.KFalse -> 31
      | HxKeyword.KNull -> 32) = 27 then (
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_896 = self.peeked1 in (
          self.cur <- __assign_896;
          __assign_896
        ));
        ignore (let __assign_897 = self.peeked2 in (
          self.peeked1 <- __assign_897;
          __assign_897
        ));
        let __assign_898 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_898;
          __assign_898
        )
      )) else ignore (let __assign_899 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_899;
        __assign_899
      )));
      let __assign_900 = "new" in (
        tempString := __assign_900;
        __assign_900
      )
    ) else let __assign_901 = readIdent self "function name" in (
      tempString := __assign_901;
      __assign_901
    ) else let __assign_902 = readIdent self "function name" in (
      tempString := __assign_902;
      __assign_902
    ));
    ignore (expect self (HxTokenKind.TLParen) "'('");
    let args = HxArray.create () in let tempBool = ref false in (
      ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 9 then let __assign_903 = true in (
        tempBool := __assign_903;
        __assign_903
      ) else let __assign_904 = false in (
        tempBool := __assign_904;
        __assign_904
      ));
      ignore (if not (!tempBool) then ignore (try while true do try ignore (let argName = readIdent self "argument name" in let argType = ref "" in let defaultValue = ref (HxDefaultValue.NoDefault) in let tempBool1 = ref false in (
        ignore (let _g = self.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 11 then let __assign_905 = true in (
          tempBool1 := __assign_905;
          __assign_905
        ) else let __assign_906 = false in (
          tempBool1 := __assign_906;
          __assign_906
        ));
        ignore (if !tempBool1 then ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_907 = self.peeked1 in (
              self.cur <- __assign_907;
              __assign_907
            ));
            ignore (let __assign_908 = self.peeked2 in (
              self.peeked1 <- __assign_908;
              __assign_908
            ));
            let __assign_909 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_909;
              __assign_909
            )
          )) else ignore (let __assign_910 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_910;
            __assign_910
          )));
          let __assign_911 = readTypeHintText self (fun () -> let tempLeft = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 13 then let __assign_912 = true in (
              tempLeft := __assign_912;
              __assign_912
            ) else let __assign_913 = false in (
              tempLeft := __assign_913;
              __assign_913
            ));
            let tempRight = ref false in (
              ignore (let _g = _gthis.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 9 then let __assign_914 = true in (
                tempRight := __assign_914;
                __assign_914
              ) else let __assign_915 = false in (
                tempRight := __assign_915;
                __assign_915
              ));
              let tempRight1 = ref false in (
                ignore (let _g = _gthis.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_916 = true in (
                  tempRight1 := __assign_916;
                  __assign_916
                ) else let __assign_917 = false in (
                  tempRight1 := __assign_917;
                  __assign_917
                ));
                !tempLeft || !tempRight || !tempRight1 || isOtherChar _gthis "="
              )
            )
          )) in (
            argType := __assign_911;
            __assign_911
          )
        )) else ());
        ignore (if acceptOtherChar self "=" then ignore (let __assign_918 = HxDefaultValue.Default (parseExpr self (fun () -> let tempLeft1 = ref false in (
          ignore (let _g = _gthis.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 13 then let __assign_919 = true in (
            tempLeft1 := __assign_919;
            __assign_919
          ) else let __assign_920 = false in (
            tempLeft1 := __assign_920;
            __assign_920
          ));
          let tempRight2 = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 9 then let __assign_921 = true in (
              tempRight2 := __assign_921;
              __assign_921
            ) else let __assign_922 = false in (
              tempRight2 := __assign_922;
              __assign_922
            ));
            let tempRight3 = ref false in (
              ignore (let _g = _gthis.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_923 = true in (
                tempRight3 := __assign_923;
                __assign_923
              ) else let __assign_924 = false in (
                tempRight3 := __assign_924;
                __assign_924
              ));
              !tempLeft1 || !tempRight2 || !tempRight3
            )
          )
        ))) in (
          defaultValue := __assign_918;
          __assign_918
        )) else ());
        ignore (HxArray.push args (HxFunctionArg.create argName (!argType) (!defaultValue)));
        let tempBool2 = ref false in (
          ignore (let _g = self.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 13 then let __assign_925 = true in (
            tempBool2 := __assign_925;
            __assign_925
          ) else let __assign_926 = false in (
            tempBool2 := __assign_926;
            __assign_926
          ));
          ignore (if !tempBool2 then ignore ((
            ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_927 = self.peeked1 in (
                self.cur <- __assign_927;
                __assign_927
              ));
              ignore (let __assign_928 = self.peeked2 in (
                self.peeked1 <- __assign_928;
                __assign_928
              ));
              let __assign_929 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_929;
                __assign_929
              )
            )) else ignore (let __assign_930 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_930;
              __assign_930
            )));
            raise (HxRuntime.Hx_continue)
          )) else ());
          raise (HxRuntime.Hx_break)
        )
      )) with
        | HxRuntime.Hx_continue -> () done with
        | HxRuntime.Hx_break -> ()) else ());
      ignore (expect self (HxTokenKind.TRParen) "')'");
      let returnType = ref "" in let tempBool3 = ref false in (
        ignore (let _g = self.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 11 then let __assign_931 = true in (
          tempBool3 := __assign_931;
          __assign_931
        ) else let __assign_932 = false in (
          tempBool3 := __assign_932;
          __assign_932
        ));
        ignore (if !tempBool3 then ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_933 = self.peeked1 in (
              self.cur <- __assign_933;
              __assign_933
            ));
            ignore (let __assign_934 = self.peeked2 in (
              self.peeked1 <- __assign_934;
              __assign_934
            ));
            let __assign_935 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_935;
              __assign_935
            )
          )) else ignore (let __assign_936 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_936;
            __assign_936
          )));
          let __assign_937 = readTypeHintText self (fun () -> let tempLeft2 = ref false in (
            ignore (let _g = _gthis.cur.kind in if (match _g with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 6 then let __assign_938 = true in (
              tempLeft2 := __assign_938;
              __assign_938
            ) else let __assign_939 = false in (
              tempLeft2 := __assign_939;
              __assign_939
            ));
            let tempRight4 = ref false in (
              ignore (let _g = _gthis.cur.kind in if (match _g with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 10 then let __assign_940 = true in (
                tempRight4 := __assign_940;
                __assign_940
              ) else let __assign_941 = false in (
                tempRight4 := __assign_941;
                __assign_941
              ));
              let tempRight5 = ref false in (
                ignore (let _g = _gthis.cur.kind in if (match _g with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_942 = true in (
                  tempRight5 := __assign_942;
                  __assign_942
                ) else let __assign_943 = false in (
                  tempRight5 := __assign_943;
                  __assign_943
                ));
                let tempRight6 = ref false in (
                  ignore (let _g = _gthis.cur.kind in if (match _g with
                    | HxTokenKind.TEof -> 0
                    | HxTokenKind.TIdent _ -> 1
                    | HxTokenKind.TString _ -> 2
                    | HxTokenKind.TInt _ -> 3
                    | HxTokenKind.TFloat _ -> 4
                    | HxTokenKind.TKeyword _ -> 5
                    | HxTokenKind.TLBrace -> 6
                    | HxTokenKind.TRBrace -> 7
                    | HxTokenKind.TLParen -> 8
                    | HxTokenKind.TRParen -> 9
                    | HxTokenKind.TSemicolon -> 10
                    | HxTokenKind.TColon -> 11
                    | HxTokenKind.TDot -> 12
                    | HxTokenKind.TComma -> 13
                    | HxTokenKind.TOther _ -> 14) = 5 then let _g2 = match _g with
                    | HxTokenKind.TKeyword __enum_param_944 -> __enum_param_944
                    | _ -> failwith "Unexpected enum parameter" in if (match _g2 with
                    | HxKeyword.KPackage -> 0
                    | HxKeyword.KImport -> 1
                    | HxKeyword.KUsing -> 2
                    | HxKeyword.KAs -> 3
                    | HxKeyword.KClass -> 4
                    | HxKeyword.KPublic -> 5
                    | HxKeyword.KPrivate -> 6
                    | HxKeyword.KStatic -> 7
                    | HxKeyword.KFunction -> 8
                    | HxKeyword.KReturn -> 9
                    | HxKeyword.KIf -> 10
                    | HxKeyword.KElse -> 11
                    | HxKeyword.KSwitch -> 12
                    | HxKeyword.KCase -> 13
                    | HxKeyword.KDefault -> 14
                    | HxKeyword.KTry -> 15
                    | HxKeyword.KCatch -> 16
                    | HxKeyword.KThrow -> 17
                    | HxKeyword.KWhile -> 18
                    | HxKeyword.KDo -> 19
                    | HxKeyword.KFor -> 20
                    | HxKeyword.KBreak -> 21
                    | HxKeyword.KContinue -> 22
                    | HxKeyword.KUntyped -> 23
                    | HxKeyword.KCast -> 24
                    | HxKeyword.KVar -> 25
                    | HxKeyword.KFinal -> 26
                    | HxKeyword.KNew -> 27
                    | HxKeyword.KThis -> 28
                    | HxKeyword.KSuper -> 29
                    | HxKeyword.KTrue -> 30
                    | HxKeyword.KFalse -> 31
                    | HxKeyword.KNull -> 32) = 9 then let __assign_945 = true in (
                    tempRight6 := __assign_945;
                    __assign_945
                  ) else let __assign_946 = false in (
                    tempRight6 := __assign_946;
                    __assign_946
                  ) else let __assign_947 = false in (
                    tempRight6 := __assign_947;
                    __assign_947
                  ));
                  !tempLeft2 || !tempRight4 || !tempRight5 || !tempRight6
                )
              )
            )
          )) in (
            returnType := __assign_937;
            __assign_937
          )
        )) else ());
        let body = HxArray.create () in (
          ignore (let _g = self.cur.kind in match _g with
            | HxTokenKind.TLBrace -> ignore ((
              ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_958 = self.peeked1 in (
                  self.cur <- __assign_958;
                  __assign_958
                ));
                ignore (let __assign_959 = self.peeked2 in (
                  self.peeked1 <- __assign_959;
                  __assign_959
                ));
                let __assign_960 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_960;
                  __assign_960
                )
              )) else ignore (let __assign_961 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_961;
                __assign_961
              )));
              let _g2 = ref 0 in let _g1 = parseFunctionBodyStatements self () in while !_g2 < HxArray.length _g1 do ignore (let s = HxArray.get _g1 (!_g2) in (
                ignore (let __old_962 = !_g2 in let __new_963 = HxInt.add __old_962 1 in (
                  ignore (_g2 := __new_963);
                  __new_963
                ));
                HxArray.push body s
              )) done
            ))
            | HxTokenKind.TSemicolon -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_964 = self.peeked1 in (
                self.cur <- __assign_964;
                __assign_964
              ));
              ignore (let __assign_965 = self.peeked2 in (
                self.peeked1 <- __assign_965;
                __assign_965
              ));
              let __assign_966 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_966;
                __assign_966
              )
            )) else ignore (let __assign_967 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_967;
              __assign_967
            )))
            | _ -> ignore (if acceptKeyword self (HxKeyword.KReturn) then ignore (HxArray.push body (parseReturnStmt self (HxPos.unknown ()))) else ignore (let expr = parseExpr self (fun () -> let tempLeft3 = ref false in (
              ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 10 then let __assign_948 = true in (
                tempLeft3 := __assign_948;
                __assign_948
              ) else let __assign_949 = false in (
                tempLeft3 := __assign_949;
                __assign_949
              ));
              let tempRight7 = ref false in (
                ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                  | HxTokenKind.TEof -> 0
                  | HxTokenKind.TIdent _ -> 1
                  | HxTokenKind.TString _ -> 2
                  | HxTokenKind.TInt _ -> 3
                  | HxTokenKind.TFloat _ -> 4
                  | HxTokenKind.TKeyword _ -> 5
                  | HxTokenKind.TLBrace -> 6
                  | HxTokenKind.TRBrace -> 7
                  | HxTokenKind.TLParen -> 8
                  | HxTokenKind.TRParen -> 9
                  | HxTokenKind.TSemicolon -> 10
                  | HxTokenKind.TColon -> 11
                  | HxTokenKind.TDot -> 12
                  | HxTokenKind.TComma -> 13
                  | HxTokenKind.TOther _ -> 14) = 0 then let __assign_950 = true in (
                  tempRight7 := __assign_950;
                  __assign_950
                ) else let __assign_951 = false in (
                  tempRight7 := __assign_951;
                  __assign_951
                ));
                !tempLeft3 || !tempRight7
              )
            )) in let tempBool4 = ref false in (
              ignore (let _g2 = self.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 10 then let __assign_952 = true in (
                tempBool4 := __assign_952;
                __assign_952
              ) else let __assign_953 = false in (
                tempBool4 := __assign_953;
                __assign_953
              ));
              ignore (if !tempBool4 then ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
                ignore (let __assign_954 = self.peeked1 in (
                  self.cur <- __assign_954;
                  __assign_954
                ));
                ignore (let __assign_955 = self.peeked2 in (
                  self.peeked1 <- __assign_955;
                  __assign_955
                ));
                let __assign_956 = Obj.magic (HxRuntime.hx_null) in (
                  self.peeked2 <- __assign_956;
                  __assign_956
                )
              )) else ignore (let __assign_957 = HxLexer.next (self.lex) () in (
                self.cur <- __assign_957;
                __assign_957
              ))) else ());
              HxArray.push body (HxStmt.SExpr (expr, HxPos.unknown ()))
            ))));
          HxFunctionDecl.create (!tempString) visibility isStatic args (!returnType) body (self.capturedReturnStringLiteral)
        )
      )
    )
  )
)

let parseClassMembers = fun self () -> let _gthis = self in let funcs = HxArray.create () in let fields = HxArray.create () in (
  ignore (try while true do try ignore (let _g = self.cur.kind in match _g with
    | HxTokenKind.TEof -> ignore (fail self "Unexpected end of input in class body")
    | HxTokenKind.TRBrace -> ignore ((
      ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_1005 = self.peeked1 in (
          self.cur <- __assign_1005;
          __assign_1005
        ));
        ignore (let __assign_1006 = self.peeked2 in (
          self.peeked1 <- __assign_1006;
          __assign_1006
        ));
        let __assign_1007 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_1007;
          __assign_1007
        )
      )) else ignore (let __assign_1008 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_1008;
        __assign_1008
      )));
      raise (HxRuntime.Hx_break)
    ))
    | _ -> ignore (let visibility = ref (HxVisibility.Public) in let isStatic = ref false in let keep = ref true in (
      ignore (while !keep do ignore ((
        ignore (let __assign_968 = false in (
          keep := __assign_968;
          __assign_968
        ));
        if acceptKeyword self (HxKeyword.KPublic) then ignore ((
          ignore (let __assign_969 = HxVisibility.Public in (
            visibility := __assign_969;
            __assign_969
          ));
          let __assign_970 = true in (
            keep := __assign_970;
            __assign_970
          )
        )) else ignore (if acceptKeyword self (HxKeyword.KPrivate) then ignore ((
          ignore (let __assign_971 = HxVisibility.Private in (
            visibility := __assign_971;
            __assign_971
          ));
          let __assign_972 = true in (
            keep := __assign_972;
            __assign_972
          )
        )) else ignore (if acceptKeyword self (HxKeyword.KStatic) then ignore ((
          ignore (let __assign_973 = true in (
            isStatic := __assign_973;
            __assign_973
          ));
          let __assign_974 = true in (
            keep := __assign_974;
            __assign_974
          )
        )) else ()))
      )) done);
      ignore (if acceptKeyword self (HxKeyword.KFunction) then ignore ((
        ignore (HxArray.push funcs (parseFunctionDecl self (!visibility) (!isStatic)));
        raise (HxRuntime.Hx_continue)
      )) else ());
      ignore (if acceptKeyword self (HxKeyword.KVar) then ignore (let name = readIdent self "field name" in let typeHint = ref "" in let init = ref (Obj.obj (HxEnum.unbox_or_obj "HxExpr" (Obj.magic (HxRuntime.hx_null)))) in let tempBool = ref false in (
        ignore (let _g2 = self.cur.kind in if (match _g2 with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 11 then let __assign_975 = true in (
          tempBool := __assign_975;
          __assign_975
        ) else let __assign_976 = false in (
          tempBool := __assign_976;
          __assign_976
        ));
        ignore (if !tempBool then ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_977 = self.peeked1 in (
              self.cur <- __assign_977;
              __assign_977
            ));
            ignore (let __assign_978 = self.peeked2 in (
              self.peeked1 <- __assign_978;
              __assign_978
            ));
            let __assign_979 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_979;
              __assign_979
            )
          )) else ignore (let __assign_980 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_980;
            __assign_980
          )));
          let __assign_981 = readTypeHintText self (fun () -> let tempLeft = ref false in (
            ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 10 then let __assign_982 = true in (
              tempLeft := __assign_982;
              __assign_982
            ) else let __assign_983 = false in (
              tempLeft := __assign_983;
              __assign_983
            ));
            let tempRight = ref false in (
              ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 0 then let __assign_984 = true in (
                tempRight := __assign_984;
                __assign_984
              ) else let __assign_985 = false in (
                tempRight := __assign_985;
                __assign_985
              ));
              !tempLeft || !tempRight || isOtherChar _gthis "="
            )
          )) in (
            typeHint := __assign_981;
            __assign_981
          )
        )) else ());
        ignore (if acceptOtherChar self "=" then ignore (let __assign_986 = HxEnum.box_if_needed "HxExpr" (Obj.repr (parseExpr self (fun () -> let tempLeft1 = ref false in (
          ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 10 then let __assign_987 = true in (
            tempLeft1 := __assign_987;
            __assign_987
          ) else let __assign_988 = false in (
            tempLeft1 := __assign_988;
            __assign_988
          ));
          let tempRight1 = ref false in (
            ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 0 then let __assign_989 = true in (
              tempRight1 := __assign_989;
              __assign_989
            ) else let __assign_990 = false in (
              tempRight1 := __assign_990;
              __assign_990
            ));
            let tempRight2 = ref false in (
              ignore (let _g2 = _gthis.cur.kind in if (match _g2 with
                | HxTokenKind.TEof -> 0
                | HxTokenKind.TIdent _ -> 1
                | HxTokenKind.TString _ -> 2
                | HxTokenKind.TInt _ -> 3
                | HxTokenKind.TFloat _ -> 4
                | HxTokenKind.TKeyword _ -> 5
                | HxTokenKind.TLBrace -> 6
                | HxTokenKind.TRBrace -> 7
                | HxTokenKind.TLParen -> 8
                | HxTokenKind.TRParen -> 9
                | HxTokenKind.TSemicolon -> 10
                | HxTokenKind.TColon -> 11
                | HxTokenKind.TDot -> 12
                | HxTokenKind.TComma -> 13
                | HxTokenKind.TOther _ -> 14) = 7 then let __assign_991 = true in (
                tempRight2 := __assign_991;
                __assign_991
              ) else let __assign_992 = false in (
                tempRight2 := __assign_992;
                __assign_992
              ));
              !tempLeft1 || !tempRight1 || !tempRight2
            )
          )
        )))) in (
          init := __assign_986;
          __assign_986
        )) else ());
        ignore (expect self (HxTokenKind.TSemicolon) "';'");
        ignore (HxArray.push fields (HxFieldDecl.create name (!visibility) (!isStatic) (!typeHint) (Obj.obj (HxEnum.unbox_or_obj "HxExpr" (!init)))));
        raise (HxRuntime.Hx_continue)
      )) else ());
      let _g2 = self.cur.kind in match _g2 with
        | HxTokenKind.TLBrace -> ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_997 = self.peeked1 in (
              self.cur <- __assign_997;
              __assign_997
            ));
            ignore (let __assign_998 = self.peeked2 in (
              self.peeked1 <- __assign_998;
              __assign_998
            ));
            let __assign_999 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_999;
              __assign_999
            )
          )) else ignore (let __assign_1000 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_1000;
            __assign_1000
          )));
          skipBalancedBraces self ()
        ))
        | HxTokenKind.TLParen -> ignore ((
          ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_1001 = self.peeked1 in (
              self.cur <- __assign_1001;
              __assign_1001
            ));
            ignore (let __assign_1002 = self.peeked2 in (
              self.peeked1 <- __assign_1002;
              __assign_1002
            ));
            let __assign_1003 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_1003;
              __assign_1003
            )
          )) else ignore (let __assign_1004 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_1004;
            __assign_1004
          )));
          skipBalancedParens self ()
        ))
        | _ -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_993 = self.peeked1 in (
            self.cur <- __assign_993;
            __assign_993
          ));
          ignore (let __assign_994 = self.peeked2 in (
            self.peeked1 <- __assign_994;
            __assign_994
          ));
          let __assign_995 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_995;
            __assign_995
          )
        )) else ignore (let __assign_996 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_996;
          __assign_996
        )))
    ))) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let __anon_1009 = HxAnon.create () in (
    ignore (HxAnon.set __anon_1009 "functions" (Obj.repr funcs));
    ignore (HxAnon.set __anon_1009 "fields" (Obj.repr fields));
    __anon_1009
  )
)

let parseModule = fun self () -> let packagePath = ref "" in let imports = HxArray.create () in let hasToplevelMain = ref false in (
  ignore (if acceptKeyword self (HxKeyword.KPackage) then ignore (let tempBool = ref false in (
    ignore (let _g = self.cur.kind in if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 10 then let __assign_1010 = true in (
      tempBool := __assign_1010;
      __assign_1010
    ) else let __assign_1011 = false in (
      tempBool := __assign_1011;
      __assign_1011
    ));
    if !tempBool then ignore ((
      ignore (let __assign_1012 = "" in (
        packagePath := __assign_1012;
        __assign_1012
      ));
      if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_1013 = self.peeked1 in (
          self.cur <- __assign_1013;
          __assign_1013
        ));
        ignore (let __assign_1014 = self.peeked2 in (
          self.peeked1 <- __assign_1014;
          __assign_1014
        ));
        let __assign_1015 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_1015;
          __assign_1015
        )
      )) else ignore (let __assign_1016 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_1016;
        __assign_1016
      ))
    )) else ignore ((
      ignore (let __assign_1017 = readDottedPath self () in (
        packagePath := __assign_1017;
        __assign_1017
      ));
      expect self (HxTokenKind.TSemicolon) "';'"
    ))
  )) else ());
  ignore (while acceptKeyword self (HxKeyword.KImport) || acceptKeyword self (HxKeyword.KUsing) do ignore (let path = readImportPath self () in (
    ignore (if acceptKeyword self (HxKeyword.KAs) then ignore (readIdent self "import alias") else ());
    ignore (HxArray.push imports path);
    expect self (HxTokenKind.TSemicolon) "';'"
  )) done);
  let sawClass = ref false in (
    ignore (try while true do try ignore ((
      ignore (let _g = self.cur.kind in match _g with
        | HxTokenKind.TEof -> raise (HxRuntime.Hx_break)
        | HxTokenKind.TKeyword _p0 -> ignore (let _g2 = _p0 in match _g2 with
          | HxKeyword.KClass -> ignore ((
            ignore (let __assign_1026 = true in (
              sawClass := __assign_1026;
              __assign_1026
            ));
            raise (HxRuntime.Hx_break)
          ))
          | HxKeyword.KFunction -> ignore ((
            ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
              ignore (let __assign_1027 = self.peeked1 in (
                self.cur <- __assign_1027;
                __assign_1027
              ));
              ignore (let __assign_1028 = self.peeked2 in (
                self.peeked1 <- __assign_1028;
                __assign_1028
              ));
              let __assign_1029 = Obj.magic (HxRuntime.hx_null) in (
                self.peeked2 <- __assign_1029;
                __assign_1029
              )
            )) else ignore (let __assign_1030 = HxLexer.next (self.lex) () in (
              self.cur <- __assign_1030;
              __assign_1030
            )));
            let _g3 = self.cur.kind in if (match _g3 with
              | HxTokenKind.TEof -> 0
              | HxTokenKind.TIdent _ -> 1
              | HxTokenKind.TString _ -> 2
              | HxTokenKind.TInt _ -> 3
              | HxTokenKind.TFloat _ -> 4
              | HxTokenKind.TKeyword _ -> 5
              | HxTokenKind.TLBrace -> 6
              | HxTokenKind.TRBrace -> 7
              | HxTokenKind.TLParen -> 8
              | HxTokenKind.TRParen -> 9
              | HxTokenKind.TSemicolon -> 10
              | HxTokenKind.TColon -> 11
              | HxTokenKind.TDot -> 12
              | HxTokenKind.TComma -> 13
              | HxTokenKind.TOther _ -> 14) = 1 then ignore (let _g4 = match _g3 with
              | HxTokenKind.TIdent __enum_param_1031 -> __enum_param_1031
              | _ -> failwith "Unexpected enum parameter" in if HxString.equals _g4 "main" then ignore (let __assign_1032 = true in (
              hasToplevelMain := __assign_1032;
              __assign_1032
            )) else ignore ()) else ignore ()
          ))
          | _ -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
            ignore (let __assign_1022 = self.peeked1 in (
              self.cur <- __assign_1022;
              __assign_1022
            ));
            ignore (let __assign_1023 = self.peeked2 in (
              self.peeked1 <- __assign_1023;
              __assign_1023
            ));
            let __assign_1024 = Obj.magic (HxRuntime.hx_null) in (
              self.peeked2 <- __assign_1024;
              __assign_1024
            )
          )) else ignore (let __assign_1025 = HxLexer.next (self.lex) () in (
            self.cur <- __assign_1025;
            __assign_1025
          ))))
        | _ -> ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
          ignore (let __assign_1018 = self.peeked1 in (
            self.cur <- __assign_1018;
            __assign_1018
          ));
          ignore (let __assign_1019 = self.peeked2 in (
            self.peeked1 <- __assign_1019;
            __assign_1019
          ));
          let __assign_1020 = Obj.magic (HxRuntime.hx_null) in (
            self.peeked2 <- __assign_1020;
            __assign_1020
          )
        )) else ignore (let __assign_1021 = HxLexer.next (self.lex) () in (
          self.cur <- __assign_1021;
          __assign_1021
        ))));
      let tempLeft = ref false in (
        ignore (let _g = self.cur.kind in if (match _g with
          | HxTokenKind.TEof -> 0
          | HxTokenKind.TIdent _ -> 1
          | HxTokenKind.TString _ -> 2
          | HxTokenKind.TInt _ -> 3
          | HxTokenKind.TFloat _ -> 4
          | HxTokenKind.TKeyword _ -> 5
          | HxTokenKind.TLBrace -> 6
          | HxTokenKind.TRBrace -> 7
          | HxTokenKind.TLParen -> 8
          | HxTokenKind.TRParen -> 9
          | HxTokenKind.TSemicolon -> 10
          | HxTokenKind.TColon -> 11
          | HxTokenKind.TDot -> 12
          | HxTokenKind.TComma -> 13
          | HxTokenKind.TOther _ -> 14) = 0 then let __assign_1033 = true in (
          tempLeft := __assign_1033;
          __assign_1033
        ) else let __assign_1034 = false in (
          tempLeft := __assign_1034;
          __assign_1034
        ));
        let tempRight = ref false in (
          ignore (let _g = self.cur.kind in if (match _g with
            | HxTokenKind.TEof -> 0
            | HxTokenKind.TIdent _ -> 1
            | HxTokenKind.TString _ -> 2
            | HxTokenKind.TInt _ -> 3
            | HxTokenKind.TFloat _ -> 4
            | HxTokenKind.TKeyword _ -> 5
            | HxTokenKind.TLBrace -> 6
            | HxTokenKind.TRBrace -> 7
            | HxTokenKind.TLParen -> 8
            | HxTokenKind.TRParen -> 9
            | HxTokenKind.TSemicolon -> 10
            | HxTokenKind.TColon -> 11
            | HxTokenKind.TDot -> 12
            | HxTokenKind.TComma -> 13
            | HxTokenKind.TOther _ -> 14) = 5 then let _g2 = match _g with
            | HxTokenKind.TKeyword __enum_param_1035 -> __enum_param_1035
            | _ -> failwith "Unexpected enum parameter" in if (match _g2 with
            | HxKeyword.KPackage -> 0
            | HxKeyword.KImport -> 1
            | HxKeyword.KUsing -> 2
            | HxKeyword.KAs -> 3
            | HxKeyword.KClass -> 4
            | HxKeyword.KPublic -> 5
            | HxKeyword.KPrivate -> 6
            | HxKeyword.KStatic -> 7
            | HxKeyword.KFunction -> 8
            | HxKeyword.KReturn -> 9
            | HxKeyword.KIf -> 10
            | HxKeyword.KElse -> 11
            | HxKeyword.KSwitch -> 12
            | HxKeyword.KCase -> 13
            | HxKeyword.KDefault -> 14
            | HxKeyword.KTry -> 15
            | HxKeyword.KCatch -> 16
            | HxKeyword.KThrow -> 17
            | HxKeyword.KWhile -> 18
            | HxKeyword.KDo -> 19
            | HxKeyword.KFor -> 20
            | HxKeyword.KBreak -> 21
            | HxKeyword.KContinue -> 22
            | HxKeyword.KUntyped -> 23
            | HxKeyword.KCast -> 24
            | HxKeyword.KVar -> 25
            | HxKeyword.KFinal -> 26
            | HxKeyword.KNew -> 27
            | HxKeyword.KThis -> 28
            | HxKeyword.KSuper -> 29
            | HxKeyword.KTrue -> 30
            | HxKeyword.KFalse -> 31
            | HxKeyword.KNull -> 32) = 4 then let __assign_1036 = true in (
            tempRight := __assign_1036;
            __assign_1036
          ) else let __assign_1037 = false in (
            tempRight := __assign_1037;
            __assign_1037
          ) else let __assign_1038 = false in (
            tempRight := __assign_1038;
            __assign_1038
          ));
          if !tempLeft || !tempRight then raise (HxRuntime.Hx_break) else ()
        )
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    let className = ref "Unknown" in let functions = HxArray.create () in let fields = HxArray.create () in let hasStaticMain = ref false in (
      ignore (if !sawClass then ignore ((
        ignore (expect self (HxTokenKind.TKeyword (HxKeyword.KClass)) "'class'");
        ignore (let __assign_1039 = readIdent self "class name" in (
          className := __assign_1039;
          __assign_1039
        ));
        ignore (expect self (HxTokenKind.TLBrace) "'{'");
        let members = parseClassMembers self () in (
          ignore (let _g = ref 0 in let _g1 = Obj.obj (HxAnon.get members "functions") in while !_g < HxArray.length _g1 do ignore (let fn = HxArray.get _g1 (!_g) in (
            ignore (let __old_1040 = !_g in let __new_1041 = HxInt.add __old_1040 1 in (
              ignore (_g := __new_1041);
              __new_1041
            ));
            HxArray.push functions fn
          )) done);
          ignore (let _g = ref 0 in let _g1 = Obj.obj (HxAnon.get members "fields") in while !_g < HxArray.length _g1 do ignore (let f = HxArray.get _g1 (!_g) in (
            ignore (let __old_1042 = !_g in let __new_1043 = HxInt.add __old_1042 1 in (
              ignore (_g := __new_1043);
              __new_1043
            ));
            HxArray.push fields f
          )) done);
          let _g = ref 0 in try while !_g < HxArray.length functions do try ignore (let fn = HxArray.get functions (!_g) in (
            ignore (let __old_1044 = !_g in let __new_1045 = HxInt.add __old_1044 1 in (
              ignore (_g := __new_1045);
              __new_1045
            ));
            if HxFunctionDecl.getIsStatic fn && HxString.equals (HxFunctionDecl.getName fn) "main" then ignore ((
              ignore (let __assign_1046 = true in (
                hasStaticMain := __assign_1046;
                __assign_1046
              ));
              raise (HxRuntime.Hx_break)
            )) else ()
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ()
        )
      )) else ());
      ignore (try while true do try ignore (let _g = self.cur.kind in if (match _g with
        | HxTokenKind.TEof -> 0
        | HxTokenKind.TIdent _ -> 1
        | HxTokenKind.TString _ -> 2
        | HxTokenKind.TInt _ -> 3
        | HxTokenKind.TFloat _ -> 4
        | HxTokenKind.TKeyword _ -> 5
        | HxTokenKind.TLBrace -> 6
        | HxTokenKind.TRBrace -> 7
        | HxTokenKind.TLParen -> 8
        | HxTokenKind.TRParen -> 9
        | HxTokenKind.TSemicolon -> 10
        | HxTokenKind.TColon -> 11
        | HxTokenKind.TDot -> 12
        | HxTokenKind.TComma -> 13
        | HxTokenKind.TOther _ -> 14) = 0 then raise (HxRuntime.Hx_break) else ignore (if self.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
        ignore (let __assign_1047 = self.peeked1 in (
          self.cur <- __assign_1047;
          __assign_1047
        ));
        ignore (let __assign_1048 = self.peeked2 in (
          self.peeked1 <- __assign_1048;
          __assign_1048
        ));
        let __assign_1049 = Obj.magic (HxRuntime.hx_null) in (
          self.peeked2 <- __assign_1049;
          __assign_1049
        )
      )) else ignore (let __assign_1050 = HxLexer.next (self.lex) () in (
        self.cur <- __assign_1050;
        __assign_1050
      )))) with
        | HxRuntime.Hx_continue -> () done with
        | HxRuntime.Hx_break -> ());
      ignore (expect self (HxTokenKind.TEof) "end of input");
      HxModuleDecl.create (!packagePath) imports (HxClassDecl.create (!className) (!hasStaticMain) functions fields) false (!hasToplevelMain)
    )
  )
)

let parseExprText = fun source -> let p = create source in let e = parseExpr p (fun () -> let tempResult = ref false in let _g = p.cur.kind in (
  ignore (if (match _g with
    | HxTokenKind.TEof -> 0
    | HxTokenKind.TIdent _ -> 1
    | HxTokenKind.TString _ -> 2
    | HxTokenKind.TInt _ -> 3
    | HxTokenKind.TFloat _ -> 4
    | HxTokenKind.TKeyword _ -> 5
    | HxTokenKind.TLBrace -> 6
    | HxTokenKind.TRBrace -> 7
    | HxTokenKind.TLParen -> 8
    | HxTokenKind.TRParen -> 9
    | HxTokenKind.TSemicolon -> 10
    | HxTokenKind.TColon -> 11
    | HxTokenKind.TDot -> 12
    | HxTokenKind.TComma -> 13
    | HxTokenKind.TOther _ -> 14) = 0 then let __assign_1084 = true in (
    tempResult := __assign_1084;
    __assign_1084
  ) else let __assign_1085 = false in (
    tempResult := __assign_1085;
    __assign_1085
  ));
  !tempResult
)) in e

let parseFunctionBodyText = fun bodySource -> try let tempString = ref "" in (
  ignore (if bodySource == Obj.magic (HxRuntime.hx_null) then let __assign_1086 = "" in (
    tempString := __assign_1086;
    __assign_1086
  ) else let __assign_1087 = bodySource in (
    tempString := __assign_1087;
    __assign_1087
  ));
  let src = ("{\n" ^ HxString.toStdString (!tempString)) ^ "\n}" in let p = create src in let tempBool = ref false in let _g = p.cur.kind in (
    ignore (if (match _g with
      | HxTokenKind.TEof -> 0
      | HxTokenKind.TIdent _ -> 1
      | HxTokenKind.TString _ -> 2
      | HxTokenKind.TInt _ -> 3
      | HxTokenKind.TFloat _ -> 4
      | HxTokenKind.TKeyword _ -> 5
      | HxTokenKind.TLBrace -> 6
      | HxTokenKind.TRBrace -> 7
      | HxTokenKind.TLParen -> 8
      | HxTokenKind.TRParen -> 9
      | HxTokenKind.TSemicolon -> 10
      | HxTokenKind.TColon -> 11
      | HxTokenKind.TDot -> 12
      | HxTokenKind.TComma -> 13
      | HxTokenKind.TOther _ -> 14) = 6 then let __assign_1088 = true in (
      tempBool := __assign_1088;
      __assign_1088
    ) else let __assign_1089 = false in (
      tempBool := __assign_1089;
      __assign_1089
    ));
    ignore (if not (!tempBool) then raise (HxRuntime.Hx_return (Obj.repr (let __arr_1090 = HxArray.create () in __arr_1090))) else ());
    ignore (if p.peeked1 != Obj.magic (HxRuntime.hx_null) then ignore ((
      ignore (let __assign_1091 = p.peeked1 in (
        p.cur <- __assign_1091;
        __assign_1091
      ));
      ignore (let __assign_1092 = p.peeked2 in (
        p.peeked1 <- __assign_1092;
        __assign_1092
      ));
      let __assign_1093 = Obj.magic (HxRuntime.hx_null) in (
        p.peeked2 <- __assign_1093;
        __assign_1093
      )
    )) else ignore (let __assign_1094 = HxLexer.next (p.lex) () in (
      p.cur <- __assign_1094;
      __assign_1094
    )));
    parseFunctionBodyStatementsBestEffort p ()
  )
) with
  | HxRuntime.Hx_return __ret_1095 -> Obj.obj __ret_1095