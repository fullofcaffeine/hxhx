# 1 "HxDefineMap.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxDefineMap *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t }

let create = fun () -> let self = ({ __hx_type = HxType.class_ "HxDefineMap" } : t) in (
  ignore ();
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxDefineMap" } : t)

let addRawDefine = fun dst raw -> try (
  ignore (if dst == Obj.magic (HxRuntime.hx_null) || raw == Obj.magic (HxRuntime.hx_null) then raise (HxRuntime.Hx_return (Obj.repr ())) else ());
  let s = StringTools.trim raw in (
    ignore (if HxString.length s = 0 then raise (HxRuntime.Hx_return (Obj.repr ())) else ());
    let eq = HxString.indexOf s "=" 0 in (
      ignore (if eq = -1 then ignore ((
        ignore (HxMap.set_string dst s "1");
        raise (HxRuntime.Hx_return (Obj.repr ()))
      )) else ());
      let name = StringTools.trim (HxString.substr s 0 eq) in (
        ignore (if HxString.length name = 0 then raise (HxRuntime.Hx_return (Obj.repr ())) else ());
        let value = HxString.substr s (HxInt.add eq 1) (-1) in HxMap.set_string dst name value
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_1 -> Obj.obj __ret_1

let fromRawDefines = fun rawDefines -> try let out = HxMap.create_string () in (
  ignore (if rawDefines == Obj.magic (HxRuntime.hx_null) then raise (HxRuntime.Hx_return (Obj.repr out)) else ());
  let _g = ref 0 in (
    ignore (while !_g < HxArray.length rawDefines do ignore (let raw = HxArray.get rawDefines (!_g) in (
      ignore (let __old_2 = !_g in let __new_3 = HxInt.add __old_2 1 in (
        ignore (_g := __new_3);
        __new_3
      ));
      addRawDefine out raw
    )) done);
    out
  )
) with
  | HxRuntime.Hx_return __ret_4 -> Obj.obj __ret_4

let mergeInto = fun dst src -> try (
  ignore (if dst == Obj.magic (HxRuntime.hx_null) || src == Obj.magic (HxRuntime.hx_null) then raise (HxRuntime.Hx_return (Obj.repr ())) else ());
  let k = HxIterator.of_array (HxMap.keys_string src) in while (let __iter_5 = k in fun () -> HxIterator.hasNext __iter_5) () do ignore (let k2 = (let __iter_6 = k in fun () -> HxIterator.next __iter_6) () in HxMap.set_string dst k2 (HxMap.get_string src k2)) done
) with
  | HxRuntime.Hx_return __ret_7 -> Obj.obj __ret_7