# 1 "HxLexer.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxLexer *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable src : string; mutable index : int; mutable line : int; mutable column : int }

let create = fun src2 -> let self = ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t) in (
  ignore ((
    ignore (let __assign_1 = 1 in (
      self.column <- __assign_1;
      __assign_1
    ));
    ignore (let __assign_2 = 1 in (
      self.line <- __assign_2;
      __assign_2
    ));
    ignore (let __assign_3 = 0 in (
      self.index <- __assign_3;
      __assign_3
    ));
    let __assign_4 = src2 in (
      self.src <- __assign_4;
      __assign_4
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t)

let eof = fun self () -> self.index >= HxString.length (self.src)

let peek = fun self (offset : int) -> let i = HxInt.add (self.index) offset in let tempResult = ref 0 in (
  ignore (if i >= HxString.length (self.src) then let __assign_5 = -1 in (
    tempResult := __assign_5;
    __assign_5
  ) else let __assign_6 = let __nullable_int_7 = HxString.charCodeAt (self.src) i in if __nullable_int_7 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_7 in (
    tempResult := __assign_6;
    __assign_6
  ));
  !tempResult
)

let bump = fun self () -> let tempNumber = ref 0 in let i = self.index in (
  ignore (if i >= HxString.length (self.src) then let __assign_8 = -1 in (
    tempNumber := __assign_8;
    __assign_8
  ) else let __assign_9 = let __nullable_int_10 = HxString.charCodeAt (self.src) i in if __nullable_int_10 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_10 in (
    tempNumber := __assign_9;
    __assign_9
  ));
  let c = !tempNumber in (
    ignore (let __obj_11 = self in let __old_12 = __obj_11.index in let __new_13 = HxInt.add __old_12 1 in (
      ignore (__obj_11.index <- __new_13);
      __old_12
    ));
    ignore (if c = 10 then ignore ((
      ignore (let __obj_14 = self in let __old_15 = __obj_14.line in let __new_16 = HxInt.add __old_15 1 in (
        ignore (__obj_14.line <- __new_16);
        __old_15
      ));
      let __assign_17 = 1 in (
        self.column <- __assign_17;
        __assign_17
      )
    )) else ignore (if c <> 13 then ignore (let __obj_18 = self in let __old_19 = __obj_18.column in let __new_20 = HxInt.add __old_19 1 in (
      ignore (__obj_18.column <- __new_20);
      __old_19
    )) else ()));
    c
  )
)

let pos = fun self () -> HxPos.create (self.index) (self.line) (self.column)

let skipWhitespaceAndComments = fun self () -> ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber = ref 0 in (
  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_21 = -1 in (
    tempNumber := __assign_21;
    __assign_21
  ) else let __assign_22 = let __nullable_int_23 = HxString.charCodeAt (self.src) i in if __nullable_int_23 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_23 in (
    tempNumber := __assign_22;
    __assign_22
  ));
  let c = !tempNumber in (
    ignore (if c = 9 || c = 10 || c = 13 || c = 32 then ignore ((
      ignore (let tempNumber1 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_24 = -1 in (
          tempNumber1 := __assign_24;
          __assign_24
        ) else let __assign_25 = let __nullable_int_26 = HxString.charCodeAt (self.src) i in if __nullable_int_26 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_26 in (
          tempNumber1 := __assign_25;
          __assign_25
        ));
        let c2 = !tempNumber1 in (
          ignore (let __obj_27 = self in let __old_28 = __obj_27.index in let __new_29 = HxInt.add __old_28 1 in (
            ignore (__obj_27.index <- __new_29);
            __old_28
          ));
          ignore (if c2 = 10 then ignore ((
            ignore (let __obj_30 = self in let __old_31 = __obj_30.line in let __new_32 = HxInt.add __old_31 1 in (
              ignore (__obj_30.line <- __new_32);
              __old_31
            ));
            let __assign_33 = 1 in (
              self.column <- __assign_33;
              __assign_33
            )
          )) else ignore (if c2 <> 13 then ignore (let __obj_34 = self in let __old_35 = __obj_34.column in let __new_36 = HxInt.add __old_35 1 in (
            ignore (__obj_34.column <- __new_36);
            __old_35
          )) else ()));
          c2
        )
      ));
      raise (HxRuntime.Hx_continue)
    )) else ());
    let tempLeft = ref 0 in (
      ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_37 = -1 in (
        tempLeft := __assign_37;
        __assign_37
      ) else let __assign_38 = let __nullable_int_39 = HxString.charCodeAt (self.src) i in if __nullable_int_39 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_39 in (
        tempLeft := __assign_38;
        __assign_38
      ));
      ignore (if c = 47 && !tempLeft = 47 then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_40 = -1 in (
            tempNumber2 := __assign_40;
            __assign_40
          ) else let __assign_41 = let __nullable_int_42 = HxString.charCodeAt (self.src) i in if __nullable_int_42 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_42 in (
            tempNumber2 := __assign_41;
            __assign_41
          ));
          let c2 = !tempNumber2 in (
            ignore (let __obj_43 = self in let __old_44 = __obj_43.index in let __new_45 = HxInt.add __old_44 1 in (
              ignore (__obj_43.index <- __new_45);
              __old_44
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_46 = self in let __old_47 = __obj_46.line in let __new_48 = HxInt.add __old_47 1 in (
                ignore (__obj_46.line <- __new_48);
                __old_47
              ));
              let __assign_49 = 1 in (
                self.column <- __assign_49;
                __assign_49
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_50 = self in let __old_51 = __obj_50.column in let __new_52 = HxInt.add __old_51 1 in (
              ignore (__obj_50.column <- __new_52);
              __old_51
            )) else ()));
            c2
          )
        ));
        ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_53 = -1 in (
            tempNumber3 := __assign_53;
            __assign_53
          ) else let __assign_54 = let __nullable_int_55 = HxString.charCodeAt (self.src) i in if __nullable_int_55 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_55 in (
            tempNumber3 := __assign_54;
            __assign_54
          ));
          let c2 = !tempNumber3 in (
            ignore (let __obj_56 = self in let __old_57 = __obj_56.index in let __new_58 = HxInt.add __old_57 1 in (
              ignore (__obj_56.index <- __new_58);
              __old_57
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_59 = self in let __old_60 = __obj_59.line in let __new_61 = HxInt.add __old_60 1 in (
                ignore (__obj_59.line <- __new_61);
                __old_60
              ));
              let __assign_62 = 1 in (
                self.column <- __assign_62;
                __assign_62
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_63 = self in let __old_64 = __obj_63.column in let __new_65 = HxInt.add __old_64 1 in (
              ignore (__obj_63.column <- __new_65);
              __old_64
            )) else ()));
            c2
          )
        ));
        ignore (try while true do try ignore (let tempLeft1 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_66 = -1 in (
            tempLeft1 := __assign_66;
            __assign_66
          ) else let __assign_67 = let __nullable_int_68 = HxString.charCodeAt (self.src) i in if __nullable_int_68 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_68 in (
            tempLeft1 := __assign_67;
            __assign_67
          ));
          ignore (if not (self.index < HxString.length (self.src) && !tempLeft1 <> 10) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_69 = -1 in (
              tempNumber4 := __assign_69;
              __assign_69
            ) else let __assign_70 = let __nullable_int_71 = HxString.charCodeAt (self.src) i in if __nullable_int_71 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_71 in (
              tempNumber4 := __assign_70;
              __assign_70
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_72 = self in let __old_73 = __obj_72.index in let __new_74 = HxInt.add __old_73 1 in (
                ignore (__obj_72.index <- __new_74);
                __old_73
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_75 = self in let __old_76 = __obj_75.line in let __new_77 = HxInt.add __old_76 1 in (
                  ignore (__obj_75.line <- __new_77);
                  __old_76
                ));
                let __assign_78 = 1 in (
                  self.column <- __assign_78;
                  __assign_78
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_79 = self in let __old_80 = __obj_79.column in let __new_81 = HxInt.add __old_80 1 in (
                ignore (__obj_79.column <- __new_81);
                __old_80
              )) else ()));
              c2
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        raise (HxRuntime.Hx_continue)
      )) else ());
      let tempLeft2 = ref 0 in (
        ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_82 = -1 in (
          tempLeft2 := __assign_82;
          __assign_82
        ) else let __assign_83 = let __nullable_int_84 = HxString.charCodeAt (self.src) i in if __nullable_int_84 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_84 in (
          tempLeft2 := __assign_83;
          __assign_83
        ));
        ignore (if c = 47 && !tempLeft2 = 42 then ignore ((
          ignore (let tempNumber5 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_85 = -1 in (
              tempNumber5 := __assign_85;
              __assign_85
            ) else let __assign_86 = let __nullable_int_87 = HxString.charCodeAt (self.src) i in if __nullable_int_87 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_87 in (
              tempNumber5 := __assign_86;
              __assign_86
            ));
            let c2 = !tempNumber5 in (
              ignore (let __obj_88 = self in let __old_89 = __obj_88.index in let __new_90 = HxInt.add __old_89 1 in (
                ignore (__obj_88.index <- __new_90);
                __old_89
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_91 = self in let __old_92 = __obj_91.line in let __new_93 = HxInt.add __old_92 1 in (
                  ignore (__obj_91.line <- __new_93);
                  __old_92
                ));
                let __assign_94 = 1 in (
                  self.column <- __assign_94;
                  __assign_94
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_95 = self in let __old_96 = __obj_95.column in let __new_97 = HxInt.add __old_96 1 in (
                ignore (__obj_95.column <- __new_97);
                __old_96
              )) else ()));
              c2
            )
          ));
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_98 = -1 in (
              tempNumber6 := __assign_98;
              __assign_98
            ) else let __assign_99 = let __nullable_int_100 = HxString.charCodeAt (self.src) i in if __nullable_int_100 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_100 in (
              tempNumber6 := __assign_99;
              __assign_99
            ));
            let c2 = !tempNumber6 in (
              ignore (let __obj_101 = self in let __old_102 = __obj_101.index in let __new_103 = HxInt.add __old_102 1 in (
                ignore (__obj_101.index <- __new_103);
                __old_102
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_104 = self in let __old_105 = __obj_104.line in let __new_106 = HxInt.add __old_105 1 in (
                  ignore (__obj_104.line <- __new_106);
                  __old_105
                ));
                let __assign_107 = 1 in (
                  self.column <- __assign_107;
                  __assign_107
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_108 = self in let __old_109 = __obj_108.column in let __new_110 = HxInt.add __old_109 1 in (
                ignore (__obj_108.column <- __new_110);
                __old_109
              )) else ()));
              c2
            )
          ));
          ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber7 = ref 0 in (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_111 = -1 in (
                tempNumber8 := __assign_111;
                __assign_111
              ) else let __assign_112 = let __nullable_int_113 = HxString.charCodeAt (self.src) i in if __nullable_int_113 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_113 in (
                tempNumber8 := __assign_112;
                __assign_112
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_114 = self in let __old_115 = __obj_114.index in let __new_116 = HxInt.add __old_115 1 in (
                  ignore (__obj_114.index <- __new_116);
                  __old_115
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_117 = self in let __old_118 = __obj_117.line in let __new_119 = HxInt.add __old_118 1 in (
                    ignore (__obj_117.line <- __new_119);
                    __old_118
                  ));
                  let __assign_120 = 1 in (
                    self.column <- __assign_120;
                    __assign_120
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_121 = self in let __old_122 = __obj_121.column in let __new_123 = HxInt.add __old_122 1 in (
                  ignore (__obj_121.column <- __new_123);
                  __old_122
                )) else ()));
                let __assign_124 = c2 in (
                  tempNumber7 := __assign_124;
                  __assign_124
                )
              )
            ));
            let d = !tempNumber7 in let tempLeft3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_125 = -1 in (
                tempLeft3 := __assign_125;
                __assign_125
              ) else let __assign_126 = let __nullable_int_127 = HxString.charCodeAt (self.src) i in if __nullable_int_127 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_127 in (
                tempLeft3 := __assign_126;
                __assign_126
              ));
              if d = 42 && !tempLeft3 = 47 then ignore ((
                ignore (let tempNumber9 = ref 0 in (
                  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_128 = -1 in (
                    tempNumber9 := __assign_128;
                    __assign_128
                  ) else let __assign_129 = let __nullable_int_130 = HxString.charCodeAt (self.src) i in if __nullable_int_130 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_130 in (
                    tempNumber9 := __assign_129;
                    __assign_129
                  ));
                  let c2 = !tempNumber9 in (
                    ignore (let __obj_131 = self in let __old_132 = __obj_131.index in let __new_133 = HxInt.add __old_132 1 in (
                      ignore (__obj_131.index <- __new_133);
                      __old_132
                    ));
                    ignore (if c2 = 10 then ignore ((
                      ignore (let __obj_134 = self in let __old_135 = __obj_134.line in let __new_136 = HxInt.add __old_135 1 in (
                        ignore (__obj_134.line <- __new_136);
                        __old_135
                      ));
                      let __assign_137 = 1 in (
                        self.column <- __assign_137;
                        __assign_137
                      )
                    )) else ignore (if c2 <> 13 then ignore (let __obj_138 = self in let __old_139 = __obj_138.column in let __new_140 = HxInt.add __old_139 1 in (
                      ignore (__obj_138.column <- __new_140);
                      __old_139
                    )) else ()));
                    c2
                  )
                ));
                raise (HxRuntime.Hx_break)
              )) else ()
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ());
          raise (HxRuntime.Hx_continue)
        )) else ());
        raise (HxRuntime.Hx_break)
      )
    )
  )
)) with
  | HxRuntime.Hx_continue -> () done with
  | HxRuntime.Hx_break -> ())

let readIdent = fun self (startPos : HxPos.t) -> let start = self.index in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_141 = -1 in (
      tempNumber := __assign_141;
      __assign_141
    ) else let __assign_142 = let __nullable_int_143 = HxString.charCodeAt (self.src) i in if __nullable_int_143 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_143 in (
      tempNumber := __assign_142;
      __assign_142
    ));
    let c = !tempNumber in (
      ignore (let __obj_144 = self in let __old_145 = __obj_144.index in let __new_146 = HxInt.add __old_145 1 in (
        ignore (__obj_144.index <- __new_146);
        __old_145
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_147 = self in let __old_148 = __obj_147.line in let __new_149 = HxInt.add __old_148 1 in (
          ignore (__obj_147.line <- __new_149);
          __old_148
        ));
        let __assign_150 = 1 in (
          self.column <- __assign_150;
          __assign_150
        )
      )) else ignore (if c <> 13 then ignore (let __obj_151 = self in let __old_152 = __obj_151.column in let __new_153 = HxInt.add __old_152 1 in (
        ignore (__obj_151.column <- __new_153);
        __old_152
      )) else ()));
      c
    )
  ));
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_154 = -1 in (
        tempNumber1 := __assign_154;
        __assign_154
      ) else let __assign_155 = let __nullable_int_156 = HxString.charCodeAt (self.src) i in if __nullable_int_156 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_156 in (
        tempNumber1 := __assign_155;
        __assign_155
      ));
      let c = !tempNumber1 in let __assign_157 = c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57 in (
        tempRight := __assign_157;
        __assign_157
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber2 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_158 = -1 in (
        tempNumber2 := __assign_158;
        __assign_158
      ) else let __assign_159 = let __nullable_int_160 = HxString.charCodeAt (self.src) i in if __nullable_int_160 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_160 in (
        tempNumber2 := __assign_159;
        __assign_159
      ));
      let c = !tempNumber2 in (
        ignore (let __obj_161 = self in let __old_162 = __obj_161.index in let __new_163 = HxInt.add __old_162 1 in (
          ignore (__obj_161.index <- __new_163);
          __old_162
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_164 = self in let __old_165 = __obj_164.line in let __new_166 = HxInt.add __old_165 1 in (
            ignore (__obj_164.line <- __new_166);
            __old_165
          ));
          let __assign_167 = 1 in (
            self.column <- __assign_167;
            __assign_167
          )
        )) else ignore (if c <> 13 then ignore (let __obj_168 = self in let __old_169 = __obj_168.column in let __new_170 = HxInt.add __old_169 1 in (
          ignore (__obj_168.column <- __new_170);
          __old_169
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let text = HxString.substring (self.src) start (self.index) in let tempResult = ref (Obj.magic ()) in (
    ignore (match text with
      | "as" -> let __assign_172 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KAs)) startPos in (
        tempResult := __assign_172;
        __assign_172
      )
      | "break" -> let __assign_173 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KBreak)) startPos in (
        tempResult := __assign_173;
        __assign_173
      )
      | "case" -> let __assign_174 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCase)) startPos in (
        tempResult := __assign_174;
        __assign_174
      )
      | "cast" -> let __assign_175 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCast)) startPos in (
        tempResult := __assign_175;
        __assign_175
      )
      | "catch" -> let __assign_176 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCatch)) startPos in (
        tempResult := __assign_176;
        __assign_176
      )
      | "class" -> let __assign_177 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KClass)) startPos in (
        tempResult := __assign_177;
        __assign_177
      )
      | "continue" -> let __assign_178 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KContinue)) startPos in (
        tempResult := __assign_178;
        __assign_178
      )
      | "default" -> let __assign_179 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDefault)) startPos in (
        tempResult := __assign_179;
        __assign_179
      )
      | "do" -> let __assign_180 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDo)) startPos in (
        tempResult := __assign_180;
        __assign_180
      )
      | "else" -> let __assign_181 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KElse)) startPos in (
        tempResult := __assign_181;
        __assign_181
      )
      | "false" -> let __assign_182 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFalse)) startPos in (
        tempResult := __assign_182;
        __assign_182
      )
      | "final" -> let __assign_183 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFinal)) startPos in (
        tempResult := __assign_183;
        __assign_183
      )
      | "for" -> let __assign_184 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFor)) startPos in (
        tempResult := __assign_184;
        __assign_184
      )
      | "function" -> let __assign_185 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFunction)) startPos in (
        tempResult := __assign_185;
        __assign_185
      )
      | "if" -> let __assign_186 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIf)) startPos in (
        tempResult := __assign_186;
        __assign_186
      )
      | "import" -> let __assign_187 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KImport)) startPos in (
        tempResult := __assign_187;
        __assign_187
      )
      | "new" -> let __assign_188 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNew)) startPos in (
        tempResult := __assign_188;
        __assign_188
      )
      | "null" -> let __assign_189 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNull)) startPos in (
        tempResult := __assign_189;
        __assign_189
      )
      | "package" -> let __assign_190 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPackage)) startPos in (
        tempResult := __assign_190;
        __assign_190
      )
      | "private" -> let __assign_191 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPrivate)) startPos in (
        tempResult := __assign_191;
        __assign_191
      )
      | "public" -> let __assign_192 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPublic)) startPos in (
        tempResult := __assign_192;
        __assign_192
      )
      | "return" -> let __assign_193 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KReturn)) startPos in (
        tempResult := __assign_193;
        __assign_193
      )
      | "static" -> let __assign_194 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KStatic)) startPos in (
        tempResult := __assign_194;
        __assign_194
      )
      | "super" -> let __assign_195 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSuper)) startPos in (
        tempResult := __assign_195;
        __assign_195
      )
      | "switch" -> let __assign_196 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSwitch)) startPos in (
        tempResult := __assign_196;
        __assign_196
      )
      | "this" -> let __assign_197 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThis)) startPos in (
        tempResult := __assign_197;
        __assign_197
      )
      | "throw" -> let __assign_198 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThrow)) startPos in (
        tempResult := __assign_198;
        __assign_198
      )
      | "true" -> let __assign_199 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTrue)) startPos in (
        tempResult := __assign_199;
        __assign_199
      )
      | "try" -> let __assign_200 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTry)) startPos in (
        tempResult := __assign_200;
        __assign_200
      )
      | "untyped" -> let __assign_201 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUntyped)) startPos in (
        tempResult := __assign_201;
        __assign_201
      )
      | "using" -> let __assign_202 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUsing)) startPos in (
        tempResult := __assign_202;
        __assign_202
      )
      | "var" -> let __assign_203 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KVar)) startPos in (
        tempResult := __assign_203;
        __assign_203
      )
      | "while" -> let __assign_204 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KWhile)) startPos in (
        tempResult := __assign_204;
        __assign_204
      )
      | _ -> let __assign_171 = HxToken.create (HxTokenKind.TIdent text) startPos in (
        tempResult := __assign_171;
        __assign_171
      ));
    !tempResult
  )
)

let readNumber = fun self (startPos : HxPos.t) -> try let start = self.index in (
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_205 = -1 in (
        tempNumber := __assign_205;
        __assign_205
      ) else let __assign_206 = let __nullable_int_207 = HxString.charCodeAt (self.src) i in if __nullable_int_207 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_207 in (
        tempNumber := __assign_206;
        __assign_206
      ));
      let c = !tempNumber in let __assign_208 = c >= 48 && c <= 57 in (
        tempRight := __assign_208;
        __assign_208
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_209 = -1 in (
        tempNumber1 := __assign_209;
        __assign_209
      ) else let __assign_210 = let __nullable_int_211 = HxString.charCodeAt (self.src) i in if __nullable_int_211 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_211 in (
        tempNumber1 := __assign_210;
        __assign_210
      ));
      let c = !tempNumber1 in (
        ignore (let __obj_212 = self in let __old_213 = __obj_212.index in let __new_214 = HxInt.add __old_213 1 in (
          ignore (__obj_212.index <- __new_214);
          __old_213
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_215 = self in let __old_216 = __obj_215.line in let __new_217 = HxInt.add __old_216 1 in (
            ignore (__obj_215.line <- __new_217);
            __old_216
          ));
          let __assign_218 = 1 in (
            self.column <- __assign_218;
            __assign_218
          )
        )) else ignore (if c <> 13 then ignore (let __obj_219 = self in let __old_220 = __obj_219.column in let __new_221 = HxInt.add __old_220 1 in (
          ignore (__obj_219.column <- __new_221);
          __old_220
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let tempLeft = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_222 = -1 in (
      tempLeft := __assign_222;
      __assign_222
    ) else let __assign_223 = let __nullable_int_224 = HxString.charCodeAt (self.src) i in if __nullable_int_224 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_224 in (
      tempLeft := __assign_223;
      __assign_223
    ));
    let tempLeft1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_225 = -1 in (
        tempLeft1 := __assign_225;
        __assign_225
      ) else let __assign_226 = let __nullable_int_227 = HxString.charCodeAt (self.src) i in if __nullable_int_227 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_227 in (
        tempLeft1 := __assign_226;
        __assign_226
      ));
      ignore (if self.index < HxString.length (self.src) && self.index = HxInt.add start 1 && (let __nullable_228 = HxString.charCodeAt (self.src) start in if __nullable_228 == HxRuntime.hx_null then false else Obj.obj __nullable_228 = 48) && (!tempLeft = 120 || !tempLeft1 = 88) then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_229 = -1 in (
            tempNumber2 := __assign_229;
            __assign_229
          ) else let __assign_230 = let __nullable_int_231 = HxString.charCodeAt (self.src) i in if __nullable_int_231 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_231 in (
            tempNumber2 := __assign_230;
            __assign_230
          ));
          let c = !tempNumber2 in (
            ignore (let __obj_232 = self in let __old_233 = __obj_232.index in let __new_234 = HxInt.add __old_233 1 in (
              ignore (__obj_232.index <- __new_234);
              __old_233
            ));
            ignore (if c = 10 then ignore ((
              ignore (let __obj_235 = self in let __old_236 = __obj_235.line in let __new_237 = HxInt.add __old_236 1 in (
                ignore (__obj_235.line <- __new_237);
                __old_236
              ));
              let __assign_238 = 1 in (
                self.column <- __assign_238;
                __assign_238
              )
            )) else ignore (if c <> 13 then ignore (let __obj_239 = self in let __old_240 = __obj_239.column in let __new_241 = HxInt.add __old_240 1 in (
              ignore (__obj_239.column <- __new_241);
              __old_240
            )) else ()));
            c
          )
        ));
        ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_242 = -1 in (
            tempNumber3 := __assign_242;
            __assign_242
          ) else let __assign_243 = let __nullable_int_244 = HxString.charCodeAt (self.src) i in if __nullable_int_244 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_244 in (
            tempNumber3 := __assign_243;
            __assign_243
          ));
          let c = !tempNumber3 in let isHex = c >= 48 && c <= 57 || c >= 97 && c <= 102 || c >= 65 && c <= 70 in (
            ignore (if not (isHex) then raise (HxRuntime.Hx_break) else ());
            let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_245 = -1 in (
                tempNumber4 := __assign_245;
                __assign_245
              ) else let __assign_246 = let __nullable_int_247 = HxString.charCodeAt (self.src) i in if __nullable_int_247 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_247 in (
                tempNumber4 := __assign_246;
                __assign_246
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_248 = self in let __old_249 = __obj_248.index in let __new_250 = HxInt.add __old_249 1 in (
                  ignore (__obj_248.index <- __new_250);
                  __old_249
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_251 = self in let __old_252 = __obj_251.line in let __new_253 = HxInt.add __old_252 1 in (
                    ignore (__obj_251.line <- __new_253);
                    __old_252
                  ));
                  let __assign_254 = 1 in (
                    self.column <- __assign_254;
                    __assign_254
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_255 = self in let __old_256 = __obj_255.column in let __new_257 = HxInt.add __old_256 1 in (
                  ignore (__obj_255.column <- __new_257);
                  __old_256
                )) else ()));
                c2
              )
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let text = HxString.substring (self.src) start (self.index) in let value = Std.parseInt text in let tempNumber5 = ref 0 in (
          ignore (if value == HxRuntime.hx_null then let __assign_258 = 0 in (
            tempNumber5 := __assign_258;
            __assign_258
          ) else let __assign_259 = let __nullable_int_260 = value in if __nullable_int_260 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_260 in (
            tempNumber5 := __assign_259;
            __assign_259
          ));
          raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TInt (!tempNumber5)) startPos)))
        )
      )) else ());
      let isFloat = ref false in let tempLeft2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_261 = -1 in (
          tempLeft2 := __assign_261;
          __assign_261
        ) else let __assign_262 = let __nullable_int_263 = HxString.charCodeAt (self.src) i in if __nullable_int_263 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_263 in (
          tempLeft2 := __assign_262;
          __assign_262
        ));
        let tempRight1 = ref false in (
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_264 = -1 in (
              tempNumber6 := __assign_264;
              __assign_264
            ) else let __assign_265 = let __nullable_int_266 = HxString.charCodeAt (self.src) i in if __nullable_int_266 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_266 in (
              tempNumber6 := __assign_265;
              __assign_265
            ));
            let c = !tempNumber6 in let __assign_267 = c >= 48 && c <= 57 in (
              tempRight1 := __assign_267;
              __assign_267
            )
          ));
          ignore (if self.index < HxString.length (self.src) && !tempLeft2 = 46 && !tempRight1 then ignore ((
            ignore (let __assign_268 = true in (
              isFloat := __assign_268;
              __assign_268
            ));
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_269 = -1 in (
                tempNumber7 := __assign_269;
                __assign_269
              ) else let __assign_270 = let __nullable_int_271 = HxString.charCodeAt (self.src) i in if __nullable_int_271 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_271 in (
                tempNumber7 := __assign_270;
                __assign_270
              ));
              let c = !tempNumber7 in (
                ignore (let __obj_272 = self in let __old_273 = __obj_272.index in let __new_274 = HxInt.add __old_273 1 in (
                  ignore (__obj_272.index <- __new_274);
                  __old_273
                ));
                ignore (if c = 10 then ignore ((
                  ignore (let __obj_275 = self in let __old_276 = __obj_275.line in let __new_277 = HxInt.add __old_276 1 in (
                    ignore (__obj_275.line <- __new_277);
                    __old_276
                  ));
                  let __assign_278 = 1 in (
                    self.column <- __assign_278;
                    __assign_278
                  )
                )) else ignore (if c <> 13 then ignore (let __obj_279 = self in let __old_280 = __obj_279.column in let __new_281 = HxInt.add __old_280 1 in (
                  ignore (__obj_279.column <- __new_281);
                  __old_280
                )) else ()));
                c
              )
            ));
            try while true do try ignore (let tempRight2 = ref false in (
              ignore (let tempNumber8 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_282 = -1 in (
                  tempNumber8 := __assign_282;
                  __assign_282
                ) else let __assign_283 = let __nullable_int_284 = HxString.charCodeAt (self.src) i in if __nullable_int_284 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_284 in (
                  tempNumber8 := __assign_283;
                  __assign_283
                ));
                let c = !tempNumber8 in let __assign_285 = c >= 48 && c <= 57 in (
                  tempRight2 := __assign_285;
                  __assign_285
                )
              ));
              ignore (if not (self.index < HxString.length (self.src) && !tempRight2) then raise (HxRuntime.Hx_break) else ());
              let tempNumber9 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_286 = -1 in (
                  tempNumber9 := __assign_286;
                  __assign_286
                ) else let __assign_287 = let __nullable_int_288 = HxString.charCodeAt (self.src) i in if __nullable_int_288 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_288 in (
                  tempNumber9 := __assign_287;
                  __assign_287
                ));
                let c = !tempNumber9 in (
                  ignore (let __obj_289 = self in let __old_290 = __obj_289.index in let __new_291 = HxInt.add __old_290 1 in (
                    ignore (__obj_289.index <- __new_291);
                    __old_290
                  ));
                  ignore (if c = 10 then ignore ((
                    ignore (let __obj_292 = self in let __old_293 = __obj_292.line in let __new_294 = HxInt.add __old_293 1 in (
                      ignore (__obj_292.line <- __new_294);
                      __old_293
                    ));
                    let __assign_295 = 1 in (
                      self.column <- __assign_295;
                      __assign_295
                    )
                  )) else ignore (if c <> 13 then ignore (let __obj_296 = self in let __old_297 = __obj_296.column in let __new_298 = HxInt.add __old_297 1 in (
                    ignore (__obj_296.column <- __new_298);
                    __old_297
                  )) else ()));
                  c
                )
              )
            )) with
              | HxRuntime.Hx_continue -> () done with
              | HxRuntime.Hx_break -> ()
          )) else ());
          let tempLeft3 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_299 = -1 in (
              tempLeft3 := __assign_299;
              __assign_299
            ) else let __assign_300 = let __nullable_int_301 = HxString.charCodeAt (self.src) i in if __nullable_int_301 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_301 in (
              tempLeft3 := __assign_300;
              __assign_300
            ));
            let tempLeft4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_302 = -1 in (
                tempLeft4 := __assign_302;
                __assign_302
              ) else let __assign_303 = let __nullable_int_304 = HxString.charCodeAt (self.src) i in if __nullable_int_304 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_304 in (
                tempLeft4 := __assign_303;
                __assign_303
              ));
              ignore (if self.index < HxString.length (self.src) && (!tempLeft3 = 101 || !tempLeft4 = 69) then ignore (let off = ref 1 in let tempNumber10 = ref 0 in (
                ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_305 = -1 in (
                  tempNumber10 := __assign_305;
                  __assign_305
                ) else let __assign_306 = let __nullable_int_307 = HxString.charCodeAt (self.src) i in if __nullable_int_307 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_307 in (
                  tempNumber10 := __assign_306;
                  __assign_306
                ));
                let sign = !tempNumber10 in (
                  ignore (if sign = 43 || sign = 45 then ignore (let __assign_308 = 2 in (
                    off := __assign_308;
                    __assign_308
                  )) else ());
                  let tempBool = ref false in (
                    ignore (let tempNumber11 = ref 0 in (
                      ignore (let i = HxInt.add (self.index) (!off) in if i >= HxString.length (self.src) then let __assign_309 = -1 in (
                        tempNumber11 := __assign_309;
                        __assign_309
                      ) else let __assign_310 = let __nullable_int_311 = HxString.charCodeAt (self.src) i in if __nullable_int_311 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_311 in (
                        tempNumber11 := __assign_310;
                        __assign_310
                      ));
                      let c = !tempNumber11 in let __assign_312 = c >= 48 && c <= 57 in (
                        tempBool := __assign_312;
                        __assign_312
                      )
                    ));
                    if !tempBool then ignore ((
                      ignore (let __assign_313 = true in (
                        isFloat := __assign_313;
                        __assign_313
                      ));
                      ignore (let tempNumber12 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_314 = -1 in (
                          tempNumber12 := __assign_314;
                          __assign_314
                        ) else let __assign_315 = let __nullable_int_316 = HxString.charCodeAt (self.src) i in if __nullable_int_316 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_316 in (
                          tempNumber12 := __assign_315;
                          __assign_315
                        ));
                        let c = !tempNumber12 in (
                          ignore (let __obj_317 = self in let __old_318 = __obj_317.index in let __new_319 = HxInt.add __old_318 1 in (
                            ignore (__obj_317.index <- __new_319);
                            __old_318
                          ));
                          ignore (if c = 10 then ignore ((
                            ignore (let __obj_320 = self in let __old_321 = __obj_320.line in let __new_322 = HxInt.add __old_321 1 in (
                              ignore (__obj_320.line <- __new_322);
                              __old_321
                            ));
                            let __assign_323 = 1 in (
                              self.column <- __assign_323;
                              __assign_323
                            )
                          )) else ignore (if c <> 13 then ignore (let __obj_324 = self in let __old_325 = __obj_324.column in let __new_326 = HxInt.add __old_325 1 in (
                            ignore (__obj_324.column <- __new_326);
                            __old_325
                          )) else ()));
                          c
                        )
                      ));
                      let tempLeft5 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_327 = -1 in (
                          tempLeft5 := __assign_327;
                          __assign_327
                        ) else let __assign_328 = let __nullable_int_329 = HxString.charCodeAt (self.src) i in if __nullable_int_329 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_329 in (
                          tempLeft5 := __assign_328;
                          __assign_328
                        ));
                        let tempLeft6 = ref 0 in (
                          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_330 = -1 in (
                            tempLeft6 := __assign_330;
                            __assign_330
                          ) else let __assign_331 = let __nullable_int_332 = HxString.charCodeAt (self.src) i in if __nullable_int_332 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_332 in (
                            tempLeft6 := __assign_331;
                            __assign_331
                          ));
                          ignore (if !tempLeft5 = 43 || !tempLeft6 = 45 then ignore (let tempNumber13 = ref 0 in (
                            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_333 = -1 in (
                              tempNumber13 := __assign_333;
                              __assign_333
                            ) else let __assign_334 = let __nullable_int_335 = HxString.charCodeAt (self.src) i in if __nullable_int_335 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_335 in (
                              tempNumber13 := __assign_334;
                              __assign_334
                            ));
                            let c = !tempNumber13 in (
                              ignore (let __obj_336 = self in let __old_337 = __obj_336.index in let __new_338 = HxInt.add __old_337 1 in (
                                ignore (__obj_336.index <- __new_338);
                                __old_337
                              ));
                              ignore (if c = 10 then ignore ((
                                ignore (let __obj_339 = self in let __old_340 = __obj_339.line in let __new_341 = HxInt.add __old_340 1 in (
                                  ignore (__obj_339.line <- __new_341);
                                  __old_340
                                ));
                                let __assign_342 = 1 in (
                                  self.column <- __assign_342;
                                  __assign_342
                                )
                              )) else ignore (if c <> 13 then ignore (let __obj_343 = self in let __old_344 = __obj_343.column in let __new_345 = HxInt.add __old_344 1 in (
                                ignore (__obj_343.column <- __new_345);
                                __old_344
                              )) else ()));
                              c
                            )
                          )) else ());
                          try while true do try ignore (let tempRight3 = ref false in (
                            ignore (let tempNumber14 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_346 = -1 in (
                                tempNumber14 := __assign_346;
                                __assign_346
                              ) else let __assign_347 = let __nullable_int_348 = HxString.charCodeAt (self.src) i in if __nullable_int_348 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_348 in (
                                tempNumber14 := __assign_347;
                                __assign_347
                              ));
                              let c = !tempNumber14 in let __assign_349 = c >= 48 && c <= 57 in (
                                tempRight3 := __assign_349;
                                __assign_349
                              )
                            ));
                            ignore (if not (self.index < HxString.length (self.src) && !tempRight3) then raise (HxRuntime.Hx_break) else ());
                            let tempNumber15 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_350 = -1 in (
                                tempNumber15 := __assign_350;
                                __assign_350
                              ) else let __assign_351 = let __nullable_int_352 = HxString.charCodeAt (self.src) i in if __nullable_int_352 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_352 in (
                                tempNumber15 := __assign_351;
                                __assign_351
                              ));
                              let c = !tempNumber15 in (
                                ignore (let __obj_353 = self in let __old_354 = __obj_353.index in let __new_355 = HxInt.add __old_354 1 in (
                                  ignore (__obj_353.index <- __new_355);
                                  __old_354
                                ));
                                ignore (if c = 10 then ignore ((
                                  ignore (let __obj_356 = self in let __old_357 = __obj_356.line in let __new_358 = HxInt.add __old_357 1 in (
                                    ignore (__obj_356.line <- __new_358);
                                    __old_357
                                  ));
                                  let __assign_359 = 1 in (
                                    self.column <- __assign_359;
                                    __assign_359
                                  )
                                )) else ignore (if c <> 13 then ignore (let __obj_360 = self in let __old_361 = __obj_360.column in let __new_362 = HxInt.add __old_361 1 in (
                                  ignore (__obj_360.column <- __new_362);
                                  __old_361
                                )) else ()));
                                c
                              )
                            )
                          )) with
                            | HxRuntime.Hx_continue -> () done with
                            | HxRuntime.Hx_break -> ()
                        )
                      )
                    )) else ()
                  )
                )
              )) else ());
              let text = HxString.substring (self.src) start (self.index) in (
                ignore (if !isFloat then ignore (let value = Std.parseFloat text in raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TFloat value) startPos)))) else ());
                let value = Std.parseInt text in let tempNumber16 = ref 0 in (
                  ignore (if value == HxRuntime.hx_null then let __assign_363 = 0 in (
                    tempNumber16 := __assign_363;
                    __assign_363
                  ) else let __assign_364 = let __nullable_int_365 = value in if __nullable_int_365 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_365 in (
                    tempNumber16 := __assign_364;
                    __assign_364
                  ));
                  HxToken.create (HxTokenKind.TInt (!tempNumber16)) startPos
                )
              )
            )
          )
        )
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_366 -> Obj.obj __ret_366

let readString = fun self (startPos : HxPos.t) -> try (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_367 = -1 in (
      tempNumber := __assign_367;
      __assign_367
    ) else let __assign_368 = let __nullable_int_369 = HxString.charCodeAt (self.src) i in if __nullable_int_369 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_369 in (
      tempNumber := __assign_368;
      __assign_368
    ));
    let c = !tempNumber in (
      ignore (let __obj_370 = self in let __old_371 = __obj_370.index in let __new_372 = HxInt.add __old_371 1 in (
        ignore (__obj_370.index <- __new_372);
        __old_371
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_373 = self in let __old_374 = __obj_373.line in let __new_375 = HxInt.add __old_374 1 in (
          ignore (__obj_373.line <- __new_375);
          __old_374
        ));
        let __assign_376 = 1 in (
          self.column <- __assign_376;
          __assign_376
        )
      )) else ignore (if c <> 13 then ignore (let __obj_377 = self in let __old_378 = __obj_377.column in let __new_379 = HxInt.add __old_378 1 in (
        ignore (__obj_377.column <- __new_379);
        __old_378
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber1 = ref 0 in (
      ignore (let tempNumber2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_380 = -1 in (
          tempNumber2 := __assign_380;
          __assign_380
        ) else let __assign_381 = let __nullable_int_382 = HxString.charCodeAt (self.src) i in if __nullable_int_382 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_382 in (
          tempNumber2 := __assign_381;
          __assign_381
        ));
        let c = !tempNumber2 in (
          ignore (let __obj_383 = self in let __old_384 = __obj_383.index in let __new_385 = HxInt.add __old_384 1 in (
            ignore (__obj_383.index <- __new_385);
            __old_384
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_386 = self in let __old_387 = __obj_386.line in let __new_388 = HxInt.add __old_387 1 in (
              ignore (__obj_386.line <- __new_388);
              __old_387
            ));
            let __assign_389 = 1 in (
              self.column <- __assign_389;
              __assign_389
            )
          )) else ignore (if c <> 13 then ignore (let __obj_390 = self in let __old_391 = __obj_390.column in let __new_392 = HxInt.add __old_391 1 in (
            ignore (__obj_390.column <- __new_392);
            __old_391
          )) else ()));
          let __assign_393 = c in (
            tempNumber1 := __assign_393;
            __assign_393
          )
        )
      ));
      let c = !tempNumber1 in (
        ignore (if c = 34 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_394 = -1 in (
              tempNumber4 := __assign_394;
              __assign_394
            ) else let __assign_395 = let __nullable_int_396 = HxString.charCodeAt (self.src) i in if __nullable_int_396 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_396 in (
              tempNumber4 := __assign_395;
              __assign_395
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_397 = self in let __old_398 = __obj_397.index in let __new_399 = HxInt.add __old_398 1 in (
                ignore (__obj_397.index <- __new_399);
                __old_398
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_400 = self in let __old_401 = __obj_400.line in let __new_402 = HxInt.add __old_401 1 in (
                  ignore (__obj_400.line <- __new_402);
                  __old_401
                ));
                let __assign_403 = 1 in (
                  self.column <- __assign_403;
                  __assign_403
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_404 = self in let __old_405 = __obj_404.column in let __new_406 = HxInt.add __old_405 1 in (
                ignore (__obj_404.column <- __new_406);
                __old_405
              )) else ()));
              let tempNumber3 = c2 in let esc = tempNumber3 in (
                ignore (match esc with
                  | 34 -> ignore (StringBuf.addChar buf 34)
                  | 92 -> ignore (StringBuf.addChar buf 92)
                  | 110 -> ignore (StringBuf.addChar buf 10)
                  | 114 -> ignore (StringBuf.addChar buf 13)
                  | 116 -> ignore (StringBuf.addChar buf 9)
                  | _ -> ignore (StringBuf.addChar buf esc));
                raise (HxRuntime.Hx_continue)
              )
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_407 -> Obj.obj __ret_407

let readSingleQuotedString = fun self (startPos : HxPos.t) -> try (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_408 = -1 in (
      tempNumber := __assign_408;
      __assign_408
    ) else let __assign_409 = let __nullable_int_410 = HxString.charCodeAt (self.src) i in if __nullable_int_410 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_410 in (
      tempNumber := __assign_409;
      __assign_409
    ));
    let c = !tempNumber in (
      ignore (let __obj_411 = self in let __old_412 = __obj_411.index in let __new_413 = HxInt.add __old_412 1 in (
        ignore (__obj_411.index <- __new_413);
        __old_412
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_414 = self in let __old_415 = __obj_414.line in let __new_416 = HxInt.add __old_415 1 in (
          ignore (__obj_414.line <- __new_416);
          __old_415
        ));
        let __assign_417 = 1 in (
          self.column <- __assign_417;
          __assign_417
        )
      )) else ignore (if c <> 13 then ignore (let __obj_418 = self in let __old_419 = __obj_418.column in let __new_420 = HxInt.add __old_419 1 in (
        ignore (__obj_418.column <- __new_420);
        __old_419
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber1 = ref 0 in (
      ignore (let tempNumber2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_421 = -1 in (
          tempNumber2 := __assign_421;
          __assign_421
        ) else let __assign_422 = let __nullable_int_423 = HxString.charCodeAt (self.src) i in if __nullable_int_423 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_423 in (
          tempNumber2 := __assign_422;
          __assign_422
        ));
        let c = !tempNumber2 in (
          ignore (let __obj_424 = self in let __old_425 = __obj_424.index in let __new_426 = HxInt.add __old_425 1 in (
            ignore (__obj_424.index <- __new_426);
            __old_425
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_427 = self in let __old_428 = __obj_427.line in let __new_429 = HxInt.add __old_428 1 in (
              ignore (__obj_427.line <- __new_429);
              __old_428
            ));
            let __assign_430 = 1 in (
              self.column <- __assign_430;
              __assign_430
            )
          )) else ignore (if c <> 13 then ignore (let __obj_431 = self in let __old_432 = __obj_431.column in let __new_433 = HxInt.add __old_432 1 in (
            ignore (__obj_431.column <- __new_433);
            __old_432
          )) else ()));
          let __assign_434 = c in (
            tempNumber1 := __assign_434;
            __assign_434
          )
        )
      ));
      let c = !tempNumber1 in (
        ignore (if c = 39 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_435 = -1 in (
              tempNumber4 := __assign_435;
              __assign_435
            ) else let __assign_436 = let __nullable_int_437 = HxString.charCodeAt (self.src) i in if __nullable_int_437 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_437 in (
              tempNumber4 := __assign_436;
              __assign_436
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_438 = self in let __old_439 = __obj_438.index in let __new_440 = HxInt.add __old_439 1 in (
                ignore (__obj_438.index <- __new_440);
                __old_439
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_441 = self in let __old_442 = __obj_441.line in let __new_443 = HxInt.add __old_442 1 in (
                  ignore (__obj_441.line <- __new_443);
                  __old_442
                ));
                let __assign_444 = 1 in (
                  self.column <- __assign_444;
                  __assign_444
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_445 = self in let __old_446 = __obj_445.column in let __new_447 = HxInt.add __old_446 1 in (
                ignore (__obj_445.column <- __new_447);
                __old_446
              )) else ()));
              let tempNumber3 = c2 in let esc = tempNumber3 in (
                ignore (match esc with
                  | 39 -> ignore (StringBuf.addChar buf 39)
                  | 92 -> ignore (StringBuf.addChar buf 92)
                  | 110 -> ignore (StringBuf.addChar buf 10)
                  | 114 -> ignore (StringBuf.addChar buf 13)
                  | 116 -> ignore (StringBuf.addChar buf 9)
                  | _ -> ignore (StringBuf.addChar buf esc));
                raise (HxRuntime.Hx_continue)
              )
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_448 -> Obj.obj __ret_448

let next = fun self () -> try (
  ignore (skipWhitespaceAndComments self ());
  let p = HxPos.create (self.index) (self.line) (self.column) in (
    ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TEof) p))) else ());
    let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_449 = -1 in (
        tempNumber := __assign_449;
        __assign_449
      ) else let __assign_450 = let __nullable_int_451 = HxString.charCodeAt (self.src) i in if __nullable_int_451 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_451 in (
        tempNumber := __assign_450;
        __assign_450
      ));
      let c = !tempNumber in let tempResult = ref (Obj.magic ()) in (
        ignore (match c with
          | 34 -> let __assign_468 = readString self p in (
            tempResult := __assign_468;
            __assign_468
          )
          | 39 -> let __assign_469 = readSingleQuotedString self p in (
            tempResult := __assign_469;
            __assign_469
          )
          | 40 -> (
            ignore (let tempNumber1 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_470 = -1 in (
                tempNumber1 := __assign_470;
                __assign_470
              ) else let __assign_471 = let __nullable_int_472 = HxString.charCodeAt (self.src) i in if __nullable_int_472 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_472 in (
                tempNumber1 := __assign_471;
                __assign_471
              ));
              let c2 = !tempNumber1 in (
                ignore (let __obj_473 = self in let __old_474 = __obj_473.index in let __new_475 = HxInt.add __old_474 1 in (
                  ignore (__obj_473.index <- __new_475);
                  __old_474
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_476 = self in let __old_477 = __obj_476.line in let __new_478 = HxInt.add __old_477 1 in (
                    ignore (__obj_476.line <- __new_478);
                    __old_477
                  ));
                  let __assign_479 = 1 in (
                    self.column <- __assign_479;
                    __assign_479
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_480 = self in let __old_481 = __obj_480.column in let __new_482 = HxInt.add __old_481 1 in (
                  ignore (__obj_480.column <- __new_482);
                  __old_481
                )) else ()));
                c2
              )
            ));
            let __assign_483 = HxToken.create (HxTokenKind.TLParen) p in (
              tempResult := __assign_483;
              __assign_483
            )
          )
          | 41 -> (
            ignore (let tempNumber2 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_484 = -1 in (
                tempNumber2 := __assign_484;
                __assign_484
              ) else let __assign_485 = let __nullable_int_486 = HxString.charCodeAt (self.src) i in if __nullable_int_486 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_486 in (
                tempNumber2 := __assign_485;
                __assign_485
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_487 = self in let __old_488 = __obj_487.index in let __new_489 = HxInt.add __old_488 1 in (
                  ignore (__obj_487.index <- __new_489);
                  __old_488
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_490 = self in let __old_491 = __obj_490.line in let __new_492 = HxInt.add __old_491 1 in (
                    ignore (__obj_490.line <- __new_492);
                    __old_491
                  ));
                  let __assign_493 = 1 in (
                    self.column <- __assign_493;
                    __assign_493
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_494 = self in let __old_495 = __obj_494.column in let __new_496 = HxInt.add __old_495 1 in (
                  ignore (__obj_494.column <- __new_496);
                  __old_495
                )) else ()));
                c2
              )
            ));
            let __assign_497 = HxToken.create (HxTokenKind.TRParen) p in (
              tempResult := __assign_497;
              __assign_497
            )
          )
          | 44 -> (
            ignore (let tempNumber3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_498 = -1 in (
                tempNumber3 := __assign_498;
                __assign_498
              ) else let __assign_499 = let __nullable_int_500 = HxString.charCodeAt (self.src) i in if __nullable_int_500 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_500 in (
                tempNumber3 := __assign_499;
                __assign_499
              ));
              let c2 = !tempNumber3 in (
                ignore (let __obj_501 = self in let __old_502 = __obj_501.index in let __new_503 = HxInt.add __old_502 1 in (
                  ignore (__obj_501.index <- __new_503);
                  __old_502
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_504 = self in let __old_505 = __obj_504.line in let __new_506 = HxInt.add __old_505 1 in (
                    ignore (__obj_504.line <- __new_506);
                    __old_505
                  ));
                  let __assign_507 = 1 in (
                    self.column <- __assign_507;
                    __assign_507
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_508 = self in let __old_509 = __obj_508.column in let __new_510 = HxInt.add __old_509 1 in (
                  ignore (__obj_508.column <- __new_510);
                  __old_509
                )) else ()));
                c2
              )
            ));
            let __assign_511 = HxToken.create (HxTokenKind.TComma) p in (
              tempResult := __assign_511;
              __assign_511
            )
          )
          | 46 -> (
            ignore (let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_512 = -1 in (
                tempNumber4 := __assign_512;
                __assign_512
              ) else let __assign_513 = let __nullable_int_514 = HxString.charCodeAt (self.src) i in if __nullable_int_514 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_514 in (
                tempNumber4 := __assign_513;
                __assign_513
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_515 = self in let __old_516 = __obj_515.index in let __new_517 = HxInt.add __old_516 1 in (
                  ignore (__obj_515.index <- __new_517);
                  __old_516
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_518 = self in let __old_519 = __obj_518.line in let __new_520 = HxInt.add __old_519 1 in (
                    ignore (__obj_518.line <- __new_520);
                    __old_519
                  ));
                  let __assign_521 = 1 in (
                    self.column <- __assign_521;
                    __assign_521
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_522 = self in let __old_523 = __obj_522.column in let __new_524 = HxInt.add __old_523 1 in (
                  ignore (__obj_522.column <- __new_524);
                  __old_523
                )) else ()));
                c2
              )
            ));
            let __assign_525 = HxToken.create (HxTokenKind.TDot) p in (
              tempResult := __assign_525;
              __assign_525
            )
          )
          | 58 -> (
            ignore (let tempNumber5 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_526 = -1 in (
                tempNumber5 := __assign_526;
                __assign_526
              ) else let __assign_527 = let __nullable_int_528 = HxString.charCodeAt (self.src) i in if __nullable_int_528 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_528 in (
                tempNumber5 := __assign_527;
                __assign_527
              ));
              let c2 = !tempNumber5 in (
                ignore (let __obj_529 = self in let __old_530 = __obj_529.index in let __new_531 = HxInt.add __old_530 1 in (
                  ignore (__obj_529.index <- __new_531);
                  __old_530
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_532 = self in let __old_533 = __obj_532.line in let __new_534 = HxInt.add __old_533 1 in (
                    ignore (__obj_532.line <- __new_534);
                    __old_533
                  ));
                  let __assign_535 = 1 in (
                    self.column <- __assign_535;
                    __assign_535
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_536 = self in let __old_537 = __obj_536.column in let __new_538 = HxInt.add __old_537 1 in (
                  ignore (__obj_536.column <- __new_538);
                  __old_537
                )) else ()));
                c2
              )
            ));
            let __assign_539 = HxToken.create (HxTokenKind.TColon) p in (
              tempResult := __assign_539;
              __assign_539
            )
          )
          | 59 -> (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_540 = -1 in (
                tempNumber6 := __assign_540;
                __assign_540
              ) else let __assign_541 = let __nullable_int_542 = HxString.charCodeAt (self.src) i in if __nullable_int_542 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_542 in (
                tempNumber6 := __assign_541;
                __assign_541
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_543 = self in let __old_544 = __obj_543.index in let __new_545 = HxInt.add __old_544 1 in (
                  ignore (__obj_543.index <- __new_545);
                  __old_544
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_546 = self in let __old_547 = __obj_546.line in let __new_548 = HxInt.add __old_547 1 in (
                    ignore (__obj_546.line <- __new_548);
                    __old_547
                  ));
                  let __assign_549 = 1 in (
                    self.column <- __assign_549;
                    __assign_549
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_550 = self in let __old_551 = __obj_550.column in let __new_552 = HxInt.add __old_551 1 in (
                  ignore (__obj_550.column <- __new_552);
                  __old_551
                )) else ()));
                c2
              )
            ));
            let __assign_553 = HxToken.create (HxTokenKind.TSemicolon) p in (
              tempResult := __assign_553;
              __assign_553
            )
          )
          | 123 -> (
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_554 = -1 in (
                tempNumber7 := __assign_554;
                __assign_554
              ) else let __assign_555 = let __nullable_int_556 = HxString.charCodeAt (self.src) i in if __nullable_int_556 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_556 in (
                tempNumber7 := __assign_555;
                __assign_555
              ));
              let c2 = !tempNumber7 in (
                ignore (let __obj_557 = self in let __old_558 = __obj_557.index in let __new_559 = HxInt.add __old_558 1 in (
                  ignore (__obj_557.index <- __new_559);
                  __old_558
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_560 = self in let __old_561 = __obj_560.line in let __new_562 = HxInt.add __old_561 1 in (
                    ignore (__obj_560.line <- __new_562);
                    __old_561
                  ));
                  let __assign_563 = 1 in (
                    self.column <- __assign_563;
                    __assign_563
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_564 = self in let __old_565 = __obj_564.column in let __new_566 = HxInt.add __old_565 1 in (
                  ignore (__obj_564.column <- __new_566);
                  __old_565
                )) else ()));
                c2
              )
            ));
            let __assign_567 = HxToken.create (HxTokenKind.TLBrace) p in (
              tempResult := __assign_567;
              __assign_567
            )
          )
          | 125 -> (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_568 = -1 in (
                tempNumber8 := __assign_568;
                __assign_568
              ) else let __assign_569 = let __nullable_int_570 = HxString.charCodeAt (self.src) i in if __nullable_int_570 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_570 in (
                tempNumber8 := __assign_569;
                __assign_569
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_571 = self in let __old_572 = __obj_571.index in let __new_573 = HxInt.add __old_572 1 in (
                  ignore (__obj_571.index <- __new_573);
                  __old_572
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_574 = self in let __old_575 = __obj_574.line in let __new_576 = HxInt.add __old_575 1 in (
                    ignore (__obj_574.line <- __new_576);
                    __old_575
                  ));
                  let __assign_577 = 1 in (
                    self.column <- __assign_577;
                    __assign_577
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_578 = self in let __old_579 = __obj_578.column in let __new_580 = HxInt.add __old_579 1 in (
                  ignore (__obj_578.column <- __new_580);
                  __old_579
                )) else ()));
                c2
              )
            ));
            let __assign_581 = HxToken.create (HxTokenKind.TRBrace) p in (
              tempResult := __assign_581;
              __assign_581
            )
          )
          | _ -> if c >= 48 && c <= 57 then let __assign_452 = readNumber self p in (
            tempResult := __assign_452;
            __assign_452
          ) else if c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 then let __assign_453 = readIdent self p in (
            tempResult := __assign_453;
            __assign_453
          ) else let tempNumber9 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_454 = -1 in (
              tempNumber9 := __assign_454;
              __assign_454
            ) else let __assign_455 = let __nullable_int_456 = HxString.charCodeAt (self.src) i in if __nullable_int_456 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_456 in (
              tempNumber9 := __assign_455;
              __assign_455
            ));
            let c1 = !tempNumber9 in (
              ignore (let __obj_457 = self in let __old_458 = __obj_457.index in let __new_459 = HxInt.add __old_458 1 in (
                ignore (__obj_457.index <- __new_459);
                __old_458
              ));
              ignore (if c1 = 10 then ignore ((
                ignore (let __obj_460 = self in let __old_461 = __obj_460.line in let __new_462 = HxInt.add __old_461 1 in (
                  ignore (__obj_460.line <- __new_462);
                  __old_461
                ));
                let __assign_463 = 1 in (
                  self.column <- __assign_463;
                  __assign_463
                )
              )) else ignore (if c1 <> 13 then ignore (let __obj_464 = self in let __old_465 = __obj_464.column in let __new_466 = HxInt.add __old_465 1 in (
                ignore (__obj_464.column <- __new_466);
                __old_465
              )) else ()));
              ignore c1;
              let __assign_467 = HxToken.create (HxTokenKind.TOther c) p in (
                tempResult := __assign_467;
                __assign_467
              )
            )
          ));
        !tempResult
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_582 -> Obj.obj __ret_582

let isSpace = fun c -> c = 9 || c = 10 || c = 13 || c = 32

let isIdentStart = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95

let isIdentCont = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57

let isDigit = fun c -> c >= 48 && c <= 57