# 1 "HxLexer.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxLexer *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable src : string; mutable index : int; mutable line : int; mutable column : int }

let create = fun src2 -> let self = ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t) in (
  ignore ((
    ignore (let __assign_1 = 1 in (
      self.column <- __assign_1;
      __assign_1
    ));
    ignore (let __assign_2 = 1 in (
      self.line <- __assign_2;
      __assign_2
    ));
    ignore (let __assign_3 = 0 in (
      self.index <- __assign_3;
      __assign_3
    ));
    let __assign_4 = src2 in (
      self.src <- __assign_4;
      __assign_4
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t)

let eof = fun self () -> self.index >= HxString.length (self.src)

let peek = fun self (offset : int) -> let i = HxInt.add (self.index) offset in let tempResult = ref 0 in (
  ignore (if i >= HxString.length (self.src) then let __assign_5 = -1 in (
    tempResult := __assign_5;
    __assign_5
  ) else let __assign_6 = let __nullable_int_7 = HxString.charCodeAt (self.src) i in if __nullable_int_7 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_7 in (
    tempResult := __assign_6;
    __assign_6
  ));
  !tempResult
)

let bump = fun self () -> let tempNumber = ref 0 in let i = self.index in (
  ignore (if i >= HxString.length (self.src) then let __assign_8 = -1 in (
    tempNumber := __assign_8;
    __assign_8
  ) else let __assign_9 = let __nullable_int_10 = HxString.charCodeAt (self.src) i in if __nullable_int_10 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_10 in (
    tempNumber := __assign_9;
    __assign_9
  ));
  let c = !tempNumber in (
    ignore (let __obj_11 = self in let __old_12 = __obj_11.index in let __new_13 = HxInt.add __old_12 1 in (
      ignore (__obj_11.index <- __new_13);
      __old_12
    ));
    ignore (if c = 10 then ignore ((
      ignore (let __obj_14 = self in let __old_15 = __obj_14.line in let __new_16 = HxInt.add __old_15 1 in (
        ignore (__obj_14.line <- __new_16);
        __old_15
      ));
      let __assign_17 = 1 in (
        self.column <- __assign_17;
        __assign_17
      )
    )) else ignore (if c <> 13 then ignore (let __obj_18 = self in let __old_19 = __obj_18.column in let __new_20 = HxInt.add __old_19 1 in (
      ignore (__obj_18.column <- __new_20);
      __old_19
    )) else ()));
    c
  )
)

let pos = fun self () -> HxPos.create (self.index) (self.line) (self.column)

let skipWhitespaceAndComments = fun self () -> ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber = ref 0 in (
  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_21 = -1 in (
    tempNumber := __assign_21;
    __assign_21
  ) else let __assign_22 = let __nullable_int_23 = HxString.charCodeAt (self.src) i in if __nullable_int_23 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_23 in (
    tempNumber := __assign_22;
    __assign_22
  ));
  let c = !tempNumber in (
    ignore (if c = 9 || c = 10 || c = 13 || c = 32 then ignore ((
      ignore (let tempNumber1 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_24 = -1 in (
          tempNumber1 := __assign_24;
          __assign_24
        ) else let __assign_25 = let __nullable_int_26 = HxString.charCodeAt (self.src) i in if __nullable_int_26 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_26 in (
          tempNumber1 := __assign_25;
          __assign_25
        ));
        let c2 = !tempNumber1 in (
          ignore (let __obj_27 = self in let __old_28 = __obj_27.index in let __new_29 = HxInt.add __old_28 1 in (
            ignore (__obj_27.index <- __new_29);
            __old_28
          ));
          ignore (if c2 = 10 then ignore ((
            ignore (let __obj_30 = self in let __old_31 = __obj_30.line in let __new_32 = HxInt.add __old_31 1 in (
              ignore (__obj_30.line <- __new_32);
              __old_31
            ));
            let __assign_33 = 1 in (
              self.column <- __assign_33;
              __assign_33
            )
          )) else ignore (if c2 <> 13 then ignore (let __obj_34 = self in let __old_35 = __obj_34.column in let __new_36 = HxInt.add __old_35 1 in (
            ignore (__obj_34.column <- __new_36);
            __old_35
          )) else ()));
          c2
        )
      ));
      raise (HxRuntime.Hx_continue)
    )) else ());
    let tempLeft = ref 0 in (
      ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_37 = -1 in (
        tempLeft := __assign_37;
        __assign_37
      ) else let __assign_38 = let __nullable_int_39 = HxString.charCodeAt (self.src) i in if __nullable_int_39 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_39 in (
        tempLeft := __assign_38;
        __assign_38
      ));
      ignore (if c = 47 && !tempLeft = 47 then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_40 = -1 in (
            tempNumber2 := __assign_40;
            __assign_40
          ) else let __assign_41 = let __nullable_int_42 = HxString.charCodeAt (self.src) i in if __nullable_int_42 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_42 in (
            tempNumber2 := __assign_41;
            __assign_41
          ));
          let c2 = !tempNumber2 in (
            ignore (let __obj_43 = self in let __old_44 = __obj_43.index in let __new_45 = HxInt.add __old_44 1 in (
              ignore (__obj_43.index <- __new_45);
              __old_44
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_46 = self in let __old_47 = __obj_46.line in let __new_48 = HxInt.add __old_47 1 in (
                ignore (__obj_46.line <- __new_48);
                __old_47
              ));
              let __assign_49 = 1 in (
                self.column <- __assign_49;
                __assign_49
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_50 = self in let __old_51 = __obj_50.column in let __new_52 = HxInt.add __old_51 1 in (
              ignore (__obj_50.column <- __new_52);
              __old_51
            )) else ()));
            c2
          )
        ));
        ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_53 = -1 in (
            tempNumber3 := __assign_53;
            __assign_53
          ) else let __assign_54 = let __nullable_int_55 = HxString.charCodeAt (self.src) i in if __nullable_int_55 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_55 in (
            tempNumber3 := __assign_54;
            __assign_54
          ));
          let c2 = !tempNumber3 in (
            ignore (let __obj_56 = self in let __old_57 = __obj_56.index in let __new_58 = HxInt.add __old_57 1 in (
              ignore (__obj_56.index <- __new_58);
              __old_57
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_59 = self in let __old_60 = __obj_59.line in let __new_61 = HxInt.add __old_60 1 in (
                ignore (__obj_59.line <- __new_61);
                __old_60
              ));
              let __assign_62 = 1 in (
                self.column <- __assign_62;
                __assign_62
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_63 = self in let __old_64 = __obj_63.column in let __new_65 = HxInt.add __old_64 1 in (
              ignore (__obj_63.column <- __new_65);
              __old_64
            )) else ()));
            c2
          )
        ));
        ignore (try while true do try ignore (let tempLeft1 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_66 = -1 in (
            tempLeft1 := __assign_66;
            __assign_66
          ) else let __assign_67 = let __nullable_int_68 = HxString.charCodeAt (self.src) i in if __nullable_int_68 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_68 in (
            tempLeft1 := __assign_67;
            __assign_67
          ));
          ignore (if not (self.index < HxString.length (self.src) && !tempLeft1 <> 10) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_69 = -1 in (
              tempNumber4 := __assign_69;
              __assign_69
            ) else let __assign_70 = let __nullable_int_71 = HxString.charCodeAt (self.src) i in if __nullable_int_71 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_71 in (
              tempNumber4 := __assign_70;
              __assign_70
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_72 = self in let __old_73 = __obj_72.index in let __new_74 = HxInt.add __old_73 1 in (
                ignore (__obj_72.index <- __new_74);
                __old_73
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_75 = self in let __old_76 = __obj_75.line in let __new_77 = HxInt.add __old_76 1 in (
                  ignore (__obj_75.line <- __new_77);
                  __old_76
                ));
                let __assign_78 = 1 in (
                  self.column <- __assign_78;
                  __assign_78
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_79 = self in let __old_80 = __obj_79.column in let __new_81 = HxInt.add __old_80 1 in (
                ignore (__obj_79.column <- __new_81);
                __old_80
              )) else ()));
              c2
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        raise (HxRuntime.Hx_continue)
      )) else ());
      let tempLeft2 = ref 0 in (
        ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_82 = -1 in (
          tempLeft2 := __assign_82;
          __assign_82
        ) else let __assign_83 = let __nullable_int_84 = HxString.charCodeAt (self.src) i in if __nullable_int_84 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_84 in (
          tempLeft2 := __assign_83;
          __assign_83
        ));
        ignore (if c = 47 && !tempLeft2 = 42 then ignore ((
          ignore (let tempNumber5 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_85 = -1 in (
              tempNumber5 := __assign_85;
              __assign_85
            ) else let __assign_86 = let __nullable_int_87 = HxString.charCodeAt (self.src) i in if __nullable_int_87 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_87 in (
              tempNumber5 := __assign_86;
              __assign_86
            ));
            let c2 = !tempNumber5 in (
              ignore (let __obj_88 = self in let __old_89 = __obj_88.index in let __new_90 = HxInt.add __old_89 1 in (
                ignore (__obj_88.index <- __new_90);
                __old_89
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_91 = self in let __old_92 = __obj_91.line in let __new_93 = HxInt.add __old_92 1 in (
                  ignore (__obj_91.line <- __new_93);
                  __old_92
                ));
                let __assign_94 = 1 in (
                  self.column <- __assign_94;
                  __assign_94
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_95 = self in let __old_96 = __obj_95.column in let __new_97 = HxInt.add __old_96 1 in (
                ignore (__obj_95.column <- __new_97);
                __old_96
              )) else ()));
              c2
            )
          ));
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_98 = -1 in (
              tempNumber6 := __assign_98;
              __assign_98
            ) else let __assign_99 = let __nullable_int_100 = HxString.charCodeAt (self.src) i in if __nullable_int_100 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_100 in (
              tempNumber6 := __assign_99;
              __assign_99
            ));
            let c2 = !tempNumber6 in (
              ignore (let __obj_101 = self in let __old_102 = __obj_101.index in let __new_103 = HxInt.add __old_102 1 in (
                ignore (__obj_101.index <- __new_103);
                __old_102
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_104 = self in let __old_105 = __obj_104.line in let __new_106 = HxInt.add __old_105 1 in (
                  ignore (__obj_104.line <- __new_106);
                  __old_105
                ));
                let __assign_107 = 1 in (
                  self.column <- __assign_107;
                  __assign_107
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_108 = self in let __old_109 = __obj_108.column in let __new_110 = HxInt.add __old_109 1 in (
                ignore (__obj_108.column <- __new_110);
                __old_109
              )) else ()));
              c2
            )
          ));
          ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber7 = ref 0 in (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_111 = -1 in (
                tempNumber8 := __assign_111;
                __assign_111
              ) else let __assign_112 = let __nullable_int_113 = HxString.charCodeAt (self.src) i in if __nullable_int_113 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_113 in (
                tempNumber8 := __assign_112;
                __assign_112
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_114 = self in let __old_115 = __obj_114.index in let __new_116 = HxInt.add __old_115 1 in (
                  ignore (__obj_114.index <- __new_116);
                  __old_115
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_117 = self in let __old_118 = __obj_117.line in let __new_119 = HxInt.add __old_118 1 in (
                    ignore (__obj_117.line <- __new_119);
                    __old_118
                  ));
                  let __assign_120 = 1 in (
                    self.column <- __assign_120;
                    __assign_120
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_121 = self in let __old_122 = __obj_121.column in let __new_123 = HxInt.add __old_122 1 in (
                  ignore (__obj_121.column <- __new_123);
                  __old_122
                )) else ()));
                let __assign_124 = c2 in (
                  tempNumber7 := __assign_124;
                  __assign_124
                )
              )
            ));
            let d = !tempNumber7 in let tempLeft3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_125 = -1 in (
                tempLeft3 := __assign_125;
                __assign_125
              ) else let __assign_126 = let __nullable_int_127 = HxString.charCodeAt (self.src) i in if __nullable_int_127 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_127 in (
                tempLeft3 := __assign_126;
                __assign_126
              ));
              if d = 42 && !tempLeft3 = 47 then ignore ((
                ignore (let tempNumber9 = ref 0 in (
                  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_128 = -1 in (
                    tempNumber9 := __assign_128;
                    __assign_128
                  ) else let __assign_129 = let __nullable_int_130 = HxString.charCodeAt (self.src) i in if __nullable_int_130 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_130 in (
                    tempNumber9 := __assign_129;
                    __assign_129
                  ));
                  let c2 = !tempNumber9 in (
                    ignore (let __obj_131 = self in let __old_132 = __obj_131.index in let __new_133 = HxInt.add __old_132 1 in (
                      ignore (__obj_131.index <- __new_133);
                      __old_132
                    ));
                    ignore (if c2 = 10 then ignore ((
                      ignore (let __obj_134 = self in let __old_135 = __obj_134.line in let __new_136 = HxInt.add __old_135 1 in (
                        ignore (__obj_134.line <- __new_136);
                        __old_135
                      ));
                      let __assign_137 = 1 in (
                        self.column <- __assign_137;
                        __assign_137
                      )
                    )) else ignore (if c2 <> 13 then ignore (let __obj_138 = self in let __old_139 = __obj_138.column in let __new_140 = HxInt.add __old_139 1 in (
                      ignore (__obj_138.column <- __new_140);
                      __old_139
                    )) else ()));
                    c2
                  )
                ));
                raise (HxRuntime.Hx_break)
              )) else ()
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ());
          raise (HxRuntime.Hx_continue)
        )) else ());
        raise (HxRuntime.Hx_break)
      )
    )
  )
)) with
  | HxRuntime.Hx_continue -> () done with
  | HxRuntime.Hx_break -> ())

let readIdent = fun self (startPos : HxPos.t) -> let start = self.index in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_141 = -1 in (
      tempNumber := __assign_141;
      __assign_141
    ) else let __assign_142 = let __nullable_int_143 = HxString.charCodeAt (self.src) i in if __nullable_int_143 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_143 in (
      tempNumber := __assign_142;
      __assign_142
    ));
    let c = !tempNumber in (
      ignore (let __obj_144 = self in let __old_145 = __obj_144.index in let __new_146 = HxInt.add __old_145 1 in (
        ignore (__obj_144.index <- __new_146);
        __old_145
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_147 = self in let __old_148 = __obj_147.line in let __new_149 = HxInt.add __old_148 1 in (
          ignore (__obj_147.line <- __new_149);
          __old_148
        ));
        let __assign_150 = 1 in (
          self.column <- __assign_150;
          __assign_150
        )
      )) else ignore (if c <> 13 then ignore (let __obj_151 = self in let __old_152 = __obj_151.column in let __new_153 = HxInt.add __old_152 1 in (
        ignore (__obj_151.column <- __new_153);
        __old_152
      )) else ()));
      c
    )
  ));
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_154 = -1 in (
        tempNumber1 := __assign_154;
        __assign_154
      ) else let __assign_155 = let __nullable_int_156 = HxString.charCodeAt (self.src) i in if __nullable_int_156 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_156 in (
        tempNumber1 := __assign_155;
        __assign_155
      ));
      let c = !tempNumber1 in let __assign_157 = c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57 in (
        tempRight := __assign_157;
        __assign_157
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber2 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_158 = -1 in (
        tempNumber2 := __assign_158;
        __assign_158
      ) else let __assign_159 = let __nullable_int_160 = HxString.charCodeAt (self.src) i in if __nullable_int_160 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_160 in (
        tempNumber2 := __assign_159;
        __assign_159
      ));
      let c = !tempNumber2 in (
        ignore (let __obj_161 = self in let __old_162 = __obj_161.index in let __new_163 = HxInt.add __old_162 1 in (
          ignore (__obj_161.index <- __new_163);
          __old_162
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_164 = self in let __old_165 = __obj_164.line in let __new_166 = HxInt.add __old_165 1 in (
            ignore (__obj_164.line <- __new_166);
            __old_165
          ));
          let __assign_167 = 1 in (
            self.column <- __assign_167;
            __assign_167
          )
        )) else ignore (if c <> 13 then ignore (let __obj_168 = self in let __old_169 = __obj_168.column in let __new_170 = HxInt.add __old_169 1 in (
          ignore (__obj_168.column <- __new_170);
          __old_169
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let text = HxString.substring (self.src) start (self.index) in let tempResult = ref (Obj.magic ()) in (
    ignore (match text with
      | "as" -> let __assign_172 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KAs)) startPos in (
        tempResult := __assign_172;
        __assign_172
      )
      | "break" -> let __assign_173 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KBreak)) startPos in (
        tempResult := __assign_173;
        __assign_173
      )
      | "case" -> let __assign_174 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCase)) startPos in (
        tempResult := __assign_174;
        __assign_174
      )
      | "cast" -> let __assign_175 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCast)) startPos in (
        tempResult := __assign_175;
        __assign_175
      )
      | "catch" -> let __assign_176 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCatch)) startPos in (
        tempResult := __assign_176;
        __assign_176
      )
      | "class" -> let __assign_177 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KClass)) startPos in (
        tempResult := __assign_177;
        __assign_177
      )
      | "continue" -> let __assign_178 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KContinue)) startPos in (
        tempResult := __assign_178;
        __assign_178
      )
      | "default" -> let __assign_179 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDefault)) startPos in (
        tempResult := __assign_179;
        __assign_179
      )
      | "do" -> let __assign_180 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDo)) startPos in (
        tempResult := __assign_180;
        __assign_180
      )
      | "else" -> let __assign_181 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KElse)) startPos in (
        tempResult := __assign_181;
        __assign_181
      )
      | "false" -> let __assign_182 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFalse)) startPos in (
        tempResult := __assign_182;
        __assign_182
      )
      | "final" -> let __assign_183 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFinal)) startPos in (
        tempResult := __assign_183;
        __assign_183
      )
      | "for" -> let __assign_184 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFor)) startPos in (
        tempResult := __assign_184;
        __assign_184
      )
      | "function" -> let __assign_185 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFunction)) startPos in (
        tempResult := __assign_185;
        __assign_185
      )
      | "if" -> let __assign_186 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIf)) startPos in (
        tempResult := __assign_186;
        __assign_186
      )
      | "import" -> let __assign_187 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KImport)) startPos in (
        tempResult := __assign_187;
        __assign_187
      )
      | "new" -> let __assign_188 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNew)) startPos in (
        tempResult := __assign_188;
        __assign_188
      )
      | "null" -> let __assign_189 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNull)) startPos in (
        tempResult := __assign_189;
        __assign_189
      )
      | "package" -> let __assign_190 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPackage)) startPos in (
        tempResult := __assign_190;
        __assign_190
      )
      | "private" -> let __assign_191 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPrivate)) startPos in (
        tempResult := __assign_191;
        __assign_191
      )
      | "public" -> let __assign_192 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPublic)) startPos in (
        tempResult := __assign_192;
        __assign_192
      )
      | "return" -> let __assign_193 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KReturn)) startPos in (
        tempResult := __assign_193;
        __assign_193
      )
      | "static" -> let __assign_194 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KStatic)) startPos in (
        tempResult := __assign_194;
        __assign_194
      )
      | "super" -> let __assign_195 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSuper)) startPos in (
        tempResult := __assign_195;
        __assign_195
      )
      | "switch" -> let __assign_196 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSwitch)) startPos in (
        tempResult := __assign_196;
        __assign_196
      )
      | "this" -> let __assign_197 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThis)) startPos in (
        tempResult := __assign_197;
        __assign_197
      )
      | "throw" -> let __assign_198 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThrow)) startPos in (
        tempResult := __assign_198;
        __assign_198
      )
      | "true" -> let __assign_199 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTrue)) startPos in (
        tempResult := __assign_199;
        __assign_199
      )
      | "try" -> let __assign_200 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTry)) startPos in (
        tempResult := __assign_200;
        __assign_200
      )
      | "untyped" -> let __assign_201 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUntyped)) startPos in (
        tempResult := __assign_201;
        __assign_201
      )
      | "using" -> let __assign_202 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUsing)) startPos in (
        tempResult := __assign_202;
        __assign_202
      )
      | "var" -> let __assign_203 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KVar)) startPos in (
        tempResult := __assign_203;
        __assign_203
      )
      | "while" -> let __assign_204 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KWhile)) startPos in (
        tempResult := __assign_204;
        __assign_204
      )
      | _ -> let __assign_171 = HxToken.create (HxTokenKind.TIdent text) startPos in (
        tempResult := __assign_171;
        __assign_171
      ));
    !tempResult
  )
)

let readNumber = fun self (startPos : HxPos.t) -> try let start = self.index in (
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_205 = -1 in (
        tempNumber := __assign_205;
        __assign_205
      ) else let __assign_206 = let __nullable_int_207 = HxString.charCodeAt (self.src) i in if __nullable_int_207 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_207 in (
        tempNumber := __assign_206;
        __assign_206
      ));
      let c = !tempNumber in let __assign_208 = c >= 48 && c <= 57 in (
        tempRight := __assign_208;
        __assign_208
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_209 = -1 in (
        tempNumber1 := __assign_209;
        __assign_209
      ) else let __assign_210 = let __nullable_int_211 = HxString.charCodeAt (self.src) i in if __nullable_int_211 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_211 in (
        tempNumber1 := __assign_210;
        __assign_210
      ));
      let c = !tempNumber1 in (
        ignore (let __obj_212 = self in let __old_213 = __obj_212.index in let __new_214 = HxInt.add __old_213 1 in (
          ignore (__obj_212.index <- __new_214);
          __old_213
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_215 = self in let __old_216 = __obj_215.line in let __new_217 = HxInt.add __old_216 1 in (
            ignore (__obj_215.line <- __new_217);
            __old_216
          ));
          let __assign_218 = 1 in (
            self.column <- __assign_218;
            __assign_218
          )
        )) else ignore (if c <> 13 then ignore (let __obj_219 = self in let __old_220 = __obj_219.column in let __new_221 = HxInt.add __old_220 1 in (
          ignore (__obj_219.column <- __new_221);
          __old_220
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let tempLeft = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_222 = -1 in (
      tempLeft := __assign_222;
      __assign_222
    ) else let __assign_223 = let __nullable_int_224 = HxString.charCodeAt (self.src) i in if __nullable_int_224 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_224 in (
      tempLeft := __assign_223;
      __assign_223
    ));
    let tempLeft1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_225 = -1 in (
        tempLeft1 := __assign_225;
        __assign_225
      ) else let __assign_226 = let __nullable_int_227 = HxString.charCodeAt (self.src) i in if __nullable_int_227 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_227 in (
        tempLeft1 := __assign_226;
        __assign_226
      ));
      ignore (if self.index < HxString.length (self.src) && self.index = HxInt.add start 1 && (let __nullable_228 = HxString.charCodeAt (self.src) start in if __nullable_228 == HxRuntime.hx_null then false else Obj.obj __nullable_228 = 48) && (!tempLeft = 120 || !tempLeft1 = 88) then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_229 = -1 in (
            tempNumber2 := __assign_229;
            __assign_229
          ) else let __assign_230 = let __nullable_int_231 = HxString.charCodeAt (self.src) i in if __nullable_int_231 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_231 in (
            tempNumber2 := __assign_230;
            __assign_230
          ));
          let c = !tempNumber2 in (
            ignore (let __obj_232 = self in let __old_233 = __obj_232.index in let __new_234 = HxInt.add __old_233 1 in (
              ignore (__obj_232.index <- __new_234);
              __old_233
            ));
            ignore (if c = 10 then ignore ((
              ignore (let __obj_235 = self in let __old_236 = __obj_235.line in let __new_237 = HxInt.add __old_236 1 in (
                ignore (__obj_235.line <- __new_237);
                __old_236
              ));
              let __assign_238 = 1 in (
                self.column <- __assign_238;
                __assign_238
              )
            )) else ignore (if c <> 13 then ignore (let __obj_239 = self in let __old_240 = __obj_239.column in let __new_241 = HxInt.add __old_240 1 in (
              ignore (__obj_239.column <- __new_241);
              __old_240
            )) else ()));
            c
          )
        ));
        ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_242 = -1 in (
            tempNumber3 := __assign_242;
            __assign_242
          ) else let __assign_243 = let __nullable_int_244 = HxString.charCodeAt (self.src) i in if __nullable_int_244 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_244 in (
            tempNumber3 := __assign_243;
            __assign_243
          ));
          let c = !tempNumber3 in let isHex = c >= 48 && c <= 57 || c >= 97 && c <= 102 || c >= 65 && c <= 70 in (
            ignore (if not (isHex) then raise (HxRuntime.Hx_break) else ());
            let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_245 = -1 in (
                tempNumber4 := __assign_245;
                __assign_245
              ) else let __assign_246 = let __nullable_int_247 = HxString.charCodeAt (self.src) i in if __nullable_int_247 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_247 in (
                tempNumber4 := __assign_246;
                __assign_246
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_248 = self in let __old_249 = __obj_248.index in let __new_250 = HxInt.add __old_249 1 in (
                  ignore (__obj_248.index <- __new_250);
                  __old_249
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_251 = self in let __old_252 = __obj_251.line in let __new_253 = HxInt.add __old_252 1 in (
                    ignore (__obj_251.line <- __new_253);
                    __old_252
                  ));
                  let __assign_254 = 1 in (
                    self.column <- __assign_254;
                    __assign_254
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_255 = self in let __old_256 = __obj_255.column in let __new_257 = HxInt.add __old_256 1 in (
                  ignore (__obj_255.column <- __new_257);
                  __old_256
                )) else ()));
                c2
              )
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let text = HxString.substring (self.src) start (self.index) in let value = Std.parseInt text in let tempNumber5 = ref 0 in (
          ignore (if value == HxRuntime.hx_null then let __assign_258 = 0 in (
            tempNumber5 := __assign_258;
            __assign_258
          ) else let __assign_259 = let __nullable_int_260 = value in if __nullable_int_260 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_260 in (
            tempNumber5 := __assign_259;
            __assign_259
          ));
          raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TInt (!tempNumber5)) startPos)))
        )
      )) else ());
      let isFloat = ref false in let tempLeft2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_261 = -1 in (
          tempLeft2 := __assign_261;
          __assign_261
        ) else let __assign_262 = let __nullable_int_263 = HxString.charCodeAt (self.src) i in if __nullable_int_263 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_263 in (
          tempLeft2 := __assign_262;
          __assign_262
        ));
        let tempRight1 = ref false in (
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_264 = -1 in (
              tempNumber6 := __assign_264;
              __assign_264
            ) else let __assign_265 = let __nullable_int_266 = HxString.charCodeAt (self.src) i in if __nullable_int_266 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_266 in (
              tempNumber6 := __assign_265;
              __assign_265
            ));
            let c = !tempNumber6 in let __assign_267 = c >= 48 && c <= 57 in (
              tempRight1 := __assign_267;
              __assign_267
            )
          ));
          ignore (if self.index < HxString.length (self.src) && !tempLeft2 = 46 && !tempRight1 then ignore ((
            ignore (let __assign_268 = true in (
              isFloat := __assign_268;
              __assign_268
            ));
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_269 = -1 in (
                tempNumber7 := __assign_269;
                __assign_269
              ) else let __assign_270 = let __nullable_int_271 = HxString.charCodeAt (self.src) i in if __nullable_int_271 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_271 in (
                tempNumber7 := __assign_270;
                __assign_270
              ));
              let c = !tempNumber7 in (
                ignore (let __obj_272 = self in let __old_273 = __obj_272.index in let __new_274 = HxInt.add __old_273 1 in (
                  ignore (__obj_272.index <- __new_274);
                  __old_273
                ));
                ignore (if c = 10 then ignore ((
                  ignore (let __obj_275 = self in let __old_276 = __obj_275.line in let __new_277 = HxInt.add __old_276 1 in (
                    ignore (__obj_275.line <- __new_277);
                    __old_276
                  ));
                  let __assign_278 = 1 in (
                    self.column <- __assign_278;
                    __assign_278
                  )
                )) else ignore (if c <> 13 then ignore (let __obj_279 = self in let __old_280 = __obj_279.column in let __new_281 = HxInt.add __old_280 1 in (
                  ignore (__obj_279.column <- __new_281);
                  __old_280
                )) else ()));
                c
              )
            ));
            try while true do try ignore (let tempRight2 = ref false in (
              ignore (let tempNumber8 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_282 = -1 in (
                  tempNumber8 := __assign_282;
                  __assign_282
                ) else let __assign_283 = let __nullable_int_284 = HxString.charCodeAt (self.src) i in if __nullable_int_284 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_284 in (
                  tempNumber8 := __assign_283;
                  __assign_283
                ));
                let c = !tempNumber8 in let __assign_285 = c >= 48 && c <= 57 in (
                  tempRight2 := __assign_285;
                  __assign_285
                )
              ));
              ignore (if not (self.index < HxString.length (self.src) && !tempRight2) then raise (HxRuntime.Hx_break) else ());
              let tempNumber9 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_286 = -1 in (
                  tempNumber9 := __assign_286;
                  __assign_286
                ) else let __assign_287 = let __nullable_int_288 = HxString.charCodeAt (self.src) i in if __nullable_int_288 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_288 in (
                  tempNumber9 := __assign_287;
                  __assign_287
                ));
                let c = !tempNumber9 in (
                  ignore (let __obj_289 = self in let __old_290 = __obj_289.index in let __new_291 = HxInt.add __old_290 1 in (
                    ignore (__obj_289.index <- __new_291);
                    __old_290
                  ));
                  ignore (if c = 10 then ignore ((
                    ignore (let __obj_292 = self in let __old_293 = __obj_292.line in let __new_294 = HxInt.add __old_293 1 in (
                      ignore (__obj_292.line <- __new_294);
                      __old_293
                    ));
                    let __assign_295 = 1 in (
                      self.column <- __assign_295;
                      __assign_295
                    )
                  )) else ignore (if c <> 13 then ignore (let __obj_296 = self in let __old_297 = __obj_296.column in let __new_298 = HxInt.add __old_297 1 in (
                    ignore (__obj_296.column <- __new_298);
                    __old_297
                  )) else ()));
                  c
                )
              )
            )) with
              | HxRuntime.Hx_continue -> () done with
              | HxRuntime.Hx_break -> ()
          )) else ());
          let tempLeft3 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_299 = -1 in (
              tempLeft3 := __assign_299;
              __assign_299
            ) else let __assign_300 = let __nullable_int_301 = HxString.charCodeAt (self.src) i in if __nullable_int_301 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_301 in (
              tempLeft3 := __assign_300;
              __assign_300
            ));
            let tempLeft4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_302 = -1 in (
                tempLeft4 := __assign_302;
                __assign_302
              ) else let __assign_303 = let __nullable_int_304 = HxString.charCodeAt (self.src) i in if __nullable_int_304 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_304 in (
                tempLeft4 := __assign_303;
                __assign_303
              ));
              ignore (if self.index < HxString.length (self.src) && (!tempLeft3 = 101 || !tempLeft4 = 69) then ignore (let off = ref 1 in let tempNumber10 = ref 0 in (
                ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_305 = -1 in (
                  tempNumber10 := __assign_305;
                  __assign_305
                ) else let __assign_306 = let __nullable_int_307 = HxString.charCodeAt (self.src) i in if __nullable_int_307 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_307 in (
                  tempNumber10 := __assign_306;
                  __assign_306
                ));
                let sign = !tempNumber10 in (
                  ignore (if sign = 43 || sign = 45 then ignore (let __assign_308 = 2 in (
                    off := __assign_308;
                    __assign_308
                  )) else ());
                  let tempBool = ref false in (
                    ignore (let tempNumber11 = ref 0 in (
                      ignore (let i = HxInt.add (self.index) (!off) in if i >= HxString.length (self.src) then let __assign_309 = -1 in (
                        tempNumber11 := __assign_309;
                        __assign_309
                      ) else let __assign_310 = let __nullable_int_311 = HxString.charCodeAt (self.src) i in if __nullable_int_311 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_311 in (
                        tempNumber11 := __assign_310;
                        __assign_310
                      ));
                      let c = !tempNumber11 in let __assign_312 = c >= 48 && c <= 57 in (
                        tempBool := __assign_312;
                        __assign_312
                      )
                    ));
                    if !tempBool then ignore ((
                      ignore (let __assign_313 = true in (
                        isFloat := __assign_313;
                        __assign_313
                      ));
                      ignore (let tempNumber12 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_314 = -1 in (
                          tempNumber12 := __assign_314;
                          __assign_314
                        ) else let __assign_315 = let __nullable_int_316 = HxString.charCodeAt (self.src) i in if __nullable_int_316 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_316 in (
                          tempNumber12 := __assign_315;
                          __assign_315
                        ));
                        let c = !tempNumber12 in (
                          ignore (let __obj_317 = self in let __old_318 = __obj_317.index in let __new_319 = HxInt.add __old_318 1 in (
                            ignore (__obj_317.index <- __new_319);
                            __old_318
                          ));
                          ignore (if c = 10 then ignore ((
                            ignore (let __obj_320 = self in let __old_321 = __obj_320.line in let __new_322 = HxInt.add __old_321 1 in (
                              ignore (__obj_320.line <- __new_322);
                              __old_321
                            ));
                            let __assign_323 = 1 in (
                              self.column <- __assign_323;
                              __assign_323
                            )
                          )) else ignore (if c <> 13 then ignore (let __obj_324 = self in let __old_325 = __obj_324.column in let __new_326 = HxInt.add __old_325 1 in (
                            ignore (__obj_324.column <- __new_326);
                            __old_325
                          )) else ()));
                          c
                        )
                      ));
                      let tempLeft5 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_327 = -1 in (
                          tempLeft5 := __assign_327;
                          __assign_327
                        ) else let __assign_328 = let __nullable_int_329 = HxString.charCodeAt (self.src) i in if __nullable_int_329 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_329 in (
                          tempLeft5 := __assign_328;
                          __assign_328
                        ));
                        let tempLeft6 = ref 0 in (
                          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_330 = -1 in (
                            tempLeft6 := __assign_330;
                            __assign_330
                          ) else let __assign_331 = let __nullable_int_332 = HxString.charCodeAt (self.src) i in if __nullable_int_332 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_332 in (
                            tempLeft6 := __assign_331;
                            __assign_331
                          ));
                          ignore (if !tempLeft5 = 43 || !tempLeft6 = 45 then ignore (let tempNumber13 = ref 0 in (
                            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_333 = -1 in (
                              tempNumber13 := __assign_333;
                              __assign_333
                            ) else let __assign_334 = let __nullable_int_335 = HxString.charCodeAt (self.src) i in if __nullable_int_335 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_335 in (
                              tempNumber13 := __assign_334;
                              __assign_334
                            ));
                            let c = !tempNumber13 in (
                              ignore (let __obj_336 = self in let __old_337 = __obj_336.index in let __new_338 = HxInt.add __old_337 1 in (
                                ignore (__obj_336.index <- __new_338);
                                __old_337
                              ));
                              ignore (if c = 10 then ignore ((
                                ignore (let __obj_339 = self in let __old_340 = __obj_339.line in let __new_341 = HxInt.add __old_340 1 in (
                                  ignore (__obj_339.line <- __new_341);
                                  __old_340
                                ));
                                let __assign_342 = 1 in (
                                  self.column <- __assign_342;
                                  __assign_342
                                )
                              )) else ignore (if c <> 13 then ignore (let __obj_343 = self in let __old_344 = __obj_343.column in let __new_345 = HxInt.add __old_344 1 in (
                                ignore (__obj_343.column <- __new_345);
                                __old_344
                              )) else ()));
                              c
                            )
                          )) else ());
                          try while true do try ignore (let tempRight3 = ref false in (
                            ignore (let tempNumber14 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_346 = -1 in (
                                tempNumber14 := __assign_346;
                                __assign_346
                              ) else let __assign_347 = let __nullable_int_348 = HxString.charCodeAt (self.src) i in if __nullable_int_348 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_348 in (
                                tempNumber14 := __assign_347;
                                __assign_347
                              ));
                              let c = !tempNumber14 in let __assign_349 = c >= 48 && c <= 57 in (
                                tempRight3 := __assign_349;
                                __assign_349
                              )
                            ));
                            ignore (if not (self.index < HxString.length (self.src) && !tempRight3) then raise (HxRuntime.Hx_break) else ());
                            let tempNumber15 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_350 = -1 in (
                                tempNumber15 := __assign_350;
                                __assign_350
                              ) else let __assign_351 = let __nullable_int_352 = HxString.charCodeAt (self.src) i in if __nullable_int_352 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_352 in (
                                tempNumber15 := __assign_351;
                                __assign_351
                              ));
                              let c = !tempNumber15 in (
                                ignore (let __obj_353 = self in let __old_354 = __obj_353.index in let __new_355 = HxInt.add __old_354 1 in (
                                  ignore (__obj_353.index <- __new_355);
                                  __old_354
                                ));
                                ignore (if c = 10 then ignore ((
                                  ignore (let __obj_356 = self in let __old_357 = __obj_356.line in let __new_358 = HxInt.add __old_357 1 in (
                                    ignore (__obj_356.line <- __new_358);
                                    __old_357
                                  ));
                                  let __assign_359 = 1 in (
                                    self.column <- __assign_359;
                                    __assign_359
                                  )
                                )) else ignore (if c <> 13 then ignore (let __obj_360 = self in let __old_361 = __obj_360.column in let __new_362 = HxInt.add __old_361 1 in (
                                  ignore (__obj_360.column <- __new_362);
                                  __old_361
                                )) else ()));
                                c
                              )
                            )
                          )) with
                            | HxRuntime.Hx_continue -> () done with
                            | HxRuntime.Hx_break -> ()
                        )
                      )
                    )) else ()
                  )
                )
              )) else ());
              let text = HxString.substring (self.src) start (self.index) in (
                ignore (if !isFloat then ignore (let value = Std.parseFloat text in raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TFloat value) startPos)))) else ());
                let value = Std.parseInt text in let tempNumber16 = ref 0 in (
                  ignore (if value == HxRuntime.hx_null then let __assign_363 = 0 in (
                    tempNumber16 := __assign_363;
                    __assign_363
                  ) else let __assign_364 = let __nullable_int_365 = value in if __nullable_int_365 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_365 in (
                    tempNumber16 := __assign_364;
                    __assign_364
                  ));
                  HxToken.create (HxTokenKind.TInt (!tempNumber16)) startPos
                )
              )
            )
          )
        )
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_366 -> Obj.obj __ret_366

let readString = fun self (startPos : HxPos.t) -> try let _gthis = self in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_367 = -1 in (
      tempNumber := __assign_367;
      __assign_367
    ) else let __assign_368 = let __nullable_int_369 = HxString.charCodeAt (self.src) i in if __nullable_int_369 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_369 in (
      tempNumber := __assign_368;
      __assign_368
    ));
    let c = !tempNumber in (
      ignore (let __obj_370 = self in let __old_371 = __obj_370.index in let __new_372 = HxInt.add __old_371 1 in (
        ignore (__obj_370.index <- __new_372);
        __old_371
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_373 = self in let __old_374 = __obj_373.line in let __new_375 = HxInt.add __old_374 1 in (
          ignore (__obj_373.line <- __new_375);
          __old_374
        ));
        let __assign_376 = 1 in (
          self.column <- __assign_376;
          __assign_376
        )
      )) else ignore (if c <> 13 then ignore (let __obj_377 = self in let __old_378 = __obj_377.column in let __new_379 = HxInt.add __old_378 1 in (
        ignore (__obj_377.column <- __new_379);
        __old_378
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in let hexVal = fun c -> let tempResult = ref 0 in (
    ignore (if c >= 48 && c <= 57 then let __assign_380 = HxInt.sub c 48 in (
      tempResult := __assign_380;
      __assign_380
    ) else if c >= 97 && c <= 102 then let __assign_381 = HxInt.add 10 (HxInt.sub c 97) in (
      tempResult := __assign_381;
      __assign_381
    ) else if c >= 65 && c <= 70 then let __assign_382 = HxInt.add 10 (HxInt.sub c 65) in (
      tempResult := __assign_382;
      __assign_382
    ) else let __assign_383 = -1 in (
      tempResult := __assign_383;
      __assign_383
    ));
    !tempResult
  ) in let readHexDigits = fun count -> try let acc = ref 0 in let _g = ref 0 in let _g1 = count in (
    ignore (while !_g < _g1 do ignore ((
      ignore (let __old_384 = !_g in let __new_385 = HxInt.add __old_384 1 in (
        ignore (_g := __new_385);
        __old_384
      ));
      let tempNumber1 = ref 0 in (
        ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_386 = -1 in (
          tempNumber1 := __assign_386;
          __assign_386
        ) else let __assign_387 = let __nullable_int_388 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_388 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_388 in (
          tempNumber1 := __assign_387;
          __assign_387
        ));
        let c = !tempNumber1 in (
          ignore (if c = -1 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
          let v = hexVal c in (
            ignore (if v < 0 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
            ignore (let __assign_389 = HxInt.logor (HxInt.shl (!acc) 4) v in (
              acc := __assign_389;
              __assign_389
            ));
            let tempNumber2 = ref 0 in (
              ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_390 = -1 in (
                tempNumber2 := __assign_390;
                __assign_390
              ) else let __assign_391 = let __nullable_int_392 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_392 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_392 in (
                tempNumber2 := __assign_391;
                __assign_391
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_393 = _gthis in let __old_394 = __obj_393.index in let __new_395 = HxInt.add __old_394 1 in (
                  ignore (__obj_393.index <- __new_395);
                  __old_394
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_396 = _gthis in let __old_397 = __obj_396.line in let __new_398 = HxInt.add __old_397 1 in (
                    ignore (__obj_396.line <- __new_398);
                    __old_397
                  ));
                  let __assign_399 = 1 in (
                    _gthis.column <- __assign_399;
                    __assign_399
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_400 = _gthis in let __old_401 = __obj_400.column in let __new_402 = HxInt.add __old_401 1 in (
                  ignore (__obj_400.column <- __new_402);
                  __old_401
                )) else ()));
                c2
              )
            )
          )
        )
      )
    )) done);
    !acc
  ) with
    | HxRuntime.Hx_return __ret_403 -> Obj.obj __ret_403 in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
      ignore (let tempNumber4 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_404 = -1 in (
          tempNumber4 := __assign_404;
          __assign_404
        ) else let __assign_405 = let __nullable_int_406 = HxString.charCodeAt (self.src) i in if __nullable_int_406 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_406 in (
          tempNumber4 := __assign_405;
          __assign_405
        ));
        let c = !tempNumber4 in (
          ignore (let __obj_407 = self in let __old_408 = __obj_407.index in let __new_409 = HxInt.add __old_408 1 in (
            ignore (__obj_407.index <- __new_409);
            __old_408
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_410 = self in let __old_411 = __obj_410.line in let __new_412 = HxInt.add __old_411 1 in (
              ignore (__obj_410.line <- __new_412);
              __old_411
            ));
            let __assign_413 = 1 in (
              self.column <- __assign_413;
              __assign_413
            )
          )) else ignore (if c <> 13 then ignore (let __obj_414 = self in let __old_415 = __obj_414.column in let __new_416 = HxInt.add __old_415 1 in (
            ignore (__obj_414.column <- __new_416);
            __old_415
          )) else ()));
          let __assign_417 = c in (
            tempNumber3 := __assign_417;
            __assign_417
          )
        )
      ));
      let c = !tempNumber3 in (
        ignore (if c = 34 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_418 = -1 in (
                tempNumber6 := __assign_418;
                __assign_418
              ) else let __assign_419 = let __nullable_int_420 = HxString.charCodeAt (self.src) i in if __nullable_int_420 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_420 in (
                tempNumber6 := __assign_419;
                __assign_419
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_421 = self in let __old_422 = __obj_421.index in let __new_423 = HxInt.add __old_422 1 in (
                  ignore (__obj_421.index <- __new_423);
                  __old_422
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_424 = self in let __old_425 = __obj_424.line in let __new_426 = HxInt.add __old_425 1 in (
                    ignore (__obj_424.line <- __new_426);
                    __old_425
                  ));
                  let __assign_427 = 1 in (
                    self.column <- __assign_427;
                    __assign_427
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_428 = self in let __old_429 = __obj_428.column in let __new_430 = HxInt.add __old_429 1 in (
                  ignore (__obj_428.column <- __new_430);
                  __old_429
                )) else ()));
                let __assign_431 = c2 in (
                  tempNumber5 := __assign_431;
                  __assign_431
                )
              )
            ));
            let esc = !tempNumber5 in (
              ignore (match esc with
                | 34 -> ignore (StringBuf.addChar buf 34)
                | 92 -> ignore (StringBuf.addChar buf 92)
                | 110 -> ignore (StringBuf.addChar buf 10)
                | 114 -> ignore (StringBuf.addChar buf 13)
                | 116 -> ignore (StringBuf.addChar buf 9)
                | 117 -> ignore (let v = readHexDigits 4 in if v < 0 then ignore (StringBuf.addChar buf 117) else ignore (StringBuf.addChar buf v))
                | 120 -> ignore (let v = readHexDigits 2 in if v < 0 then ignore (StringBuf.addChar buf 120) else ignore (StringBuf.addChar buf v))
                | _ -> ignore (StringBuf.addChar buf esc));
              raise (HxRuntime.Hx_continue)
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_432 -> Obj.obj __ret_432

let readSingleQuotedString = fun self (startPos : HxPos.t) -> try let _gthis = self in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_433 = -1 in (
      tempNumber := __assign_433;
      __assign_433
    ) else let __assign_434 = let __nullable_int_435 = HxString.charCodeAt (self.src) i in if __nullable_int_435 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_435 in (
      tempNumber := __assign_434;
      __assign_434
    ));
    let c = !tempNumber in (
      ignore (let __obj_436 = self in let __old_437 = __obj_436.index in let __new_438 = HxInt.add __old_437 1 in (
        ignore (__obj_436.index <- __new_438);
        __old_437
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_439 = self in let __old_440 = __obj_439.line in let __new_441 = HxInt.add __old_440 1 in (
          ignore (__obj_439.line <- __new_441);
          __old_440
        ));
        let __assign_442 = 1 in (
          self.column <- __assign_442;
          __assign_442
        )
      )) else ignore (if c <> 13 then ignore (let __obj_443 = self in let __old_444 = __obj_443.column in let __new_445 = HxInt.add __old_444 1 in (
        ignore (__obj_443.column <- __new_445);
        __old_444
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in let hexVal = fun c -> let tempResult = ref 0 in (
    ignore (if c >= 48 && c <= 57 then let __assign_446 = HxInt.sub c 48 in (
      tempResult := __assign_446;
      __assign_446
    ) else if c >= 97 && c <= 102 then let __assign_447 = HxInt.add 10 (HxInt.sub c 97) in (
      tempResult := __assign_447;
      __assign_447
    ) else if c >= 65 && c <= 70 then let __assign_448 = HxInt.add 10 (HxInt.sub c 65) in (
      tempResult := __assign_448;
      __assign_448
    ) else let __assign_449 = -1 in (
      tempResult := __assign_449;
      __assign_449
    ));
    !tempResult
  ) in let readHexDigits = fun count -> try let acc = ref 0 in let _g = ref 0 in let _g1 = count in (
    ignore (while !_g < _g1 do ignore ((
      ignore (let __old_450 = !_g in let __new_451 = HxInt.add __old_450 1 in (
        ignore (_g := __new_451);
        __old_450
      ));
      let tempNumber1 = ref 0 in (
        ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_452 = -1 in (
          tempNumber1 := __assign_452;
          __assign_452
        ) else let __assign_453 = let __nullable_int_454 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_454 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_454 in (
          tempNumber1 := __assign_453;
          __assign_453
        ));
        let c = !tempNumber1 in (
          ignore (if c = -1 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
          let v = hexVal c in (
            ignore (if v < 0 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
            ignore (let __assign_455 = HxInt.logor (HxInt.shl (!acc) 4) v in (
              acc := __assign_455;
              __assign_455
            ));
            let tempNumber2 = ref 0 in (
              ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_456 = -1 in (
                tempNumber2 := __assign_456;
                __assign_456
              ) else let __assign_457 = let __nullable_int_458 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_458 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_458 in (
                tempNumber2 := __assign_457;
                __assign_457
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_459 = _gthis in let __old_460 = __obj_459.index in let __new_461 = HxInt.add __old_460 1 in (
                  ignore (__obj_459.index <- __new_461);
                  __old_460
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_462 = _gthis in let __old_463 = __obj_462.line in let __new_464 = HxInt.add __old_463 1 in (
                    ignore (__obj_462.line <- __new_464);
                    __old_463
                  ));
                  let __assign_465 = 1 in (
                    _gthis.column <- __assign_465;
                    __assign_465
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_466 = _gthis in let __old_467 = __obj_466.column in let __new_468 = HxInt.add __old_467 1 in (
                  ignore (__obj_466.column <- __new_468);
                  __old_467
                )) else ()));
                c2
              )
            )
          )
        )
      )
    )) done);
    !acc
  ) with
    | HxRuntime.Hx_return __ret_469 -> Obj.obj __ret_469 in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
      ignore (let tempNumber4 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_470 = -1 in (
          tempNumber4 := __assign_470;
          __assign_470
        ) else let __assign_471 = let __nullable_int_472 = HxString.charCodeAt (self.src) i in if __nullable_int_472 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_472 in (
          tempNumber4 := __assign_471;
          __assign_471
        ));
        let c = !tempNumber4 in (
          ignore (let __obj_473 = self in let __old_474 = __obj_473.index in let __new_475 = HxInt.add __old_474 1 in (
            ignore (__obj_473.index <- __new_475);
            __old_474
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_476 = self in let __old_477 = __obj_476.line in let __new_478 = HxInt.add __old_477 1 in (
              ignore (__obj_476.line <- __new_478);
              __old_477
            ));
            let __assign_479 = 1 in (
              self.column <- __assign_479;
              __assign_479
            )
          )) else ignore (if c <> 13 then ignore (let __obj_480 = self in let __old_481 = __obj_480.column in let __new_482 = HxInt.add __old_481 1 in (
            ignore (__obj_480.column <- __new_482);
            __old_481
          )) else ()));
          let __assign_483 = c in (
            tempNumber3 := __assign_483;
            __assign_483
          )
        )
      ));
      let c = !tempNumber3 in (
        ignore (if c = 39 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_484 = -1 in (
                tempNumber6 := __assign_484;
                __assign_484
              ) else let __assign_485 = let __nullable_int_486 = HxString.charCodeAt (self.src) i in if __nullable_int_486 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_486 in (
                tempNumber6 := __assign_485;
                __assign_485
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_487 = self in let __old_488 = __obj_487.index in let __new_489 = HxInt.add __old_488 1 in (
                  ignore (__obj_487.index <- __new_489);
                  __old_488
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_490 = self in let __old_491 = __obj_490.line in let __new_492 = HxInt.add __old_491 1 in (
                    ignore (__obj_490.line <- __new_492);
                    __old_491
                  ));
                  let __assign_493 = 1 in (
                    self.column <- __assign_493;
                    __assign_493
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_494 = self in let __old_495 = __obj_494.column in let __new_496 = HxInt.add __old_495 1 in (
                  ignore (__obj_494.column <- __new_496);
                  __old_495
                )) else ()));
                let __assign_497 = c2 in (
                  tempNumber5 := __assign_497;
                  __assign_497
                )
              )
            ));
            let esc = !tempNumber5 in (
              ignore (match esc with
                | 39 -> ignore (StringBuf.addChar buf 39)
                | 92 -> ignore (StringBuf.addChar buf 92)
                | 110 -> ignore (StringBuf.addChar buf 10)
                | 114 -> ignore (StringBuf.addChar buf 13)
                | 116 -> ignore (StringBuf.addChar buf 9)
                | 117 -> ignore (let v = readHexDigits 4 in if v < 0 then ignore (StringBuf.addChar buf 117) else ignore (StringBuf.addChar buf v))
                | 120 -> ignore (let v = readHexDigits 2 in if v < 0 then ignore (StringBuf.addChar buf 120) else ignore (StringBuf.addChar buf v))
                | _ -> ignore (StringBuf.addChar buf esc));
              raise (HxRuntime.Hx_continue)
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_498 -> Obj.obj __ret_498

let next = fun self () -> try (
  ignore (skipWhitespaceAndComments self ());
  let p = HxPos.create (self.index) (self.line) (self.column) in (
    ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TEof) p))) else ());
    let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_499 = -1 in (
        tempNumber := __assign_499;
        __assign_499
      ) else let __assign_500 = let __nullable_int_501 = HxString.charCodeAt (self.src) i in if __nullable_int_501 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_501 in (
        tempNumber := __assign_500;
        __assign_500
      ));
      let c = !tempNumber in let tempResult = ref (Obj.magic ()) in (
        ignore (match c with
          | 34 -> let __assign_518 = readString self p in (
            tempResult := __assign_518;
            __assign_518
          )
          | 39 -> let __assign_519 = readSingleQuotedString self p in (
            tempResult := __assign_519;
            __assign_519
          )
          | 40 -> (
            ignore (let tempNumber1 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_520 = -1 in (
                tempNumber1 := __assign_520;
                __assign_520
              ) else let __assign_521 = let __nullable_int_522 = HxString.charCodeAt (self.src) i in if __nullable_int_522 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_522 in (
                tempNumber1 := __assign_521;
                __assign_521
              ));
              let c2 = !tempNumber1 in (
                ignore (let __obj_523 = self in let __old_524 = __obj_523.index in let __new_525 = HxInt.add __old_524 1 in (
                  ignore (__obj_523.index <- __new_525);
                  __old_524
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_526 = self in let __old_527 = __obj_526.line in let __new_528 = HxInt.add __old_527 1 in (
                    ignore (__obj_526.line <- __new_528);
                    __old_527
                  ));
                  let __assign_529 = 1 in (
                    self.column <- __assign_529;
                    __assign_529
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_530 = self in let __old_531 = __obj_530.column in let __new_532 = HxInt.add __old_531 1 in (
                  ignore (__obj_530.column <- __new_532);
                  __old_531
                )) else ()));
                c2
              )
            ));
            let __assign_533 = HxToken.create (HxTokenKind.TLParen) p in (
              tempResult := __assign_533;
              __assign_533
            )
          )
          | 41 -> (
            ignore (let tempNumber2 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_534 = -1 in (
                tempNumber2 := __assign_534;
                __assign_534
              ) else let __assign_535 = let __nullable_int_536 = HxString.charCodeAt (self.src) i in if __nullable_int_536 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_536 in (
                tempNumber2 := __assign_535;
                __assign_535
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_537 = self in let __old_538 = __obj_537.index in let __new_539 = HxInt.add __old_538 1 in (
                  ignore (__obj_537.index <- __new_539);
                  __old_538
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_540 = self in let __old_541 = __obj_540.line in let __new_542 = HxInt.add __old_541 1 in (
                    ignore (__obj_540.line <- __new_542);
                    __old_541
                  ));
                  let __assign_543 = 1 in (
                    self.column <- __assign_543;
                    __assign_543
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_544 = self in let __old_545 = __obj_544.column in let __new_546 = HxInt.add __old_545 1 in (
                  ignore (__obj_544.column <- __new_546);
                  __old_545
                )) else ()));
                c2
              )
            ));
            let __assign_547 = HxToken.create (HxTokenKind.TRParen) p in (
              tempResult := __assign_547;
              __assign_547
            )
          )
          | 44 -> (
            ignore (let tempNumber3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_548 = -1 in (
                tempNumber3 := __assign_548;
                __assign_548
              ) else let __assign_549 = let __nullable_int_550 = HxString.charCodeAt (self.src) i in if __nullable_int_550 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_550 in (
                tempNumber3 := __assign_549;
                __assign_549
              ));
              let c2 = !tempNumber3 in (
                ignore (let __obj_551 = self in let __old_552 = __obj_551.index in let __new_553 = HxInt.add __old_552 1 in (
                  ignore (__obj_551.index <- __new_553);
                  __old_552
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_554 = self in let __old_555 = __obj_554.line in let __new_556 = HxInt.add __old_555 1 in (
                    ignore (__obj_554.line <- __new_556);
                    __old_555
                  ));
                  let __assign_557 = 1 in (
                    self.column <- __assign_557;
                    __assign_557
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_558 = self in let __old_559 = __obj_558.column in let __new_560 = HxInt.add __old_559 1 in (
                  ignore (__obj_558.column <- __new_560);
                  __old_559
                )) else ()));
                c2
              )
            ));
            let __assign_561 = HxToken.create (HxTokenKind.TComma) p in (
              tempResult := __assign_561;
              __assign_561
            )
          )
          | 46 -> (
            ignore (let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_562 = -1 in (
                tempNumber4 := __assign_562;
                __assign_562
              ) else let __assign_563 = let __nullable_int_564 = HxString.charCodeAt (self.src) i in if __nullable_int_564 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_564 in (
                tempNumber4 := __assign_563;
                __assign_563
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_565 = self in let __old_566 = __obj_565.index in let __new_567 = HxInt.add __old_566 1 in (
                  ignore (__obj_565.index <- __new_567);
                  __old_566
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_568 = self in let __old_569 = __obj_568.line in let __new_570 = HxInt.add __old_569 1 in (
                    ignore (__obj_568.line <- __new_570);
                    __old_569
                  ));
                  let __assign_571 = 1 in (
                    self.column <- __assign_571;
                    __assign_571
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_572 = self in let __old_573 = __obj_572.column in let __new_574 = HxInt.add __old_573 1 in (
                  ignore (__obj_572.column <- __new_574);
                  __old_573
                )) else ()));
                c2
              )
            ));
            let __assign_575 = HxToken.create (HxTokenKind.TDot) p in (
              tempResult := __assign_575;
              __assign_575
            )
          )
          | 58 -> (
            ignore (let tempNumber5 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_576 = -1 in (
                tempNumber5 := __assign_576;
                __assign_576
              ) else let __assign_577 = let __nullable_int_578 = HxString.charCodeAt (self.src) i in if __nullable_int_578 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_578 in (
                tempNumber5 := __assign_577;
                __assign_577
              ));
              let c2 = !tempNumber5 in (
                ignore (let __obj_579 = self in let __old_580 = __obj_579.index in let __new_581 = HxInt.add __old_580 1 in (
                  ignore (__obj_579.index <- __new_581);
                  __old_580
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_582 = self in let __old_583 = __obj_582.line in let __new_584 = HxInt.add __old_583 1 in (
                    ignore (__obj_582.line <- __new_584);
                    __old_583
                  ));
                  let __assign_585 = 1 in (
                    self.column <- __assign_585;
                    __assign_585
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_586 = self in let __old_587 = __obj_586.column in let __new_588 = HxInt.add __old_587 1 in (
                  ignore (__obj_586.column <- __new_588);
                  __old_587
                )) else ()));
                c2
              )
            ));
            let __assign_589 = HxToken.create (HxTokenKind.TColon) p in (
              tempResult := __assign_589;
              __assign_589
            )
          )
          | 59 -> (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_590 = -1 in (
                tempNumber6 := __assign_590;
                __assign_590
              ) else let __assign_591 = let __nullable_int_592 = HxString.charCodeAt (self.src) i in if __nullable_int_592 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_592 in (
                tempNumber6 := __assign_591;
                __assign_591
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_593 = self in let __old_594 = __obj_593.index in let __new_595 = HxInt.add __old_594 1 in (
                  ignore (__obj_593.index <- __new_595);
                  __old_594
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_596 = self in let __old_597 = __obj_596.line in let __new_598 = HxInt.add __old_597 1 in (
                    ignore (__obj_596.line <- __new_598);
                    __old_597
                  ));
                  let __assign_599 = 1 in (
                    self.column <- __assign_599;
                    __assign_599
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_600 = self in let __old_601 = __obj_600.column in let __new_602 = HxInt.add __old_601 1 in (
                  ignore (__obj_600.column <- __new_602);
                  __old_601
                )) else ()));
                c2
              )
            ));
            let __assign_603 = HxToken.create (HxTokenKind.TSemicolon) p in (
              tempResult := __assign_603;
              __assign_603
            )
          )
          | 123 -> (
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_604 = -1 in (
                tempNumber7 := __assign_604;
                __assign_604
              ) else let __assign_605 = let __nullable_int_606 = HxString.charCodeAt (self.src) i in if __nullable_int_606 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_606 in (
                tempNumber7 := __assign_605;
                __assign_605
              ));
              let c2 = !tempNumber7 in (
                ignore (let __obj_607 = self in let __old_608 = __obj_607.index in let __new_609 = HxInt.add __old_608 1 in (
                  ignore (__obj_607.index <- __new_609);
                  __old_608
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_610 = self in let __old_611 = __obj_610.line in let __new_612 = HxInt.add __old_611 1 in (
                    ignore (__obj_610.line <- __new_612);
                    __old_611
                  ));
                  let __assign_613 = 1 in (
                    self.column <- __assign_613;
                    __assign_613
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_614 = self in let __old_615 = __obj_614.column in let __new_616 = HxInt.add __old_615 1 in (
                  ignore (__obj_614.column <- __new_616);
                  __old_615
                )) else ()));
                c2
              )
            ));
            let __assign_617 = HxToken.create (HxTokenKind.TLBrace) p in (
              tempResult := __assign_617;
              __assign_617
            )
          )
          | 125 -> (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_618 = -1 in (
                tempNumber8 := __assign_618;
                __assign_618
              ) else let __assign_619 = let __nullable_int_620 = HxString.charCodeAt (self.src) i in if __nullable_int_620 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_620 in (
                tempNumber8 := __assign_619;
                __assign_619
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_621 = self in let __old_622 = __obj_621.index in let __new_623 = HxInt.add __old_622 1 in (
                  ignore (__obj_621.index <- __new_623);
                  __old_622
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_624 = self in let __old_625 = __obj_624.line in let __new_626 = HxInt.add __old_625 1 in (
                    ignore (__obj_624.line <- __new_626);
                    __old_625
                  ));
                  let __assign_627 = 1 in (
                    self.column <- __assign_627;
                    __assign_627
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_628 = self in let __old_629 = __obj_628.column in let __new_630 = HxInt.add __old_629 1 in (
                  ignore (__obj_628.column <- __new_630);
                  __old_629
                )) else ()));
                c2
              )
            ));
            let __assign_631 = HxToken.create (HxTokenKind.TRBrace) p in (
              tempResult := __assign_631;
              __assign_631
            )
          )
          | _ -> if c >= 48 && c <= 57 then let __assign_502 = readNumber self p in (
            tempResult := __assign_502;
            __assign_502
          ) else if c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 then let __assign_503 = readIdent self p in (
            tempResult := __assign_503;
            __assign_503
          ) else let tempNumber9 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_504 = -1 in (
              tempNumber9 := __assign_504;
              __assign_504
            ) else let __assign_505 = let __nullable_int_506 = HxString.charCodeAt (self.src) i in if __nullable_int_506 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_506 in (
              tempNumber9 := __assign_505;
              __assign_505
            ));
            let c1 = !tempNumber9 in (
              ignore (let __obj_507 = self in let __old_508 = __obj_507.index in let __new_509 = HxInt.add __old_508 1 in (
                ignore (__obj_507.index <- __new_509);
                __old_508
              ));
              ignore (if c1 = 10 then ignore ((
                ignore (let __obj_510 = self in let __old_511 = __obj_510.line in let __new_512 = HxInt.add __old_511 1 in (
                  ignore (__obj_510.line <- __new_512);
                  __old_511
                ));
                let __assign_513 = 1 in (
                  self.column <- __assign_513;
                  __assign_513
                )
              )) else ignore (if c1 <> 13 then ignore (let __obj_514 = self in let __old_515 = __obj_514.column in let __new_516 = HxInt.add __old_515 1 in (
                ignore (__obj_514.column <- __new_516);
                __old_515
              )) else ()));
              ignore c1;
              let __assign_517 = HxToken.create (HxTokenKind.TOther c) p in (
                tempResult := __assign_517;
                __assign_517
              )
            )
          ));
        !tempResult
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_632 -> Obj.obj __ret_632

let isSpace = fun c -> c = 9 || c = 10 || c = 13 || c = 32

let isIdentStart = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95

let isIdentCont = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57

let isDigit = fun c -> c >= 48 && c <= 57