# 1 "HxLexer.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxLexer *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable src : string; mutable index : int; mutable line : int; mutable column : int }

let create = fun src2 -> let self = ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t) in (
  ignore ((
    ignore (let __assign_1 = 1 in (
      self.column <- __assign_1;
      __assign_1
    ));
    ignore (let __assign_2 = 1 in (
      self.line <- __assign_2;
      __assign_2
    ));
    ignore (let __assign_3 = 0 in (
      self.index <- __assign_3;
      __assign_3
    ));
    let __assign_4 = src2 in (
      self.src <- __assign_4;
      __assign_4
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t)

let eof = fun self () -> self.index >= HxString.length (self.src)

let peek = fun self (offset : int) -> let i = HxInt.add (self.index) offset in let tempResult = ref 0 in (
  ignore (if i >= HxString.length (self.src) then let __assign_5 = -1 in (
    tempResult := __assign_5;
    __assign_5
  ) else let __assign_6 = let __nullable_int_7 = HxString.charCodeAt (self.src) i in if __nullable_int_7 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_7 in (
    tempResult := __assign_6;
    __assign_6
  ));
  !tempResult
)

let bump = fun self () -> let tempNumber = ref 0 in let i = self.index in (
  ignore (if i >= HxString.length (self.src) then let __assign_8 = -1 in (
    tempNumber := __assign_8;
    __assign_8
  ) else let __assign_9 = let __nullable_int_10 = HxString.charCodeAt (self.src) i in if __nullable_int_10 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_10 in (
    tempNumber := __assign_9;
    __assign_9
  ));
  let c = !tempNumber in (
    ignore (let __obj_11 = self in let __old_12 = __obj_11.index in let __new_13 = HxInt.add __old_12 1 in (
      ignore (__obj_11.index <- __new_13);
      __old_12
    ));
    ignore (if c = 10 then ignore ((
      ignore (let __obj_14 = self in let __old_15 = __obj_14.line in let __new_16 = HxInt.add __old_15 1 in (
        ignore (__obj_14.line <- __new_16);
        __old_15
      ));
      let __assign_17 = 1 in (
        self.column <- __assign_17;
        __assign_17
      )
    )) else ignore (if c <> 13 then ignore (let __obj_18 = self in let __old_19 = __obj_18.column in let __new_20 = HxInt.add __old_19 1 in (
      ignore (__obj_18.column <- __new_20);
      __old_19
    )) else ()));
    c
  )
)

let pos = fun self () -> HxPos.create (self.index) (self.line) (self.column)

let skipWhitespaceAndComments = fun self () -> ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber = ref 0 in (
  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_21 = -1 in (
    tempNumber := __assign_21;
    __assign_21
  ) else let __assign_22 = let __nullable_int_23 = HxString.charCodeAt (self.src) i in if __nullable_int_23 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_23 in (
    tempNumber := __assign_22;
    __assign_22
  ));
  let c = !tempNumber in (
    ignore (if c = 9 || c = 10 || c = 13 || c = 32 then ignore ((
      ignore (let tempNumber1 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_24 = -1 in (
          tempNumber1 := __assign_24;
          __assign_24
        ) else let __assign_25 = let __nullable_int_26 = HxString.charCodeAt (self.src) i in if __nullable_int_26 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_26 in (
          tempNumber1 := __assign_25;
          __assign_25
        ));
        let c2 = !tempNumber1 in (
          ignore (let __obj_27 = self in let __old_28 = __obj_27.index in let __new_29 = HxInt.add __old_28 1 in (
            ignore (__obj_27.index <- __new_29);
            __old_28
          ));
          ignore (if c2 = 10 then ignore ((
            ignore (let __obj_30 = self in let __old_31 = __obj_30.line in let __new_32 = HxInt.add __old_31 1 in (
              ignore (__obj_30.line <- __new_32);
              __old_31
            ));
            let __assign_33 = 1 in (
              self.column <- __assign_33;
              __assign_33
            )
          )) else ignore (if c2 <> 13 then ignore (let __obj_34 = self in let __old_35 = __obj_34.column in let __new_36 = HxInt.add __old_35 1 in (
            ignore (__obj_34.column <- __new_36);
            __old_35
          )) else ()));
          c2
        )
      ));
      raise (HxRuntime.Hx_continue)
    )) else ());
    let tempLeft = ref 0 in (
      ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_37 = -1 in (
        tempLeft := __assign_37;
        __assign_37
      ) else let __assign_38 = let __nullable_int_39 = HxString.charCodeAt (self.src) i in if __nullable_int_39 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_39 in (
        tempLeft := __assign_38;
        __assign_38
      ));
      ignore (if c = 47 && !tempLeft = 47 then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_40 = -1 in (
            tempNumber2 := __assign_40;
            __assign_40
          ) else let __assign_41 = let __nullable_int_42 = HxString.charCodeAt (self.src) i in if __nullable_int_42 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_42 in (
            tempNumber2 := __assign_41;
            __assign_41
          ));
          let c2 = !tempNumber2 in (
            ignore (let __obj_43 = self in let __old_44 = __obj_43.index in let __new_45 = HxInt.add __old_44 1 in (
              ignore (__obj_43.index <- __new_45);
              __old_44
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_46 = self in let __old_47 = __obj_46.line in let __new_48 = HxInt.add __old_47 1 in (
                ignore (__obj_46.line <- __new_48);
                __old_47
              ));
              let __assign_49 = 1 in (
                self.column <- __assign_49;
                __assign_49
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_50 = self in let __old_51 = __obj_50.column in let __new_52 = HxInt.add __old_51 1 in (
              ignore (__obj_50.column <- __new_52);
              __old_51
            )) else ()));
            c2
          )
        ));
        ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_53 = -1 in (
            tempNumber3 := __assign_53;
            __assign_53
          ) else let __assign_54 = let __nullable_int_55 = HxString.charCodeAt (self.src) i in if __nullable_int_55 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_55 in (
            tempNumber3 := __assign_54;
            __assign_54
          ));
          let c2 = !tempNumber3 in (
            ignore (let __obj_56 = self in let __old_57 = __obj_56.index in let __new_58 = HxInt.add __old_57 1 in (
              ignore (__obj_56.index <- __new_58);
              __old_57
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_59 = self in let __old_60 = __obj_59.line in let __new_61 = HxInt.add __old_60 1 in (
                ignore (__obj_59.line <- __new_61);
                __old_60
              ));
              let __assign_62 = 1 in (
                self.column <- __assign_62;
                __assign_62
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_63 = self in let __old_64 = __obj_63.column in let __new_65 = HxInt.add __old_64 1 in (
              ignore (__obj_63.column <- __new_65);
              __old_64
            )) else ()));
            c2
          )
        ));
        ignore (try while true do try ignore (let tempLeft1 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_66 = -1 in (
            tempLeft1 := __assign_66;
            __assign_66
          ) else let __assign_67 = let __nullable_int_68 = HxString.charCodeAt (self.src) i in if __nullable_int_68 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_68 in (
            tempLeft1 := __assign_67;
            __assign_67
          ));
          ignore (if not (self.index < HxString.length (self.src) && !tempLeft1 <> 10) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_69 = -1 in (
              tempNumber4 := __assign_69;
              __assign_69
            ) else let __assign_70 = let __nullable_int_71 = HxString.charCodeAt (self.src) i in if __nullable_int_71 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_71 in (
              tempNumber4 := __assign_70;
              __assign_70
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_72 = self in let __old_73 = __obj_72.index in let __new_74 = HxInt.add __old_73 1 in (
                ignore (__obj_72.index <- __new_74);
                __old_73
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_75 = self in let __old_76 = __obj_75.line in let __new_77 = HxInt.add __old_76 1 in (
                  ignore (__obj_75.line <- __new_77);
                  __old_76
                ));
                let __assign_78 = 1 in (
                  self.column <- __assign_78;
                  __assign_78
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_79 = self in let __old_80 = __obj_79.column in let __new_81 = HxInt.add __old_80 1 in (
                ignore (__obj_79.column <- __new_81);
                __old_80
              )) else ()));
              c2
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        raise (HxRuntime.Hx_continue)
      )) else ());
      let tempLeft2 = ref 0 in (
        ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_82 = -1 in (
          tempLeft2 := __assign_82;
          __assign_82
        ) else let __assign_83 = let __nullable_int_84 = HxString.charCodeAt (self.src) i in if __nullable_int_84 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_84 in (
          tempLeft2 := __assign_83;
          __assign_83
        ));
        ignore (if c = 47 && !tempLeft2 = 42 then ignore ((
          ignore (let tempNumber5 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_85 = -1 in (
              tempNumber5 := __assign_85;
              __assign_85
            ) else let __assign_86 = let __nullable_int_87 = HxString.charCodeAt (self.src) i in if __nullable_int_87 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_87 in (
              tempNumber5 := __assign_86;
              __assign_86
            ));
            let c2 = !tempNumber5 in (
              ignore (let __obj_88 = self in let __old_89 = __obj_88.index in let __new_90 = HxInt.add __old_89 1 in (
                ignore (__obj_88.index <- __new_90);
                __old_89
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_91 = self in let __old_92 = __obj_91.line in let __new_93 = HxInt.add __old_92 1 in (
                  ignore (__obj_91.line <- __new_93);
                  __old_92
                ));
                let __assign_94 = 1 in (
                  self.column <- __assign_94;
                  __assign_94
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_95 = self in let __old_96 = __obj_95.column in let __new_97 = HxInt.add __old_96 1 in (
                ignore (__obj_95.column <- __new_97);
                __old_96
              )) else ()));
              c2
            )
          ));
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_98 = -1 in (
              tempNumber6 := __assign_98;
              __assign_98
            ) else let __assign_99 = let __nullable_int_100 = HxString.charCodeAt (self.src) i in if __nullable_int_100 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_100 in (
              tempNumber6 := __assign_99;
              __assign_99
            ));
            let c2 = !tempNumber6 in (
              ignore (let __obj_101 = self in let __old_102 = __obj_101.index in let __new_103 = HxInt.add __old_102 1 in (
                ignore (__obj_101.index <- __new_103);
                __old_102
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_104 = self in let __old_105 = __obj_104.line in let __new_106 = HxInt.add __old_105 1 in (
                  ignore (__obj_104.line <- __new_106);
                  __old_105
                ));
                let __assign_107 = 1 in (
                  self.column <- __assign_107;
                  __assign_107
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_108 = self in let __old_109 = __obj_108.column in let __new_110 = HxInt.add __old_109 1 in (
                ignore (__obj_108.column <- __new_110);
                __old_109
              )) else ()));
              c2
            )
          ));
          ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber7 = ref 0 in (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_111 = -1 in (
                tempNumber8 := __assign_111;
                __assign_111
              ) else let __assign_112 = let __nullable_int_113 = HxString.charCodeAt (self.src) i in if __nullable_int_113 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_113 in (
                tempNumber8 := __assign_112;
                __assign_112
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_114 = self in let __old_115 = __obj_114.index in let __new_116 = HxInt.add __old_115 1 in (
                  ignore (__obj_114.index <- __new_116);
                  __old_115
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_117 = self in let __old_118 = __obj_117.line in let __new_119 = HxInt.add __old_118 1 in (
                    ignore (__obj_117.line <- __new_119);
                    __old_118
                  ));
                  let __assign_120 = 1 in (
                    self.column <- __assign_120;
                    __assign_120
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_121 = self in let __old_122 = __obj_121.column in let __new_123 = HxInt.add __old_122 1 in (
                  ignore (__obj_121.column <- __new_123);
                  __old_122
                )) else ()));
                let __assign_124 = c2 in (
                  tempNumber7 := __assign_124;
                  __assign_124
                )
              )
            ));
            let d = !tempNumber7 in let tempLeft3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_125 = -1 in (
                tempLeft3 := __assign_125;
                __assign_125
              ) else let __assign_126 = let __nullable_int_127 = HxString.charCodeAt (self.src) i in if __nullable_int_127 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_127 in (
                tempLeft3 := __assign_126;
                __assign_126
              ));
              if d = 42 && !tempLeft3 = 47 then ignore ((
                ignore (let tempNumber9 = ref 0 in (
                  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_128 = -1 in (
                    tempNumber9 := __assign_128;
                    __assign_128
                  ) else let __assign_129 = let __nullable_int_130 = HxString.charCodeAt (self.src) i in if __nullable_int_130 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_130 in (
                    tempNumber9 := __assign_129;
                    __assign_129
                  ));
                  let c2 = !tempNumber9 in (
                    ignore (let __obj_131 = self in let __old_132 = __obj_131.index in let __new_133 = HxInt.add __old_132 1 in (
                      ignore (__obj_131.index <- __new_133);
                      __old_132
                    ));
                    ignore (if c2 = 10 then ignore ((
                      ignore (let __obj_134 = self in let __old_135 = __obj_134.line in let __new_136 = HxInt.add __old_135 1 in (
                        ignore (__obj_134.line <- __new_136);
                        __old_135
                      ));
                      let __assign_137 = 1 in (
                        self.column <- __assign_137;
                        __assign_137
                      )
                    )) else ignore (if c2 <> 13 then ignore (let __obj_138 = self in let __old_139 = __obj_138.column in let __new_140 = HxInt.add __old_139 1 in (
                      ignore (__obj_138.column <- __new_140);
                      __old_139
                    )) else ()));
                    c2
                  )
                ));
                raise (HxRuntime.Hx_break)
              )) else ()
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ());
          raise (HxRuntime.Hx_continue)
        )) else ());
        raise (HxRuntime.Hx_break)
      )
    )
  )
)) with
  | HxRuntime.Hx_continue -> () done with
  | HxRuntime.Hx_break -> ())

let readIdent = fun self (startPos : HxPos.t) -> let start = self.index in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_141 = -1 in (
      tempNumber := __assign_141;
      __assign_141
    ) else let __assign_142 = let __nullable_int_143 = HxString.charCodeAt (self.src) i in if __nullable_int_143 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_143 in (
      tempNumber := __assign_142;
      __assign_142
    ));
    let c = !tempNumber in (
      ignore (let __obj_144 = self in let __old_145 = __obj_144.index in let __new_146 = HxInt.add __old_145 1 in (
        ignore (__obj_144.index <- __new_146);
        __old_145
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_147 = self in let __old_148 = __obj_147.line in let __new_149 = HxInt.add __old_148 1 in (
          ignore (__obj_147.line <- __new_149);
          __old_148
        ));
        let __assign_150 = 1 in (
          self.column <- __assign_150;
          __assign_150
        )
      )) else ignore (if c <> 13 then ignore (let __obj_151 = self in let __old_152 = __obj_151.column in let __new_153 = HxInt.add __old_152 1 in (
        ignore (__obj_151.column <- __new_153);
        __old_152
      )) else ()));
      c
    )
  ));
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_154 = -1 in (
        tempNumber1 := __assign_154;
        __assign_154
      ) else let __assign_155 = let __nullable_int_156 = HxString.charCodeAt (self.src) i in if __nullable_int_156 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_156 in (
        tempNumber1 := __assign_155;
        __assign_155
      ));
      let c = !tempNumber1 in let __assign_157 = c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57 in (
        tempRight := __assign_157;
        __assign_157
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber2 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_158 = -1 in (
        tempNumber2 := __assign_158;
        __assign_158
      ) else let __assign_159 = let __nullable_int_160 = HxString.charCodeAt (self.src) i in if __nullable_int_160 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_160 in (
        tempNumber2 := __assign_159;
        __assign_159
      ));
      let c = !tempNumber2 in (
        ignore (let __obj_161 = self in let __old_162 = __obj_161.index in let __new_163 = HxInt.add __old_162 1 in (
          ignore (__obj_161.index <- __new_163);
          __old_162
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_164 = self in let __old_165 = __obj_164.line in let __new_166 = HxInt.add __old_165 1 in (
            ignore (__obj_164.line <- __new_166);
            __old_165
          ));
          let __assign_167 = 1 in (
            self.column <- __assign_167;
            __assign_167
          )
        )) else ignore (if c <> 13 then ignore (let __obj_168 = self in let __old_169 = __obj_168.column in let __new_170 = HxInt.add __old_169 1 in (
          ignore (__obj_168.column <- __new_170);
          __old_169
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let text = HxString.substring (self.src) start (self.index) in let tempResult = ref (Obj.magic ()) in (
    ignore (match text with
      | "as" -> let __assign_172 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KAs)) startPos in (
        tempResult := __assign_172;
        __assign_172
      )
      | "break" -> let __assign_173 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KBreak)) startPos in (
        tempResult := __assign_173;
        __assign_173
      )
      | "case" -> let __assign_174 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCase)) startPos in (
        tempResult := __assign_174;
        __assign_174
      )
      | "cast" -> let __assign_175 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCast)) startPos in (
        tempResult := __assign_175;
        __assign_175
      )
      | "catch" -> let __assign_176 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCatch)) startPos in (
        tempResult := __assign_176;
        __assign_176
      )
      | "class" -> let __assign_177 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KClass)) startPos in (
        tempResult := __assign_177;
        __assign_177
      )
      | "continue" -> let __assign_178 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KContinue)) startPos in (
        tempResult := __assign_178;
        __assign_178
      )
      | "default" -> let __assign_179 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDefault)) startPos in (
        tempResult := __assign_179;
        __assign_179
      )
      | "do" -> let __assign_180 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDo)) startPos in (
        tempResult := __assign_180;
        __assign_180
      )
      | "else" -> let __assign_181 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KElse)) startPos in (
        tempResult := __assign_181;
        __assign_181
      )
      | "false" -> let __assign_182 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFalse)) startPos in (
        tempResult := __assign_182;
        __assign_182
      )
      | "final" -> let __assign_183 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFinal)) startPos in (
        tempResult := __assign_183;
        __assign_183
      )
      | "for" -> let __assign_184 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFor)) startPos in (
        tempResult := __assign_184;
        __assign_184
      )
      | "function" -> let __assign_185 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFunction)) startPos in (
        tempResult := __assign_185;
        __assign_185
      )
      | "if" -> let __assign_186 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIf)) startPos in (
        tempResult := __assign_186;
        __assign_186
      )
      | "import" -> let __assign_187 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KImport)) startPos in (
        tempResult := __assign_187;
        __assign_187
      )
      | "in" -> let __assign_188 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIn)) startPos in (
        tempResult := __assign_188;
        __assign_188
      )
      | "new" -> let __assign_189 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNew)) startPos in (
        tempResult := __assign_189;
        __assign_189
      )
      | "null" -> let __assign_190 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNull)) startPos in (
        tempResult := __assign_190;
        __assign_190
      )
      | "package" -> let __assign_191 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPackage)) startPos in (
        tempResult := __assign_191;
        __assign_191
      )
      | "private" -> let __assign_192 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPrivate)) startPos in (
        tempResult := __assign_192;
        __assign_192
      )
      | "public" -> let __assign_193 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPublic)) startPos in (
        tempResult := __assign_193;
        __assign_193
      )
      | "return" -> let __assign_194 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KReturn)) startPos in (
        tempResult := __assign_194;
        __assign_194
      )
      | "static" -> let __assign_195 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KStatic)) startPos in (
        tempResult := __assign_195;
        __assign_195
      )
      | "super" -> let __assign_196 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSuper)) startPos in (
        tempResult := __assign_196;
        __assign_196
      )
      | "switch" -> let __assign_197 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSwitch)) startPos in (
        tempResult := __assign_197;
        __assign_197
      )
      | "this" -> let __assign_198 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThis)) startPos in (
        tempResult := __assign_198;
        __assign_198
      )
      | "throw" -> let __assign_199 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThrow)) startPos in (
        tempResult := __assign_199;
        __assign_199
      )
      | "true" -> let __assign_200 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTrue)) startPos in (
        tempResult := __assign_200;
        __assign_200
      )
      | "try" -> let __assign_201 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTry)) startPos in (
        tempResult := __assign_201;
        __assign_201
      )
      | "untyped" -> let __assign_202 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUntyped)) startPos in (
        tempResult := __assign_202;
        __assign_202
      )
      | "using" -> let __assign_203 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUsing)) startPos in (
        tempResult := __assign_203;
        __assign_203
      )
      | "var" -> let __assign_204 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KVar)) startPos in (
        tempResult := __assign_204;
        __assign_204
      )
      | "while" -> let __assign_205 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KWhile)) startPos in (
        tempResult := __assign_205;
        __assign_205
      )
      | _ -> let __assign_171 = HxToken.create (HxTokenKind.TIdent text) startPos in (
        tempResult := __assign_171;
        __assign_171
      ));
    !tempResult
  )
)

let readNumber = fun self (startPos : HxPos.t) -> try let start = self.index in (
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_206 = -1 in (
        tempNumber := __assign_206;
        __assign_206
      ) else let __assign_207 = let __nullable_int_208 = HxString.charCodeAt (self.src) i in if __nullable_int_208 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_208 in (
        tempNumber := __assign_207;
        __assign_207
      ));
      let c = !tempNumber in let __assign_209 = c >= 48 && c <= 57 in (
        tempRight := __assign_209;
        __assign_209
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_210 = -1 in (
        tempNumber1 := __assign_210;
        __assign_210
      ) else let __assign_211 = let __nullable_int_212 = HxString.charCodeAt (self.src) i in if __nullable_int_212 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_212 in (
        tempNumber1 := __assign_211;
        __assign_211
      ));
      let c = !tempNumber1 in (
        ignore (let __obj_213 = self in let __old_214 = __obj_213.index in let __new_215 = HxInt.add __old_214 1 in (
          ignore (__obj_213.index <- __new_215);
          __old_214
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_216 = self in let __old_217 = __obj_216.line in let __new_218 = HxInt.add __old_217 1 in (
            ignore (__obj_216.line <- __new_218);
            __old_217
          ));
          let __assign_219 = 1 in (
            self.column <- __assign_219;
            __assign_219
          )
        )) else ignore (if c <> 13 then ignore (let __obj_220 = self in let __old_221 = __obj_220.column in let __new_222 = HxInt.add __old_221 1 in (
          ignore (__obj_220.column <- __new_222);
          __old_221
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let tempLeft = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_223 = -1 in (
      tempLeft := __assign_223;
      __assign_223
    ) else let __assign_224 = let __nullable_int_225 = HxString.charCodeAt (self.src) i in if __nullable_int_225 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_225 in (
      tempLeft := __assign_224;
      __assign_224
    ));
    let tempLeft1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_226 = -1 in (
        tempLeft1 := __assign_226;
        __assign_226
      ) else let __assign_227 = let __nullable_int_228 = HxString.charCodeAt (self.src) i in if __nullable_int_228 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_228 in (
        tempLeft1 := __assign_227;
        __assign_227
      ));
      ignore (if self.index < HxString.length (self.src) && self.index = HxInt.add start 1 && (let __nullable_229 = HxString.charCodeAt (self.src) start in if __nullable_229 == HxRuntime.hx_null then false else Obj.obj __nullable_229 = 48) && (!tempLeft = 120 || !tempLeft1 = 88) then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_230 = -1 in (
            tempNumber2 := __assign_230;
            __assign_230
          ) else let __assign_231 = let __nullable_int_232 = HxString.charCodeAt (self.src) i in if __nullable_int_232 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_232 in (
            tempNumber2 := __assign_231;
            __assign_231
          ));
          let c = !tempNumber2 in (
            ignore (let __obj_233 = self in let __old_234 = __obj_233.index in let __new_235 = HxInt.add __old_234 1 in (
              ignore (__obj_233.index <- __new_235);
              __old_234
            ));
            ignore (if c = 10 then ignore ((
              ignore (let __obj_236 = self in let __old_237 = __obj_236.line in let __new_238 = HxInt.add __old_237 1 in (
                ignore (__obj_236.line <- __new_238);
                __old_237
              ));
              let __assign_239 = 1 in (
                self.column <- __assign_239;
                __assign_239
              )
            )) else ignore (if c <> 13 then ignore (let __obj_240 = self in let __old_241 = __obj_240.column in let __new_242 = HxInt.add __old_241 1 in (
              ignore (__obj_240.column <- __new_242);
              __old_241
            )) else ()));
            c
          )
        ));
        ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_243 = -1 in (
            tempNumber3 := __assign_243;
            __assign_243
          ) else let __assign_244 = let __nullable_int_245 = HxString.charCodeAt (self.src) i in if __nullable_int_245 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_245 in (
            tempNumber3 := __assign_244;
            __assign_244
          ));
          let c = !tempNumber3 in let isHex = c >= 48 && c <= 57 || c >= 97 && c <= 102 || c >= 65 && c <= 70 in (
            ignore (if not (isHex) then raise (HxRuntime.Hx_break) else ());
            let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_246 = -1 in (
                tempNumber4 := __assign_246;
                __assign_246
              ) else let __assign_247 = let __nullable_int_248 = HxString.charCodeAt (self.src) i in if __nullable_int_248 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_248 in (
                tempNumber4 := __assign_247;
                __assign_247
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_249 = self in let __old_250 = __obj_249.index in let __new_251 = HxInt.add __old_250 1 in (
                  ignore (__obj_249.index <- __new_251);
                  __old_250
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_252 = self in let __old_253 = __obj_252.line in let __new_254 = HxInt.add __old_253 1 in (
                    ignore (__obj_252.line <- __new_254);
                    __old_253
                  ));
                  let __assign_255 = 1 in (
                    self.column <- __assign_255;
                    __assign_255
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_256 = self in let __old_257 = __obj_256.column in let __new_258 = HxInt.add __old_257 1 in (
                  ignore (__obj_256.column <- __new_258);
                  __old_257
                )) else ()));
                c2
              )
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let text = HxString.substring (self.src) start (self.index) in let value = Std.parseInt text in let tempNumber5 = ref 0 in (
          ignore (if value == HxRuntime.hx_null then let __assign_259 = 0 in (
            tempNumber5 := __assign_259;
            __assign_259
          ) else let __assign_260 = let __nullable_int_261 = value in if __nullable_int_261 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_261 in (
            tempNumber5 := __assign_260;
            __assign_260
          ));
          raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TInt (!tempNumber5)) startPos)))
        )
      )) else ());
      let isFloat = ref false in let tempLeft2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_262 = -1 in (
          tempLeft2 := __assign_262;
          __assign_262
        ) else let __assign_263 = let __nullable_int_264 = HxString.charCodeAt (self.src) i in if __nullable_int_264 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_264 in (
          tempLeft2 := __assign_263;
          __assign_263
        ));
        let tempRight1 = ref false in (
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_265 = -1 in (
              tempNumber6 := __assign_265;
              __assign_265
            ) else let __assign_266 = let __nullable_int_267 = HxString.charCodeAt (self.src) i in if __nullable_int_267 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_267 in (
              tempNumber6 := __assign_266;
              __assign_266
            ));
            let c = !tempNumber6 in let __assign_268 = c >= 48 && c <= 57 in (
              tempRight1 := __assign_268;
              __assign_268
            )
          ));
          ignore (if self.index < HxString.length (self.src) && !tempLeft2 = 46 && !tempRight1 then ignore ((
            ignore (let __assign_269 = true in (
              isFloat := __assign_269;
              __assign_269
            ));
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_270 = -1 in (
                tempNumber7 := __assign_270;
                __assign_270
              ) else let __assign_271 = let __nullable_int_272 = HxString.charCodeAt (self.src) i in if __nullable_int_272 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_272 in (
                tempNumber7 := __assign_271;
                __assign_271
              ));
              let c = !tempNumber7 in (
                ignore (let __obj_273 = self in let __old_274 = __obj_273.index in let __new_275 = HxInt.add __old_274 1 in (
                  ignore (__obj_273.index <- __new_275);
                  __old_274
                ));
                ignore (if c = 10 then ignore ((
                  ignore (let __obj_276 = self in let __old_277 = __obj_276.line in let __new_278 = HxInt.add __old_277 1 in (
                    ignore (__obj_276.line <- __new_278);
                    __old_277
                  ));
                  let __assign_279 = 1 in (
                    self.column <- __assign_279;
                    __assign_279
                  )
                )) else ignore (if c <> 13 then ignore (let __obj_280 = self in let __old_281 = __obj_280.column in let __new_282 = HxInt.add __old_281 1 in (
                  ignore (__obj_280.column <- __new_282);
                  __old_281
                )) else ()));
                c
              )
            ));
            try while true do try ignore (let tempRight2 = ref false in (
              ignore (let tempNumber8 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_283 = -1 in (
                  tempNumber8 := __assign_283;
                  __assign_283
                ) else let __assign_284 = let __nullable_int_285 = HxString.charCodeAt (self.src) i in if __nullable_int_285 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_285 in (
                  tempNumber8 := __assign_284;
                  __assign_284
                ));
                let c = !tempNumber8 in let __assign_286 = c >= 48 && c <= 57 in (
                  tempRight2 := __assign_286;
                  __assign_286
                )
              ));
              ignore (if not (self.index < HxString.length (self.src) && !tempRight2) then raise (HxRuntime.Hx_break) else ());
              let tempNumber9 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_287 = -1 in (
                  tempNumber9 := __assign_287;
                  __assign_287
                ) else let __assign_288 = let __nullable_int_289 = HxString.charCodeAt (self.src) i in if __nullable_int_289 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_289 in (
                  tempNumber9 := __assign_288;
                  __assign_288
                ));
                let c = !tempNumber9 in (
                  ignore (let __obj_290 = self in let __old_291 = __obj_290.index in let __new_292 = HxInt.add __old_291 1 in (
                    ignore (__obj_290.index <- __new_292);
                    __old_291
                  ));
                  ignore (if c = 10 then ignore ((
                    ignore (let __obj_293 = self in let __old_294 = __obj_293.line in let __new_295 = HxInt.add __old_294 1 in (
                      ignore (__obj_293.line <- __new_295);
                      __old_294
                    ));
                    let __assign_296 = 1 in (
                      self.column <- __assign_296;
                      __assign_296
                    )
                  )) else ignore (if c <> 13 then ignore (let __obj_297 = self in let __old_298 = __obj_297.column in let __new_299 = HxInt.add __old_298 1 in (
                    ignore (__obj_297.column <- __new_299);
                    __old_298
                  )) else ()));
                  c
                )
              )
            )) with
              | HxRuntime.Hx_continue -> () done with
              | HxRuntime.Hx_break -> ()
          )) else ());
          let tempLeft3 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_300 = -1 in (
              tempLeft3 := __assign_300;
              __assign_300
            ) else let __assign_301 = let __nullable_int_302 = HxString.charCodeAt (self.src) i in if __nullable_int_302 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_302 in (
              tempLeft3 := __assign_301;
              __assign_301
            ));
            let tempLeft4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_303 = -1 in (
                tempLeft4 := __assign_303;
                __assign_303
              ) else let __assign_304 = let __nullable_int_305 = HxString.charCodeAt (self.src) i in if __nullable_int_305 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_305 in (
                tempLeft4 := __assign_304;
                __assign_304
              ));
              ignore (if self.index < HxString.length (self.src) && (!tempLeft3 = 101 || !tempLeft4 = 69) then ignore (let off = ref 1 in let tempNumber10 = ref 0 in (
                ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_306 = -1 in (
                  tempNumber10 := __assign_306;
                  __assign_306
                ) else let __assign_307 = let __nullable_int_308 = HxString.charCodeAt (self.src) i in if __nullable_int_308 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_308 in (
                  tempNumber10 := __assign_307;
                  __assign_307
                ));
                let sign = !tempNumber10 in (
                  ignore (if sign = 43 || sign = 45 then ignore (let __assign_309 = 2 in (
                    off := __assign_309;
                    __assign_309
                  )) else ());
                  let tempBool = ref false in (
                    ignore (let tempNumber11 = ref 0 in (
                      ignore (let i = HxInt.add (self.index) (!off) in if i >= HxString.length (self.src) then let __assign_310 = -1 in (
                        tempNumber11 := __assign_310;
                        __assign_310
                      ) else let __assign_311 = let __nullable_int_312 = HxString.charCodeAt (self.src) i in if __nullable_int_312 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_312 in (
                        tempNumber11 := __assign_311;
                        __assign_311
                      ));
                      let c = !tempNumber11 in let __assign_313 = c >= 48 && c <= 57 in (
                        tempBool := __assign_313;
                        __assign_313
                      )
                    ));
                    if !tempBool then ignore ((
                      ignore (let __assign_314 = true in (
                        isFloat := __assign_314;
                        __assign_314
                      ));
                      ignore (let tempNumber12 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_315 = -1 in (
                          tempNumber12 := __assign_315;
                          __assign_315
                        ) else let __assign_316 = let __nullable_int_317 = HxString.charCodeAt (self.src) i in if __nullable_int_317 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_317 in (
                          tempNumber12 := __assign_316;
                          __assign_316
                        ));
                        let c = !tempNumber12 in (
                          ignore (let __obj_318 = self in let __old_319 = __obj_318.index in let __new_320 = HxInt.add __old_319 1 in (
                            ignore (__obj_318.index <- __new_320);
                            __old_319
                          ));
                          ignore (if c = 10 then ignore ((
                            ignore (let __obj_321 = self in let __old_322 = __obj_321.line in let __new_323 = HxInt.add __old_322 1 in (
                              ignore (__obj_321.line <- __new_323);
                              __old_322
                            ));
                            let __assign_324 = 1 in (
                              self.column <- __assign_324;
                              __assign_324
                            )
                          )) else ignore (if c <> 13 then ignore (let __obj_325 = self in let __old_326 = __obj_325.column in let __new_327 = HxInt.add __old_326 1 in (
                            ignore (__obj_325.column <- __new_327);
                            __old_326
                          )) else ()));
                          c
                        )
                      ));
                      let tempLeft5 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_328 = -1 in (
                          tempLeft5 := __assign_328;
                          __assign_328
                        ) else let __assign_329 = let __nullable_int_330 = HxString.charCodeAt (self.src) i in if __nullable_int_330 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_330 in (
                          tempLeft5 := __assign_329;
                          __assign_329
                        ));
                        let tempLeft6 = ref 0 in (
                          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_331 = -1 in (
                            tempLeft6 := __assign_331;
                            __assign_331
                          ) else let __assign_332 = let __nullable_int_333 = HxString.charCodeAt (self.src) i in if __nullable_int_333 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_333 in (
                            tempLeft6 := __assign_332;
                            __assign_332
                          ));
                          ignore (if !tempLeft5 = 43 || !tempLeft6 = 45 then ignore (let tempNumber13 = ref 0 in (
                            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_334 = -1 in (
                              tempNumber13 := __assign_334;
                              __assign_334
                            ) else let __assign_335 = let __nullable_int_336 = HxString.charCodeAt (self.src) i in if __nullable_int_336 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_336 in (
                              tempNumber13 := __assign_335;
                              __assign_335
                            ));
                            let c = !tempNumber13 in (
                              ignore (let __obj_337 = self in let __old_338 = __obj_337.index in let __new_339 = HxInt.add __old_338 1 in (
                                ignore (__obj_337.index <- __new_339);
                                __old_338
                              ));
                              ignore (if c = 10 then ignore ((
                                ignore (let __obj_340 = self in let __old_341 = __obj_340.line in let __new_342 = HxInt.add __old_341 1 in (
                                  ignore (__obj_340.line <- __new_342);
                                  __old_341
                                ));
                                let __assign_343 = 1 in (
                                  self.column <- __assign_343;
                                  __assign_343
                                )
                              )) else ignore (if c <> 13 then ignore (let __obj_344 = self in let __old_345 = __obj_344.column in let __new_346 = HxInt.add __old_345 1 in (
                                ignore (__obj_344.column <- __new_346);
                                __old_345
                              )) else ()));
                              c
                            )
                          )) else ());
                          try while true do try ignore (let tempRight3 = ref false in (
                            ignore (let tempNumber14 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_347 = -1 in (
                                tempNumber14 := __assign_347;
                                __assign_347
                              ) else let __assign_348 = let __nullable_int_349 = HxString.charCodeAt (self.src) i in if __nullable_int_349 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_349 in (
                                tempNumber14 := __assign_348;
                                __assign_348
                              ));
                              let c = !tempNumber14 in let __assign_350 = c >= 48 && c <= 57 in (
                                tempRight3 := __assign_350;
                                __assign_350
                              )
                            ));
                            ignore (if not (self.index < HxString.length (self.src) && !tempRight3) then raise (HxRuntime.Hx_break) else ());
                            let tempNumber15 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_351 = -1 in (
                                tempNumber15 := __assign_351;
                                __assign_351
                              ) else let __assign_352 = let __nullable_int_353 = HxString.charCodeAt (self.src) i in if __nullable_int_353 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_353 in (
                                tempNumber15 := __assign_352;
                                __assign_352
                              ));
                              let c = !tempNumber15 in (
                                ignore (let __obj_354 = self in let __old_355 = __obj_354.index in let __new_356 = HxInt.add __old_355 1 in (
                                  ignore (__obj_354.index <- __new_356);
                                  __old_355
                                ));
                                ignore (if c = 10 then ignore ((
                                  ignore (let __obj_357 = self in let __old_358 = __obj_357.line in let __new_359 = HxInt.add __old_358 1 in (
                                    ignore (__obj_357.line <- __new_359);
                                    __old_358
                                  ));
                                  let __assign_360 = 1 in (
                                    self.column <- __assign_360;
                                    __assign_360
                                  )
                                )) else ignore (if c <> 13 then ignore (let __obj_361 = self in let __old_362 = __obj_361.column in let __new_363 = HxInt.add __old_362 1 in (
                                  ignore (__obj_361.column <- __new_363);
                                  __old_362
                                )) else ()));
                                c
                              )
                            )
                          )) with
                            | HxRuntime.Hx_continue -> () done with
                            | HxRuntime.Hx_break -> ()
                        )
                      )
                    )) else ()
                  )
                )
              )) else ());
              let text = HxString.substring (self.src) start (self.index) in (
                ignore (if !isFloat then ignore (let value = Std.parseFloat text in raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TFloat value) startPos)))) else ());
                let value = Std.parseInt text in let tempNumber16 = ref 0 in (
                  ignore (if value == HxRuntime.hx_null then let __assign_364 = 0 in (
                    tempNumber16 := __assign_364;
                    __assign_364
                  ) else let __assign_365 = let __nullable_int_366 = value in if __nullable_int_366 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_366 in (
                    tempNumber16 := __assign_365;
                    __assign_365
                  ));
                  HxToken.create (HxTokenKind.TInt (!tempNumber16)) startPos
                )
              )
            )
          )
        )
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_367 -> Obj.obj __ret_367

let readString = fun self (startPos : HxPos.t) -> try let _gthis = self in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_368 = -1 in (
      tempNumber := __assign_368;
      __assign_368
    ) else let __assign_369 = let __nullable_int_370 = HxString.charCodeAt (self.src) i in if __nullable_int_370 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_370 in (
      tempNumber := __assign_369;
      __assign_369
    ));
    let c = !tempNumber in (
      ignore (let __obj_371 = self in let __old_372 = __obj_371.index in let __new_373 = HxInt.add __old_372 1 in (
        ignore (__obj_371.index <- __new_373);
        __old_372
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_374 = self in let __old_375 = __obj_374.line in let __new_376 = HxInt.add __old_375 1 in (
          ignore (__obj_374.line <- __new_376);
          __old_375
        ));
        let __assign_377 = 1 in (
          self.column <- __assign_377;
          __assign_377
        )
      )) else ignore (if c <> 13 then ignore (let __obj_378 = self in let __old_379 = __obj_378.column in let __new_380 = HxInt.add __old_379 1 in (
        ignore (__obj_378.column <- __new_380);
        __old_379
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in let hexVal = fun c -> let tempResult = ref 0 in (
    ignore (if c >= 48 && c <= 57 then let __assign_381 = HxInt.sub c 48 in (
      tempResult := __assign_381;
      __assign_381
    ) else if c >= 97 && c <= 102 then let __assign_382 = HxInt.add 10 (HxInt.sub c 97) in (
      tempResult := __assign_382;
      __assign_382
    ) else if c >= 65 && c <= 70 then let __assign_383 = HxInt.add 10 (HxInt.sub c 65) in (
      tempResult := __assign_383;
      __assign_383
    ) else let __assign_384 = -1 in (
      tempResult := __assign_384;
      __assign_384
    ));
    !tempResult
  ) in let readHexDigits = fun count -> try let acc = ref 0 in let _g = ref 0 in let _g1 = count in (
    ignore (while !_g < _g1 do ignore ((
      ignore (let __old_385 = !_g in let __new_386 = HxInt.add __old_385 1 in (
        ignore (_g := __new_386);
        __old_385
      ));
      let tempNumber1 = ref 0 in (
        ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_387 = -1 in (
          tempNumber1 := __assign_387;
          __assign_387
        ) else let __assign_388 = let __nullable_int_389 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_389 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_389 in (
          tempNumber1 := __assign_388;
          __assign_388
        ));
        let c = !tempNumber1 in (
          ignore (if c = -1 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
          let v = hexVal c in (
            ignore (if v < 0 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
            ignore (let __assign_390 = HxInt.logor (HxInt.shl (!acc) 4) v in (
              acc := __assign_390;
              __assign_390
            ));
            let tempNumber2 = ref 0 in (
              ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_391 = -1 in (
                tempNumber2 := __assign_391;
                __assign_391
              ) else let __assign_392 = let __nullable_int_393 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_393 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_393 in (
                tempNumber2 := __assign_392;
                __assign_392
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_394 = _gthis in let __old_395 = __obj_394.index in let __new_396 = HxInt.add __old_395 1 in (
                  ignore (__obj_394.index <- __new_396);
                  __old_395
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_397 = _gthis in let __old_398 = __obj_397.line in let __new_399 = HxInt.add __old_398 1 in (
                    ignore (__obj_397.line <- __new_399);
                    __old_398
                  ));
                  let __assign_400 = 1 in (
                    _gthis.column <- __assign_400;
                    __assign_400
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_401 = _gthis in let __old_402 = __obj_401.column in let __new_403 = HxInt.add __old_402 1 in (
                  ignore (__obj_401.column <- __new_403);
                  __old_402
                )) else ()));
                c2
              )
            )
          )
        )
      )
    )) done);
    !acc
  ) with
    | HxRuntime.Hx_return __ret_404 -> Obj.obj __ret_404 in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
      ignore (let tempNumber4 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_405 = -1 in (
          tempNumber4 := __assign_405;
          __assign_405
        ) else let __assign_406 = let __nullable_int_407 = HxString.charCodeAt (self.src) i in if __nullable_int_407 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_407 in (
          tempNumber4 := __assign_406;
          __assign_406
        ));
        let c = !tempNumber4 in (
          ignore (let __obj_408 = self in let __old_409 = __obj_408.index in let __new_410 = HxInt.add __old_409 1 in (
            ignore (__obj_408.index <- __new_410);
            __old_409
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_411 = self in let __old_412 = __obj_411.line in let __new_413 = HxInt.add __old_412 1 in (
              ignore (__obj_411.line <- __new_413);
              __old_412
            ));
            let __assign_414 = 1 in (
              self.column <- __assign_414;
              __assign_414
            )
          )) else ignore (if c <> 13 then ignore (let __obj_415 = self in let __old_416 = __obj_415.column in let __new_417 = HxInt.add __old_416 1 in (
            ignore (__obj_415.column <- __new_417);
            __old_416
          )) else ()));
          let __assign_418 = c in (
            tempNumber3 := __assign_418;
            __assign_418
          )
        )
      ));
      let c = !tempNumber3 in (
        ignore (if c = 34 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_419 = -1 in (
                tempNumber6 := __assign_419;
                __assign_419
              ) else let __assign_420 = let __nullable_int_421 = HxString.charCodeAt (self.src) i in if __nullable_int_421 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_421 in (
                tempNumber6 := __assign_420;
                __assign_420
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_422 = self in let __old_423 = __obj_422.index in let __new_424 = HxInt.add __old_423 1 in (
                  ignore (__obj_422.index <- __new_424);
                  __old_423
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_425 = self in let __old_426 = __obj_425.line in let __new_427 = HxInt.add __old_426 1 in (
                    ignore (__obj_425.line <- __new_427);
                    __old_426
                  ));
                  let __assign_428 = 1 in (
                    self.column <- __assign_428;
                    __assign_428
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_429 = self in let __old_430 = __obj_429.column in let __new_431 = HxInt.add __old_430 1 in (
                  ignore (__obj_429.column <- __new_431);
                  __old_430
                )) else ()));
                let __assign_432 = c2 in (
                  tempNumber5 := __assign_432;
                  __assign_432
                )
              )
            ));
            let esc = !tempNumber5 in (
              ignore (match esc with
                | 34 -> ignore (StringBuf.addChar buf 34)
                | 92 -> ignore (StringBuf.addChar buf 92)
                | 110 -> ignore (StringBuf.addChar buf 10)
                | 114 -> ignore (StringBuf.addChar buf 13)
                | 116 -> ignore (StringBuf.addChar buf 9)
                | 117 -> ignore (let v = readHexDigits 4 in if v < 0 then ignore (StringBuf.addChar buf 117) else ignore (StringBuf.addChar buf v))
                | 120 -> ignore (let v = readHexDigits 2 in if v < 0 then ignore (StringBuf.addChar buf 120) else ignore (StringBuf.addChar buf v))
                | _ -> ignore (StringBuf.addChar buf esc));
              raise (HxRuntime.Hx_continue)
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_433 -> Obj.obj __ret_433

let readSingleQuotedString = fun self (startPos : HxPos.t) -> try let _gthis = self in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_434 = -1 in (
      tempNumber := __assign_434;
      __assign_434
    ) else let __assign_435 = let __nullable_int_436 = HxString.charCodeAt (self.src) i in if __nullable_int_436 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_436 in (
      tempNumber := __assign_435;
      __assign_435
    ));
    let c = !tempNumber in (
      ignore (let __obj_437 = self in let __old_438 = __obj_437.index in let __new_439 = HxInt.add __old_438 1 in (
        ignore (__obj_437.index <- __new_439);
        __old_438
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_440 = self in let __old_441 = __obj_440.line in let __new_442 = HxInt.add __old_441 1 in (
          ignore (__obj_440.line <- __new_442);
          __old_441
        ));
        let __assign_443 = 1 in (
          self.column <- __assign_443;
          __assign_443
        )
      )) else ignore (if c <> 13 then ignore (let __obj_444 = self in let __old_445 = __obj_444.column in let __new_446 = HxInt.add __old_445 1 in (
        ignore (__obj_444.column <- __new_446);
        __old_445
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in let hexVal = fun c -> let tempResult = ref 0 in (
    ignore (if c >= 48 && c <= 57 then let __assign_447 = HxInt.sub c 48 in (
      tempResult := __assign_447;
      __assign_447
    ) else if c >= 97 && c <= 102 then let __assign_448 = HxInt.add 10 (HxInt.sub c 97) in (
      tempResult := __assign_448;
      __assign_448
    ) else if c >= 65 && c <= 70 then let __assign_449 = HxInt.add 10 (HxInt.sub c 65) in (
      tempResult := __assign_449;
      __assign_449
    ) else let __assign_450 = -1 in (
      tempResult := __assign_450;
      __assign_450
    ));
    !tempResult
  ) in let readHexDigits = fun count -> try let acc = ref 0 in let _g = ref 0 in let _g1 = count in (
    ignore (while !_g < _g1 do ignore ((
      ignore (let __old_451 = !_g in let __new_452 = HxInt.add __old_451 1 in (
        ignore (_g := __new_452);
        __old_451
      ));
      let tempNumber1 = ref 0 in (
        ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_453 = -1 in (
          tempNumber1 := __assign_453;
          __assign_453
        ) else let __assign_454 = let __nullable_int_455 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_455 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_455 in (
          tempNumber1 := __assign_454;
          __assign_454
        ));
        let c = !tempNumber1 in (
          ignore (if c = -1 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
          let v = hexVal c in (
            ignore (if v < 0 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
            ignore (let __assign_456 = HxInt.logor (HxInt.shl (!acc) 4) v in (
              acc := __assign_456;
              __assign_456
            ));
            let tempNumber2 = ref 0 in (
              ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_457 = -1 in (
                tempNumber2 := __assign_457;
                __assign_457
              ) else let __assign_458 = let __nullable_int_459 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_459 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_459 in (
                tempNumber2 := __assign_458;
                __assign_458
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_460 = _gthis in let __old_461 = __obj_460.index in let __new_462 = HxInt.add __old_461 1 in (
                  ignore (__obj_460.index <- __new_462);
                  __old_461
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_463 = _gthis in let __old_464 = __obj_463.line in let __new_465 = HxInt.add __old_464 1 in (
                    ignore (__obj_463.line <- __new_465);
                    __old_464
                  ));
                  let __assign_466 = 1 in (
                    _gthis.column <- __assign_466;
                    __assign_466
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_467 = _gthis in let __old_468 = __obj_467.column in let __new_469 = HxInt.add __old_468 1 in (
                  ignore (__obj_467.column <- __new_469);
                  __old_468
                )) else ()));
                c2
              )
            )
          )
        )
      )
    )) done);
    !acc
  ) with
    | HxRuntime.Hx_return __ret_470 -> Obj.obj __ret_470 in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
      ignore (let tempNumber4 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_471 = -1 in (
          tempNumber4 := __assign_471;
          __assign_471
        ) else let __assign_472 = let __nullable_int_473 = HxString.charCodeAt (self.src) i in if __nullable_int_473 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_473 in (
          tempNumber4 := __assign_472;
          __assign_472
        ));
        let c = !tempNumber4 in (
          ignore (let __obj_474 = self in let __old_475 = __obj_474.index in let __new_476 = HxInt.add __old_475 1 in (
            ignore (__obj_474.index <- __new_476);
            __old_475
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_477 = self in let __old_478 = __obj_477.line in let __new_479 = HxInt.add __old_478 1 in (
              ignore (__obj_477.line <- __new_479);
              __old_478
            ));
            let __assign_480 = 1 in (
              self.column <- __assign_480;
              __assign_480
            )
          )) else ignore (if c <> 13 then ignore (let __obj_481 = self in let __old_482 = __obj_481.column in let __new_483 = HxInt.add __old_482 1 in (
            ignore (__obj_481.column <- __new_483);
            __old_482
          )) else ()));
          let __assign_484 = c in (
            tempNumber3 := __assign_484;
            __assign_484
          )
        )
      ));
      let c = !tempNumber3 in (
        ignore (if c = 39 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_485 = -1 in (
                tempNumber6 := __assign_485;
                __assign_485
              ) else let __assign_486 = let __nullable_int_487 = HxString.charCodeAt (self.src) i in if __nullable_int_487 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_487 in (
                tempNumber6 := __assign_486;
                __assign_486
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_488 = self in let __old_489 = __obj_488.index in let __new_490 = HxInt.add __old_489 1 in (
                  ignore (__obj_488.index <- __new_490);
                  __old_489
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_491 = self in let __old_492 = __obj_491.line in let __new_493 = HxInt.add __old_492 1 in (
                    ignore (__obj_491.line <- __new_493);
                    __old_492
                  ));
                  let __assign_494 = 1 in (
                    self.column <- __assign_494;
                    __assign_494
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_495 = self in let __old_496 = __obj_495.column in let __new_497 = HxInt.add __old_496 1 in (
                  ignore (__obj_495.column <- __new_497);
                  __old_496
                )) else ()));
                let __assign_498 = c2 in (
                  tempNumber5 := __assign_498;
                  __assign_498
                )
              )
            ));
            let esc = !tempNumber5 in (
              ignore (match esc with
                | 39 -> ignore (StringBuf.addChar buf 39)
                | 92 -> ignore (StringBuf.addChar buf 92)
                | 110 -> ignore (StringBuf.addChar buf 10)
                | 114 -> ignore (StringBuf.addChar buf 13)
                | 116 -> ignore (StringBuf.addChar buf 9)
                | 117 -> ignore (let v = readHexDigits 4 in if v < 0 then ignore (StringBuf.addChar buf 117) else ignore (StringBuf.addChar buf v))
                | 120 -> ignore (let v = readHexDigits 2 in if v < 0 then ignore (StringBuf.addChar buf 120) else ignore (StringBuf.addChar buf v))
                | _ -> ignore (StringBuf.addChar buf esc));
              raise (HxRuntime.Hx_continue)
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_499 -> Obj.obj __ret_499

let next = fun self () -> try (
  ignore (skipWhitespaceAndComments self ());
  let p = HxPos.create (self.index) (self.line) (self.column) in (
    ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TEof) p))) else ());
    let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_500 = -1 in (
        tempNumber := __assign_500;
        __assign_500
      ) else let __assign_501 = let __nullable_int_502 = HxString.charCodeAt (self.src) i in if __nullable_int_502 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_502 in (
        tempNumber := __assign_501;
        __assign_501
      ));
      let c = !tempNumber in let tempResult = ref (Obj.magic ()) in (
        ignore (match c with
          | 34 -> let __assign_519 = readString self p in (
            tempResult := __assign_519;
            __assign_519
          )
          | 39 -> let __assign_520 = readSingleQuotedString self p in (
            tempResult := __assign_520;
            __assign_520
          )
          | 40 -> (
            ignore (let tempNumber1 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_521 = -1 in (
                tempNumber1 := __assign_521;
                __assign_521
              ) else let __assign_522 = let __nullable_int_523 = HxString.charCodeAt (self.src) i in if __nullable_int_523 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_523 in (
                tempNumber1 := __assign_522;
                __assign_522
              ));
              let c2 = !tempNumber1 in (
                ignore (let __obj_524 = self in let __old_525 = __obj_524.index in let __new_526 = HxInt.add __old_525 1 in (
                  ignore (__obj_524.index <- __new_526);
                  __old_525
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_527 = self in let __old_528 = __obj_527.line in let __new_529 = HxInt.add __old_528 1 in (
                    ignore (__obj_527.line <- __new_529);
                    __old_528
                  ));
                  let __assign_530 = 1 in (
                    self.column <- __assign_530;
                    __assign_530
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_531 = self in let __old_532 = __obj_531.column in let __new_533 = HxInt.add __old_532 1 in (
                  ignore (__obj_531.column <- __new_533);
                  __old_532
                )) else ()));
                c2
              )
            ));
            let __assign_534 = HxToken.create (HxTokenKind.TLParen) p in (
              tempResult := __assign_534;
              __assign_534
            )
          )
          | 41 -> (
            ignore (let tempNumber2 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_535 = -1 in (
                tempNumber2 := __assign_535;
                __assign_535
              ) else let __assign_536 = let __nullable_int_537 = HxString.charCodeAt (self.src) i in if __nullable_int_537 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_537 in (
                tempNumber2 := __assign_536;
                __assign_536
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_538 = self in let __old_539 = __obj_538.index in let __new_540 = HxInt.add __old_539 1 in (
                  ignore (__obj_538.index <- __new_540);
                  __old_539
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_541 = self in let __old_542 = __obj_541.line in let __new_543 = HxInt.add __old_542 1 in (
                    ignore (__obj_541.line <- __new_543);
                    __old_542
                  ));
                  let __assign_544 = 1 in (
                    self.column <- __assign_544;
                    __assign_544
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_545 = self in let __old_546 = __obj_545.column in let __new_547 = HxInt.add __old_546 1 in (
                  ignore (__obj_545.column <- __new_547);
                  __old_546
                )) else ()));
                c2
              )
            ));
            let __assign_548 = HxToken.create (HxTokenKind.TRParen) p in (
              tempResult := __assign_548;
              __assign_548
            )
          )
          | 44 -> (
            ignore (let tempNumber3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_549 = -1 in (
                tempNumber3 := __assign_549;
                __assign_549
              ) else let __assign_550 = let __nullable_int_551 = HxString.charCodeAt (self.src) i in if __nullable_int_551 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_551 in (
                tempNumber3 := __assign_550;
                __assign_550
              ));
              let c2 = !tempNumber3 in (
                ignore (let __obj_552 = self in let __old_553 = __obj_552.index in let __new_554 = HxInt.add __old_553 1 in (
                  ignore (__obj_552.index <- __new_554);
                  __old_553
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_555 = self in let __old_556 = __obj_555.line in let __new_557 = HxInt.add __old_556 1 in (
                    ignore (__obj_555.line <- __new_557);
                    __old_556
                  ));
                  let __assign_558 = 1 in (
                    self.column <- __assign_558;
                    __assign_558
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_559 = self in let __old_560 = __obj_559.column in let __new_561 = HxInt.add __old_560 1 in (
                  ignore (__obj_559.column <- __new_561);
                  __old_560
                )) else ()));
                c2
              )
            ));
            let __assign_562 = HxToken.create (HxTokenKind.TComma) p in (
              tempResult := __assign_562;
              __assign_562
            )
          )
          | 46 -> (
            ignore (let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_563 = -1 in (
                tempNumber4 := __assign_563;
                __assign_563
              ) else let __assign_564 = let __nullable_int_565 = HxString.charCodeAt (self.src) i in if __nullable_int_565 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_565 in (
                tempNumber4 := __assign_564;
                __assign_564
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_566 = self in let __old_567 = __obj_566.index in let __new_568 = HxInt.add __old_567 1 in (
                  ignore (__obj_566.index <- __new_568);
                  __old_567
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_569 = self in let __old_570 = __obj_569.line in let __new_571 = HxInt.add __old_570 1 in (
                    ignore (__obj_569.line <- __new_571);
                    __old_570
                  ));
                  let __assign_572 = 1 in (
                    self.column <- __assign_572;
                    __assign_572
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_573 = self in let __old_574 = __obj_573.column in let __new_575 = HxInt.add __old_574 1 in (
                  ignore (__obj_573.column <- __new_575);
                  __old_574
                )) else ()));
                c2
              )
            ));
            let __assign_576 = HxToken.create (HxTokenKind.TDot) p in (
              tempResult := __assign_576;
              __assign_576
            )
          )
          | 58 -> (
            ignore (let tempNumber5 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_577 = -1 in (
                tempNumber5 := __assign_577;
                __assign_577
              ) else let __assign_578 = let __nullable_int_579 = HxString.charCodeAt (self.src) i in if __nullable_int_579 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_579 in (
                tempNumber5 := __assign_578;
                __assign_578
              ));
              let c2 = !tempNumber5 in (
                ignore (let __obj_580 = self in let __old_581 = __obj_580.index in let __new_582 = HxInt.add __old_581 1 in (
                  ignore (__obj_580.index <- __new_582);
                  __old_581
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_583 = self in let __old_584 = __obj_583.line in let __new_585 = HxInt.add __old_584 1 in (
                    ignore (__obj_583.line <- __new_585);
                    __old_584
                  ));
                  let __assign_586 = 1 in (
                    self.column <- __assign_586;
                    __assign_586
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_587 = self in let __old_588 = __obj_587.column in let __new_589 = HxInt.add __old_588 1 in (
                  ignore (__obj_587.column <- __new_589);
                  __old_588
                )) else ()));
                c2
              )
            ));
            let __assign_590 = HxToken.create (HxTokenKind.TColon) p in (
              tempResult := __assign_590;
              __assign_590
            )
          )
          | 59 -> (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_591 = -1 in (
                tempNumber6 := __assign_591;
                __assign_591
              ) else let __assign_592 = let __nullable_int_593 = HxString.charCodeAt (self.src) i in if __nullable_int_593 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_593 in (
                tempNumber6 := __assign_592;
                __assign_592
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_594 = self in let __old_595 = __obj_594.index in let __new_596 = HxInt.add __old_595 1 in (
                  ignore (__obj_594.index <- __new_596);
                  __old_595
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_597 = self in let __old_598 = __obj_597.line in let __new_599 = HxInt.add __old_598 1 in (
                    ignore (__obj_597.line <- __new_599);
                    __old_598
                  ));
                  let __assign_600 = 1 in (
                    self.column <- __assign_600;
                    __assign_600
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_601 = self in let __old_602 = __obj_601.column in let __new_603 = HxInt.add __old_602 1 in (
                  ignore (__obj_601.column <- __new_603);
                  __old_602
                )) else ()));
                c2
              )
            ));
            let __assign_604 = HxToken.create (HxTokenKind.TSemicolon) p in (
              tempResult := __assign_604;
              __assign_604
            )
          )
          | 123 -> (
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_605 = -1 in (
                tempNumber7 := __assign_605;
                __assign_605
              ) else let __assign_606 = let __nullable_int_607 = HxString.charCodeAt (self.src) i in if __nullable_int_607 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_607 in (
                tempNumber7 := __assign_606;
                __assign_606
              ));
              let c2 = !tempNumber7 in (
                ignore (let __obj_608 = self in let __old_609 = __obj_608.index in let __new_610 = HxInt.add __old_609 1 in (
                  ignore (__obj_608.index <- __new_610);
                  __old_609
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_611 = self in let __old_612 = __obj_611.line in let __new_613 = HxInt.add __old_612 1 in (
                    ignore (__obj_611.line <- __new_613);
                    __old_612
                  ));
                  let __assign_614 = 1 in (
                    self.column <- __assign_614;
                    __assign_614
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_615 = self in let __old_616 = __obj_615.column in let __new_617 = HxInt.add __old_616 1 in (
                  ignore (__obj_615.column <- __new_617);
                  __old_616
                )) else ()));
                c2
              )
            ));
            let __assign_618 = HxToken.create (HxTokenKind.TLBrace) p in (
              tempResult := __assign_618;
              __assign_618
            )
          )
          | 125 -> (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_619 = -1 in (
                tempNumber8 := __assign_619;
                __assign_619
              ) else let __assign_620 = let __nullable_int_621 = HxString.charCodeAt (self.src) i in if __nullable_int_621 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_621 in (
                tempNumber8 := __assign_620;
                __assign_620
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_622 = self in let __old_623 = __obj_622.index in let __new_624 = HxInt.add __old_623 1 in (
                  ignore (__obj_622.index <- __new_624);
                  __old_623
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_625 = self in let __old_626 = __obj_625.line in let __new_627 = HxInt.add __old_626 1 in (
                    ignore (__obj_625.line <- __new_627);
                    __old_626
                  ));
                  let __assign_628 = 1 in (
                    self.column <- __assign_628;
                    __assign_628
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_629 = self in let __old_630 = __obj_629.column in let __new_631 = HxInt.add __old_630 1 in (
                  ignore (__obj_629.column <- __new_631);
                  __old_630
                )) else ()));
                c2
              )
            ));
            let __assign_632 = HxToken.create (HxTokenKind.TRBrace) p in (
              tempResult := __assign_632;
              __assign_632
            )
          )
          | _ -> if c >= 48 && c <= 57 then let __assign_503 = readNumber self p in (
            tempResult := __assign_503;
            __assign_503
          ) else if c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 then let __assign_504 = readIdent self p in (
            tempResult := __assign_504;
            __assign_504
          ) else let tempNumber9 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_505 = -1 in (
              tempNumber9 := __assign_505;
              __assign_505
            ) else let __assign_506 = let __nullable_int_507 = HxString.charCodeAt (self.src) i in if __nullable_int_507 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_507 in (
              tempNumber9 := __assign_506;
              __assign_506
            ));
            let c1 = !tempNumber9 in (
              ignore (let __obj_508 = self in let __old_509 = __obj_508.index in let __new_510 = HxInt.add __old_509 1 in (
                ignore (__obj_508.index <- __new_510);
                __old_509
              ));
              ignore (if c1 = 10 then ignore ((
                ignore (let __obj_511 = self in let __old_512 = __obj_511.line in let __new_513 = HxInt.add __old_512 1 in (
                  ignore (__obj_511.line <- __new_513);
                  __old_512
                ));
                let __assign_514 = 1 in (
                  self.column <- __assign_514;
                  __assign_514
                )
              )) else ignore (if c1 <> 13 then ignore (let __obj_515 = self in let __old_516 = __obj_515.column in let __new_517 = HxInt.add __old_516 1 in (
                ignore (__obj_515.column <- __new_517);
                __old_516
              )) else ()));
              ignore c1;
              let __assign_518 = HxToken.create (HxTokenKind.TOther c) p in (
                tempResult := __assign_518;
                __assign_518
              )
            )
          ));
        !tempResult
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_633 -> Obj.obj __ret_633

let isSpace = fun c -> c = 9 || c = 10 || c = 13 || c = 32

let isIdentStart = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95

let isIdentCont = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57

let isDigit = fun c -> c >= 48 && c <= 57