# 1 "HxLexer.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxLexer *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable src : string; mutable index : int; mutable line : int; mutable column : int }

let create = fun src2 -> let self = ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t) in (
  ignore ((
    ignore (let __assign_1 = 1 in (
      self.column <- __assign_1;
      __assign_1
    ));
    ignore (let __assign_2 = 1 in (
      self.line <- __assign_2;
      __assign_2
    ));
    ignore (let __assign_3 = 0 in (
      self.index <- __assign_3;
      __assign_3
    ));
    let __assign_4 = src2 in (
      self.src <- __assign_4;
      __assign_4
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t)

let eof = fun self () -> self.index >= HxString.length (self.src)

let peek = fun self (offset : int) -> let i = HxInt.add (self.index) offset in let tempResult = ref 0 in (
  ignore (if i >= HxString.length (self.src) then let __assign_5 = -1 in (
    tempResult := __assign_5;
    __assign_5
  ) else let __assign_6 = let __nullable_int_7 = HxString.charCodeAt (self.src) i in if __nullable_int_7 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_7 in (
    tempResult := __assign_6;
    __assign_6
  ));
  !tempResult
)

let bump = fun self () -> let tempNumber = ref 0 in let i = self.index in (
  ignore (if i >= HxString.length (self.src) then let __assign_8 = -1 in (
    tempNumber := __assign_8;
    __assign_8
  ) else let __assign_9 = let __nullable_int_10 = HxString.charCodeAt (self.src) i in if __nullable_int_10 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_10 in (
    tempNumber := __assign_9;
    __assign_9
  ));
  let c = !tempNumber in (
    ignore (let __obj_11 = self in let __old_12 = __obj_11.index in let __new_13 = HxInt.add __old_12 1 in (
      ignore (__obj_11.index <- __new_13);
      __old_12
    ));
    ignore (if c = 10 then ignore ((
      ignore (let __obj_14 = self in let __old_15 = __obj_14.line in let __new_16 = HxInt.add __old_15 1 in (
        ignore (__obj_14.line <- __new_16);
        __old_15
      ));
      let __assign_17 = 1 in (
        self.column <- __assign_17;
        __assign_17
      )
    )) else ignore (if c <> 13 then ignore (let __obj_18 = self in let __old_19 = __obj_18.column in let __new_20 = HxInt.add __old_19 1 in (
      ignore (__obj_18.column <- __new_20);
      __old_19
    )) else ()));
    c
  )
)

let pos = fun self () -> HxPos.create (self.index) (self.line) (self.column)

let skipWhitespaceAndComments = fun self () -> ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber = ref 0 in (
  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_21 = -1 in (
    tempNumber := __assign_21;
    __assign_21
  ) else let __assign_22 = let __nullable_int_23 = HxString.charCodeAt (self.src) i in if __nullable_int_23 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_23 in (
    tempNumber := __assign_22;
    __assign_22
  ));
  let c = !tempNumber in (
    ignore (if c = 9 || c = 10 || c = 13 || c = 32 then ignore ((
      ignore (let tempNumber1 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_24 = -1 in (
          tempNumber1 := __assign_24;
          __assign_24
        ) else let __assign_25 = let __nullable_int_26 = HxString.charCodeAt (self.src) i in if __nullable_int_26 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_26 in (
          tempNumber1 := __assign_25;
          __assign_25
        ));
        let c2 = !tempNumber1 in (
          ignore (let __obj_27 = self in let __old_28 = __obj_27.index in let __new_29 = HxInt.add __old_28 1 in (
            ignore (__obj_27.index <- __new_29);
            __old_28
          ));
          ignore (if c2 = 10 then ignore ((
            ignore (let __obj_30 = self in let __old_31 = __obj_30.line in let __new_32 = HxInt.add __old_31 1 in (
              ignore (__obj_30.line <- __new_32);
              __old_31
            ));
            let __assign_33 = 1 in (
              self.column <- __assign_33;
              __assign_33
            )
          )) else ignore (if c2 <> 13 then ignore (let __obj_34 = self in let __old_35 = __obj_34.column in let __new_36 = HxInt.add __old_35 1 in (
            ignore (__obj_34.column <- __new_36);
            __old_35
          )) else ()));
          c2
        )
      ));
      raise (HxRuntime.Hx_continue)
    )) else ());
    let tempLeft = ref 0 in (
      ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_37 = -1 in (
        tempLeft := __assign_37;
        __assign_37
      ) else let __assign_38 = let __nullable_int_39 = HxString.charCodeAt (self.src) i in if __nullable_int_39 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_39 in (
        tempLeft := __assign_38;
        __assign_38
      ));
      ignore (if c = 47 && !tempLeft = 47 then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_40 = -1 in (
            tempNumber2 := __assign_40;
            __assign_40
          ) else let __assign_41 = let __nullable_int_42 = HxString.charCodeAt (self.src) i in if __nullable_int_42 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_42 in (
            tempNumber2 := __assign_41;
            __assign_41
          ));
          let c2 = !tempNumber2 in (
            ignore (let __obj_43 = self in let __old_44 = __obj_43.index in let __new_45 = HxInt.add __old_44 1 in (
              ignore (__obj_43.index <- __new_45);
              __old_44
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_46 = self in let __old_47 = __obj_46.line in let __new_48 = HxInt.add __old_47 1 in (
                ignore (__obj_46.line <- __new_48);
                __old_47
              ));
              let __assign_49 = 1 in (
                self.column <- __assign_49;
                __assign_49
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_50 = self in let __old_51 = __obj_50.column in let __new_52 = HxInt.add __old_51 1 in (
              ignore (__obj_50.column <- __new_52);
              __old_51
            )) else ()));
            c2
          )
        ));
        ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_53 = -1 in (
            tempNumber3 := __assign_53;
            __assign_53
          ) else let __assign_54 = let __nullable_int_55 = HxString.charCodeAt (self.src) i in if __nullable_int_55 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_55 in (
            tempNumber3 := __assign_54;
            __assign_54
          ));
          let c2 = !tempNumber3 in (
            ignore (let __obj_56 = self in let __old_57 = __obj_56.index in let __new_58 = HxInt.add __old_57 1 in (
              ignore (__obj_56.index <- __new_58);
              __old_57
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_59 = self in let __old_60 = __obj_59.line in let __new_61 = HxInt.add __old_60 1 in (
                ignore (__obj_59.line <- __new_61);
                __old_60
              ));
              let __assign_62 = 1 in (
                self.column <- __assign_62;
                __assign_62
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_63 = self in let __old_64 = __obj_63.column in let __new_65 = HxInt.add __old_64 1 in (
              ignore (__obj_63.column <- __new_65);
              __old_64
            )) else ()));
            c2
          )
        ));
        ignore (try while true do try ignore (let tempLeft1 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_66 = -1 in (
            tempLeft1 := __assign_66;
            __assign_66
          ) else let __assign_67 = let __nullable_int_68 = HxString.charCodeAt (self.src) i in if __nullable_int_68 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_68 in (
            tempLeft1 := __assign_67;
            __assign_67
          ));
          ignore (if not (self.index < HxString.length (self.src) && !tempLeft1 <> 10) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_69 = -1 in (
              tempNumber4 := __assign_69;
              __assign_69
            ) else let __assign_70 = let __nullable_int_71 = HxString.charCodeAt (self.src) i in if __nullable_int_71 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_71 in (
              tempNumber4 := __assign_70;
              __assign_70
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_72 = self in let __old_73 = __obj_72.index in let __new_74 = HxInt.add __old_73 1 in (
                ignore (__obj_72.index <- __new_74);
                __old_73
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_75 = self in let __old_76 = __obj_75.line in let __new_77 = HxInt.add __old_76 1 in (
                  ignore (__obj_75.line <- __new_77);
                  __old_76
                ));
                let __assign_78 = 1 in (
                  self.column <- __assign_78;
                  __assign_78
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_79 = self in let __old_80 = __obj_79.column in let __new_81 = HxInt.add __old_80 1 in (
                ignore (__obj_79.column <- __new_81);
                __old_80
              )) else ()));
              c2
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        raise (HxRuntime.Hx_continue)
      )) else ());
      let tempLeft2 = ref 0 in (
        ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_82 = -1 in (
          tempLeft2 := __assign_82;
          __assign_82
        ) else let __assign_83 = let __nullable_int_84 = HxString.charCodeAt (self.src) i in if __nullable_int_84 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_84 in (
          tempLeft2 := __assign_83;
          __assign_83
        ));
        ignore (if c = 47 && !tempLeft2 = 42 then ignore ((
          ignore (let tempNumber5 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_85 = -1 in (
              tempNumber5 := __assign_85;
              __assign_85
            ) else let __assign_86 = let __nullable_int_87 = HxString.charCodeAt (self.src) i in if __nullable_int_87 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_87 in (
              tempNumber5 := __assign_86;
              __assign_86
            ));
            let c2 = !tempNumber5 in (
              ignore (let __obj_88 = self in let __old_89 = __obj_88.index in let __new_90 = HxInt.add __old_89 1 in (
                ignore (__obj_88.index <- __new_90);
                __old_89
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_91 = self in let __old_92 = __obj_91.line in let __new_93 = HxInt.add __old_92 1 in (
                  ignore (__obj_91.line <- __new_93);
                  __old_92
                ));
                let __assign_94 = 1 in (
                  self.column <- __assign_94;
                  __assign_94
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_95 = self in let __old_96 = __obj_95.column in let __new_97 = HxInt.add __old_96 1 in (
                ignore (__obj_95.column <- __new_97);
                __old_96
              )) else ()));
              c2
            )
          ));
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_98 = -1 in (
              tempNumber6 := __assign_98;
              __assign_98
            ) else let __assign_99 = let __nullable_int_100 = HxString.charCodeAt (self.src) i in if __nullable_int_100 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_100 in (
              tempNumber6 := __assign_99;
              __assign_99
            ));
            let c2 = !tempNumber6 in (
              ignore (let __obj_101 = self in let __old_102 = __obj_101.index in let __new_103 = HxInt.add __old_102 1 in (
                ignore (__obj_101.index <- __new_103);
                __old_102
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_104 = self in let __old_105 = __obj_104.line in let __new_106 = HxInt.add __old_105 1 in (
                  ignore (__obj_104.line <- __new_106);
                  __old_105
                ));
                let __assign_107 = 1 in (
                  self.column <- __assign_107;
                  __assign_107
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_108 = self in let __old_109 = __obj_108.column in let __new_110 = HxInt.add __old_109 1 in (
                ignore (__obj_108.column <- __new_110);
                __old_109
              )) else ()));
              c2
            )
          ));
          ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber7 = ref 0 in (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_111 = -1 in (
                tempNumber8 := __assign_111;
                __assign_111
              ) else let __assign_112 = let __nullable_int_113 = HxString.charCodeAt (self.src) i in if __nullable_int_113 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_113 in (
                tempNumber8 := __assign_112;
                __assign_112
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_114 = self in let __old_115 = __obj_114.index in let __new_116 = HxInt.add __old_115 1 in (
                  ignore (__obj_114.index <- __new_116);
                  __old_115
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_117 = self in let __old_118 = __obj_117.line in let __new_119 = HxInt.add __old_118 1 in (
                    ignore (__obj_117.line <- __new_119);
                    __old_118
                  ));
                  let __assign_120 = 1 in (
                    self.column <- __assign_120;
                    __assign_120
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_121 = self in let __old_122 = __obj_121.column in let __new_123 = HxInt.add __old_122 1 in (
                  ignore (__obj_121.column <- __new_123);
                  __old_122
                )) else ()));
                let __assign_124 = c2 in (
                  tempNumber7 := __assign_124;
                  __assign_124
                )
              )
            ));
            let d = !tempNumber7 in let tempLeft3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_125 = -1 in (
                tempLeft3 := __assign_125;
                __assign_125
              ) else let __assign_126 = let __nullable_int_127 = HxString.charCodeAt (self.src) i in if __nullable_int_127 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_127 in (
                tempLeft3 := __assign_126;
                __assign_126
              ));
              if d = 42 && !tempLeft3 = 47 then ignore ((
                ignore (let tempNumber9 = ref 0 in (
                  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_128 = -1 in (
                    tempNumber9 := __assign_128;
                    __assign_128
                  ) else let __assign_129 = let __nullable_int_130 = HxString.charCodeAt (self.src) i in if __nullable_int_130 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_130 in (
                    tempNumber9 := __assign_129;
                    __assign_129
                  ));
                  let c2 = !tempNumber9 in (
                    ignore (let __obj_131 = self in let __old_132 = __obj_131.index in let __new_133 = HxInt.add __old_132 1 in (
                      ignore (__obj_131.index <- __new_133);
                      __old_132
                    ));
                    ignore (if c2 = 10 then ignore ((
                      ignore (let __obj_134 = self in let __old_135 = __obj_134.line in let __new_136 = HxInt.add __old_135 1 in (
                        ignore (__obj_134.line <- __new_136);
                        __old_135
                      ));
                      let __assign_137 = 1 in (
                        self.column <- __assign_137;
                        __assign_137
                      )
                    )) else ignore (if c2 <> 13 then ignore (let __obj_138 = self in let __old_139 = __obj_138.column in let __new_140 = HxInt.add __old_139 1 in (
                      ignore (__obj_138.column <- __new_140);
                      __old_139
                    )) else ()));
                    c2
                  )
                ));
                raise (HxRuntime.Hx_break)
              )) else ()
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ());
          raise (HxRuntime.Hx_continue)
        )) else ());
        raise (HxRuntime.Hx_break)
      )
    )
  )
)) with
  | HxRuntime.Hx_continue -> () done with
  | HxRuntime.Hx_break -> ())

let readIdent = fun self (startPos : HxPos.t) -> let start = self.index in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_141 = -1 in (
      tempNumber := __assign_141;
      __assign_141
    ) else let __assign_142 = let __nullable_int_143 = HxString.charCodeAt (self.src) i in if __nullable_int_143 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_143 in (
      tempNumber := __assign_142;
      __assign_142
    ));
    let c = !tempNumber in (
      ignore (let __obj_144 = self in let __old_145 = __obj_144.index in let __new_146 = HxInt.add __old_145 1 in (
        ignore (__obj_144.index <- __new_146);
        __old_145
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_147 = self in let __old_148 = __obj_147.line in let __new_149 = HxInt.add __old_148 1 in (
          ignore (__obj_147.line <- __new_149);
          __old_148
        ));
        let __assign_150 = 1 in (
          self.column <- __assign_150;
          __assign_150
        )
      )) else ignore (if c <> 13 then ignore (let __obj_151 = self in let __old_152 = __obj_151.column in let __new_153 = HxInt.add __old_152 1 in (
        ignore (__obj_151.column <- __new_153);
        __old_152
      )) else ()));
      c
    )
  ));
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_154 = -1 in (
        tempNumber1 := __assign_154;
        __assign_154
      ) else let __assign_155 = let __nullable_int_156 = HxString.charCodeAt (self.src) i in if __nullable_int_156 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_156 in (
        tempNumber1 := __assign_155;
        __assign_155
      ));
      let c = !tempNumber1 in let __assign_157 = c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57 in (
        tempRight := __assign_157;
        __assign_157
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber2 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_158 = -1 in (
        tempNumber2 := __assign_158;
        __assign_158
      ) else let __assign_159 = let __nullable_int_160 = HxString.charCodeAt (self.src) i in if __nullable_int_160 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_160 in (
        tempNumber2 := __assign_159;
        __assign_159
      ));
      let c = !tempNumber2 in (
        ignore (let __obj_161 = self in let __old_162 = __obj_161.index in let __new_163 = HxInt.add __old_162 1 in (
          ignore (__obj_161.index <- __new_163);
          __old_162
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_164 = self in let __old_165 = __obj_164.line in let __new_166 = HxInt.add __old_165 1 in (
            ignore (__obj_164.line <- __new_166);
            __old_165
          ));
          let __assign_167 = 1 in (
            self.column <- __assign_167;
            __assign_167
          )
        )) else ignore (if c <> 13 then ignore (let __obj_168 = self in let __old_169 = __obj_168.column in let __new_170 = HxInt.add __old_169 1 in (
          ignore (__obj_168.column <- __new_170);
          __old_169
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let text = HxString.substring (self.src) start (self.index) in let tempResult = ref (Obj.magic ()) in (
    ignore (match text with
      | "as" -> let __assign_172 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KAs)) startPos in (
        tempResult := __assign_172;
        __assign_172
      )
      | "break" -> let __assign_173 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KBreak)) startPos in (
        tempResult := __assign_173;
        __assign_173
      )
      | "case" -> let __assign_174 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCase)) startPos in (
        tempResult := __assign_174;
        __assign_174
      )
      | "cast" -> let __assign_175 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCast)) startPos in (
        tempResult := __assign_175;
        __assign_175
      )
      | "catch" -> let __assign_176 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCatch)) startPos in (
        tempResult := __assign_176;
        __assign_176
      )
      | "class" -> let __assign_177 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KClass)) startPos in (
        tempResult := __assign_177;
        __assign_177
      )
      | "continue" -> let __assign_178 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KContinue)) startPos in (
        tempResult := __assign_178;
        __assign_178
      )
      | "default" -> let __assign_179 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDefault)) startPos in (
        tempResult := __assign_179;
        __assign_179
      )
      | "do" -> let __assign_180 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDo)) startPos in (
        tempResult := __assign_180;
        __assign_180
      )
      | "else" -> let __assign_181 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KElse)) startPos in (
        tempResult := __assign_181;
        __assign_181
      )
      | "false" -> let __assign_182 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFalse)) startPos in (
        tempResult := __assign_182;
        __assign_182
      )
      | "final" -> let __assign_183 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFinal)) startPos in (
        tempResult := __assign_183;
        __assign_183
      )
      | "for" -> let __assign_184 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFor)) startPos in (
        tempResult := __assign_184;
        __assign_184
      )
      | "function" -> let __assign_185 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFunction)) startPos in (
        tempResult := __assign_185;
        __assign_185
      )
      | "if" -> let __assign_186 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIf)) startPos in (
        tempResult := __assign_186;
        __assign_186
      )
      | "import" -> let __assign_187 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KImport)) startPos in (
        tempResult := __assign_187;
        __assign_187
      )
      | "new" -> let __assign_188 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNew)) startPos in (
        tempResult := __assign_188;
        __assign_188
      )
      | "null" -> let __assign_189 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNull)) startPos in (
        tempResult := __assign_189;
        __assign_189
      )
      | "package" -> let __assign_190 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPackage)) startPos in (
        tempResult := __assign_190;
        __assign_190
      )
      | "private" -> let __assign_191 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPrivate)) startPos in (
        tempResult := __assign_191;
        __assign_191
      )
      | "public" -> let __assign_192 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPublic)) startPos in (
        tempResult := __assign_192;
        __assign_192
      )
      | "return" -> let __assign_193 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KReturn)) startPos in (
        tempResult := __assign_193;
        __assign_193
      )
      | "static" -> let __assign_194 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KStatic)) startPos in (
        tempResult := __assign_194;
        __assign_194
      )
      | "super" -> let __assign_195 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSuper)) startPos in (
        tempResult := __assign_195;
        __assign_195
      )
      | "switch" -> let __assign_196 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSwitch)) startPos in (
        tempResult := __assign_196;
        __assign_196
      )
      | "this" -> let __assign_197 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThis)) startPos in (
        tempResult := __assign_197;
        __assign_197
      )
      | "throw" -> let __assign_198 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThrow)) startPos in (
        tempResult := __assign_198;
        __assign_198
      )
      | "true" -> let __assign_199 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTrue)) startPos in (
        tempResult := __assign_199;
        __assign_199
      )
      | "try" -> let __assign_200 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTry)) startPos in (
        tempResult := __assign_200;
        __assign_200
      )
      | "untyped" -> let __assign_201 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUntyped)) startPos in (
        tempResult := __assign_201;
        __assign_201
      )
      | "using" -> let __assign_202 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUsing)) startPos in (
        tempResult := __assign_202;
        __assign_202
      )
      | "var" -> let __assign_203 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KVar)) startPos in (
        tempResult := __assign_203;
        __assign_203
      )
      | "while" -> let __assign_204 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KWhile)) startPos in (
        tempResult := __assign_204;
        __assign_204
      )
      | _ -> let __assign_171 = HxToken.create (HxTokenKind.TIdent text) startPos in (
        tempResult := __assign_171;
        __assign_171
      ));
    !tempResult
  )
)

let readNumber = fun self (startPos : HxPos.t) -> try let start = self.index in (
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_205 = -1 in (
        tempNumber := __assign_205;
        __assign_205
      ) else let __assign_206 = let __nullable_int_207 = HxString.charCodeAt (self.src) i in if __nullable_int_207 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_207 in (
        tempNumber := __assign_206;
        __assign_206
      ));
      let c = !tempNumber in let __assign_208 = c >= 48 && c <= 57 in (
        tempRight := __assign_208;
        __assign_208
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_209 = -1 in (
        tempNumber1 := __assign_209;
        __assign_209
      ) else let __assign_210 = let __nullable_int_211 = HxString.charCodeAt (self.src) i in if __nullable_int_211 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_211 in (
        tempNumber1 := __assign_210;
        __assign_210
      ));
      let c = !tempNumber1 in (
        ignore (let __obj_212 = self in let __old_213 = __obj_212.index in let __new_214 = HxInt.add __old_213 1 in (
          ignore (__obj_212.index <- __new_214);
          __old_213
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_215 = self in let __old_216 = __obj_215.line in let __new_217 = HxInt.add __old_216 1 in (
            ignore (__obj_215.line <- __new_217);
            __old_216
          ));
          let __assign_218 = 1 in (
            self.column <- __assign_218;
            __assign_218
          )
        )) else ignore (if c <> 13 then ignore (let __obj_219 = self in let __old_220 = __obj_219.column in let __new_221 = HxInt.add __old_220 1 in (
          ignore (__obj_219.column <- __new_221);
          __old_220
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let isFloat = ref false in let tempLeft = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_222 = -1 in (
      tempLeft := __assign_222;
      __assign_222
    ) else let __assign_223 = let __nullable_int_224 = HxString.charCodeAt (self.src) i in if __nullable_int_224 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_224 in (
      tempLeft := __assign_223;
      __assign_223
    ));
    let tempRight1 = ref false in (
      ignore (let tempNumber2 = ref 0 in (
        ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_225 = -1 in (
          tempNumber2 := __assign_225;
          __assign_225
        ) else let __assign_226 = let __nullable_int_227 = HxString.charCodeAt (self.src) i in if __nullable_int_227 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_227 in (
          tempNumber2 := __assign_226;
          __assign_226
        ));
        let c = !tempNumber2 in let __assign_228 = c >= 48 && c <= 57 in (
          tempRight1 := __assign_228;
          __assign_228
        )
      ));
      ignore (if self.index < HxString.length (self.src) && !tempLeft = 46 && !tempRight1 then ignore ((
        ignore (let __assign_229 = true in (
          isFloat := __assign_229;
          __assign_229
        ));
        ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_230 = -1 in (
            tempNumber3 := __assign_230;
            __assign_230
          ) else let __assign_231 = let __nullable_int_232 = HxString.charCodeAt (self.src) i in if __nullable_int_232 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_232 in (
            tempNumber3 := __assign_231;
            __assign_231
          ));
          let c = !tempNumber3 in (
            ignore (let __obj_233 = self in let __old_234 = __obj_233.index in let __new_235 = HxInt.add __old_234 1 in (
              ignore (__obj_233.index <- __new_235);
              __old_234
            ));
            ignore (if c = 10 then ignore ((
              ignore (let __obj_236 = self in let __old_237 = __obj_236.line in let __new_238 = HxInt.add __old_237 1 in (
                ignore (__obj_236.line <- __new_238);
                __old_237
              ));
              let __assign_239 = 1 in (
                self.column <- __assign_239;
                __assign_239
              )
            )) else ignore (if c <> 13 then ignore (let __obj_240 = self in let __old_241 = __obj_240.column in let __new_242 = HxInt.add __old_241 1 in (
              ignore (__obj_240.column <- __new_242);
              __old_241
            )) else ()));
            c
          )
        ));
        try while true do try ignore (let tempRight2 = ref false in (
          ignore (let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_243 = -1 in (
              tempNumber4 := __assign_243;
              __assign_243
            ) else let __assign_244 = let __nullable_int_245 = HxString.charCodeAt (self.src) i in if __nullable_int_245 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_245 in (
              tempNumber4 := __assign_244;
              __assign_244
            ));
            let c = !tempNumber4 in let __assign_246 = c >= 48 && c <= 57 in (
              tempRight2 := __assign_246;
              __assign_246
            )
          ));
          ignore (if not (self.index < HxString.length (self.src) && !tempRight2) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_247 = -1 in (
              tempNumber5 := __assign_247;
              __assign_247
            ) else let __assign_248 = let __nullable_int_249 = HxString.charCodeAt (self.src) i in if __nullable_int_249 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_249 in (
              tempNumber5 := __assign_248;
              __assign_248
            ));
            let c = !tempNumber5 in (
              ignore (let __obj_250 = self in let __old_251 = __obj_250.index in let __new_252 = HxInt.add __old_251 1 in (
                ignore (__obj_250.index <- __new_252);
                __old_251
              ));
              ignore (if c = 10 then ignore ((
                ignore (let __obj_253 = self in let __old_254 = __obj_253.line in let __new_255 = HxInt.add __old_254 1 in (
                  ignore (__obj_253.line <- __new_255);
                  __old_254
                ));
                let __assign_256 = 1 in (
                  self.column <- __assign_256;
                  __assign_256
                )
              )) else ignore (if c <> 13 then ignore (let __obj_257 = self in let __old_258 = __obj_257.column in let __new_259 = HxInt.add __old_258 1 in (
                ignore (__obj_257.column <- __new_259);
                __old_258
              )) else ()));
              c
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ()
      )) else ());
      let tempLeft1 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_260 = -1 in (
          tempLeft1 := __assign_260;
          __assign_260
        ) else let __assign_261 = let __nullable_int_262 = HxString.charCodeAt (self.src) i in if __nullable_int_262 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_262 in (
          tempLeft1 := __assign_261;
          __assign_261
        ));
        let tempLeft2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_263 = -1 in (
            tempLeft2 := __assign_263;
            __assign_263
          ) else let __assign_264 = let __nullable_int_265 = HxString.charCodeAt (self.src) i in if __nullable_int_265 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_265 in (
            tempLeft2 := __assign_264;
            __assign_264
          ));
          ignore (if self.index < HxString.length (self.src) && (!tempLeft1 = 101 || !tempLeft2 = 69) then ignore (let off = ref 1 in let tempNumber6 = ref 0 in (
            ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_266 = -1 in (
              tempNumber6 := __assign_266;
              __assign_266
            ) else let __assign_267 = let __nullable_int_268 = HxString.charCodeAt (self.src) i in if __nullable_int_268 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_268 in (
              tempNumber6 := __assign_267;
              __assign_267
            ));
            let sign = !tempNumber6 in (
              ignore (if sign = 43 || sign = 45 then ignore (let __assign_269 = 2 in (
                off := __assign_269;
                __assign_269
              )) else ());
              let tempBool = ref false in (
                ignore (let tempNumber7 = ref 0 in (
                  ignore (let i = HxInt.add (self.index) (!off) in if i >= HxString.length (self.src) then let __assign_270 = -1 in (
                    tempNumber7 := __assign_270;
                    __assign_270
                  ) else let __assign_271 = let __nullable_int_272 = HxString.charCodeAt (self.src) i in if __nullable_int_272 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_272 in (
                    tempNumber7 := __assign_271;
                    __assign_271
                  ));
                  let c = !tempNumber7 in let __assign_273 = c >= 48 && c <= 57 in (
                    tempBool := __assign_273;
                    __assign_273
                  )
                ));
                if !tempBool then ignore ((
                  ignore (let __assign_274 = true in (
                    isFloat := __assign_274;
                    __assign_274
                  ));
                  ignore (let tempNumber8 = ref 0 in (
                    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_275 = -1 in (
                      tempNumber8 := __assign_275;
                      __assign_275
                    ) else let __assign_276 = let __nullable_int_277 = HxString.charCodeAt (self.src) i in if __nullable_int_277 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_277 in (
                      tempNumber8 := __assign_276;
                      __assign_276
                    ));
                    let c = !tempNumber8 in (
                      ignore (let __obj_278 = self in let __old_279 = __obj_278.index in let __new_280 = HxInt.add __old_279 1 in (
                        ignore (__obj_278.index <- __new_280);
                        __old_279
                      ));
                      ignore (if c = 10 then ignore ((
                        ignore (let __obj_281 = self in let __old_282 = __obj_281.line in let __new_283 = HxInt.add __old_282 1 in (
                          ignore (__obj_281.line <- __new_283);
                          __old_282
                        ));
                        let __assign_284 = 1 in (
                          self.column <- __assign_284;
                          __assign_284
                        )
                      )) else ignore (if c <> 13 then ignore (let __obj_285 = self in let __old_286 = __obj_285.column in let __new_287 = HxInt.add __old_286 1 in (
                        ignore (__obj_285.column <- __new_287);
                        __old_286
                      )) else ()));
                      c
                    )
                  ));
                  let tempLeft3 = ref 0 in (
                    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_288 = -1 in (
                      tempLeft3 := __assign_288;
                      __assign_288
                    ) else let __assign_289 = let __nullable_int_290 = HxString.charCodeAt (self.src) i in if __nullable_int_290 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_290 in (
                      tempLeft3 := __assign_289;
                      __assign_289
                    ));
                    let tempLeft4 = ref 0 in (
                      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_291 = -1 in (
                        tempLeft4 := __assign_291;
                        __assign_291
                      ) else let __assign_292 = let __nullable_int_293 = HxString.charCodeAt (self.src) i in if __nullable_int_293 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_293 in (
                        tempLeft4 := __assign_292;
                        __assign_292
                      ));
                      ignore (if !tempLeft3 = 43 || !tempLeft4 = 45 then ignore (let tempNumber9 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_294 = -1 in (
                          tempNumber9 := __assign_294;
                          __assign_294
                        ) else let __assign_295 = let __nullable_int_296 = HxString.charCodeAt (self.src) i in if __nullable_int_296 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_296 in (
                          tempNumber9 := __assign_295;
                          __assign_295
                        ));
                        let c = !tempNumber9 in (
                          ignore (let __obj_297 = self in let __old_298 = __obj_297.index in let __new_299 = HxInt.add __old_298 1 in (
                            ignore (__obj_297.index <- __new_299);
                            __old_298
                          ));
                          ignore (if c = 10 then ignore ((
                            ignore (let __obj_300 = self in let __old_301 = __obj_300.line in let __new_302 = HxInt.add __old_301 1 in (
                              ignore (__obj_300.line <- __new_302);
                              __old_301
                            ));
                            let __assign_303 = 1 in (
                              self.column <- __assign_303;
                              __assign_303
                            )
                          )) else ignore (if c <> 13 then ignore (let __obj_304 = self in let __old_305 = __obj_304.column in let __new_306 = HxInt.add __old_305 1 in (
                            ignore (__obj_304.column <- __new_306);
                            __old_305
                          )) else ()));
                          c
                        )
                      )) else ());
                      try while true do try ignore (let tempRight3 = ref false in (
                        ignore (let tempNumber10 = ref 0 in (
                          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_307 = -1 in (
                            tempNumber10 := __assign_307;
                            __assign_307
                          ) else let __assign_308 = let __nullable_int_309 = HxString.charCodeAt (self.src) i in if __nullable_int_309 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_309 in (
                            tempNumber10 := __assign_308;
                            __assign_308
                          ));
                          let c = !tempNumber10 in let __assign_310 = c >= 48 && c <= 57 in (
                            tempRight3 := __assign_310;
                            __assign_310
                          )
                        ));
                        ignore (if not (self.index < HxString.length (self.src) && !tempRight3) then raise (HxRuntime.Hx_break) else ());
                        let tempNumber11 = ref 0 in (
                          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_311 = -1 in (
                            tempNumber11 := __assign_311;
                            __assign_311
                          ) else let __assign_312 = let __nullable_int_313 = HxString.charCodeAt (self.src) i in if __nullable_int_313 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_313 in (
                            tempNumber11 := __assign_312;
                            __assign_312
                          ));
                          let c = !tempNumber11 in (
                            ignore (let __obj_314 = self in let __old_315 = __obj_314.index in let __new_316 = HxInt.add __old_315 1 in (
                              ignore (__obj_314.index <- __new_316);
                              __old_315
                            ));
                            ignore (if c = 10 then ignore ((
                              ignore (let __obj_317 = self in let __old_318 = __obj_317.line in let __new_319 = HxInt.add __old_318 1 in (
                                ignore (__obj_317.line <- __new_319);
                                __old_318
                              ));
                              let __assign_320 = 1 in (
                                self.column <- __assign_320;
                                __assign_320
                              )
                            )) else ignore (if c <> 13 then ignore (let __obj_321 = self in let __old_322 = __obj_321.column in let __new_323 = HxInt.add __old_322 1 in (
                              ignore (__obj_321.column <- __new_323);
                              __old_322
                            )) else ()));
                            c
                          )
                        )
                      )) with
                        | HxRuntime.Hx_continue -> () done with
                        | HxRuntime.Hx_break -> ()
                    )
                  )
                )) else ()
              )
            )
          )) else ());
          let text = HxString.substring (self.src) start (self.index) in (
            ignore (if !isFloat then ignore (let value = Std.parseFloat text in raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TFloat value) startPos)))) else ());
            let value = Std.parseInt text in let tempNumber12 = ref 0 in (
              ignore (if value == HxRuntime.hx_null then let __assign_324 = 0 in (
                tempNumber12 := __assign_324;
                __assign_324
              ) else let __assign_325 = let __nullable_int_326 = value in if __nullable_int_326 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_326 in (
                tempNumber12 := __assign_325;
                __assign_325
              ));
              HxToken.create (HxTokenKind.TInt (!tempNumber12)) startPos
            )
          )
        )
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_327 -> Obj.obj __ret_327

let readString = fun self (startPos : HxPos.t) -> try (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_328 = -1 in (
      tempNumber := __assign_328;
      __assign_328
    ) else let __assign_329 = let __nullable_int_330 = HxString.charCodeAt (self.src) i in if __nullable_int_330 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_330 in (
      tempNumber := __assign_329;
      __assign_329
    ));
    let c = !tempNumber in (
      ignore (let __obj_331 = self in let __old_332 = __obj_331.index in let __new_333 = HxInt.add __old_332 1 in (
        ignore (__obj_331.index <- __new_333);
        __old_332
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_334 = self in let __old_335 = __obj_334.line in let __new_336 = HxInt.add __old_335 1 in (
          ignore (__obj_334.line <- __new_336);
          __old_335
        ));
        let __assign_337 = 1 in (
          self.column <- __assign_337;
          __assign_337
        )
      )) else ignore (if c <> 13 then ignore (let __obj_338 = self in let __old_339 = __obj_338.column in let __new_340 = HxInt.add __old_339 1 in (
        ignore (__obj_338.column <- __new_340);
        __old_339
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber1 = ref 0 in (
      ignore (let tempNumber2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_341 = -1 in (
          tempNumber2 := __assign_341;
          __assign_341
        ) else let __assign_342 = let __nullable_int_343 = HxString.charCodeAt (self.src) i in if __nullable_int_343 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_343 in (
          tempNumber2 := __assign_342;
          __assign_342
        ));
        let c = !tempNumber2 in (
          ignore (let __obj_344 = self in let __old_345 = __obj_344.index in let __new_346 = HxInt.add __old_345 1 in (
            ignore (__obj_344.index <- __new_346);
            __old_345
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_347 = self in let __old_348 = __obj_347.line in let __new_349 = HxInt.add __old_348 1 in (
              ignore (__obj_347.line <- __new_349);
              __old_348
            ));
            let __assign_350 = 1 in (
              self.column <- __assign_350;
              __assign_350
            )
          )) else ignore (if c <> 13 then ignore (let __obj_351 = self in let __old_352 = __obj_351.column in let __new_353 = HxInt.add __old_352 1 in (
            ignore (__obj_351.column <- __new_353);
            __old_352
          )) else ()));
          let __assign_354 = c in (
            tempNumber1 := __assign_354;
            __assign_354
          )
        )
      ));
      let c = !tempNumber1 in (
        ignore (if c = 34 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_355 = -1 in (
              tempNumber4 := __assign_355;
              __assign_355
            ) else let __assign_356 = let __nullable_int_357 = HxString.charCodeAt (self.src) i in if __nullable_int_357 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_357 in (
              tempNumber4 := __assign_356;
              __assign_356
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_358 = self in let __old_359 = __obj_358.index in let __new_360 = HxInt.add __old_359 1 in (
                ignore (__obj_358.index <- __new_360);
                __old_359
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_361 = self in let __old_362 = __obj_361.line in let __new_363 = HxInt.add __old_362 1 in (
                  ignore (__obj_361.line <- __new_363);
                  __old_362
                ));
                let __assign_364 = 1 in (
                  self.column <- __assign_364;
                  __assign_364
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_365 = self in let __old_366 = __obj_365.column in let __new_367 = HxInt.add __old_366 1 in (
                ignore (__obj_365.column <- __new_367);
                __old_366
              )) else ()));
              let tempNumber3 = c2 in let esc = tempNumber3 in (
                ignore (match esc with
                  | 34 -> ignore (StringBuf.addChar buf 34)
                  | 92 -> ignore (StringBuf.addChar buf 92)
                  | 110 -> ignore (StringBuf.addChar buf 10)
                  | 114 -> ignore (StringBuf.addChar buf 13)
                  | 116 -> ignore (StringBuf.addChar buf 9)
                  | _ -> ignore (StringBuf.addChar buf esc));
                raise (HxRuntime.Hx_continue)
              )
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_368 -> Obj.obj __ret_368

let next = fun self () -> try (
  ignore (skipWhitespaceAndComments self ());
  let p = HxPos.create (self.index) (self.line) (self.column) in (
    ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TEof) p))) else ());
    let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_369 = -1 in (
        tempNumber := __assign_369;
        __assign_369
      ) else let __assign_370 = let __nullable_int_371 = HxString.charCodeAt (self.src) i in if __nullable_int_371 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_371 in (
        tempNumber := __assign_370;
        __assign_370
      ));
      let c = !tempNumber in let tempResult = ref (Obj.magic ()) in (
        ignore (match c with
          | 34 -> let __assign_388 = readString self p in (
            tempResult := __assign_388;
            __assign_388
          )
          | 40 -> (
            ignore (let tempNumber1 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_389 = -1 in (
                tempNumber1 := __assign_389;
                __assign_389
              ) else let __assign_390 = let __nullable_int_391 = HxString.charCodeAt (self.src) i in if __nullable_int_391 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_391 in (
                tempNumber1 := __assign_390;
                __assign_390
              ));
              let c2 = !tempNumber1 in (
                ignore (let __obj_392 = self in let __old_393 = __obj_392.index in let __new_394 = HxInt.add __old_393 1 in (
                  ignore (__obj_392.index <- __new_394);
                  __old_393
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_395 = self in let __old_396 = __obj_395.line in let __new_397 = HxInt.add __old_396 1 in (
                    ignore (__obj_395.line <- __new_397);
                    __old_396
                  ));
                  let __assign_398 = 1 in (
                    self.column <- __assign_398;
                    __assign_398
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_399 = self in let __old_400 = __obj_399.column in let __new_401 = HxInt.add __old_400 1 in (
                  ignore (__obj_399.column <- __new_401);
                  __old_400
                )) else ()));
                c2
              )
            ));
            let __assign_402 = HxToken.create (HxTokenKind.TLParen) p in (
              tempResult := __assign_402;
              __assign_402
            )
          )
          | 41 -> (
            ignore (let tempNumber2 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_403 = -1 in (
                tempNumber2 := __assign_403;
                __assign_403
              ) else let __assign_404 = let __nullable_int_405 = HxString.charCodeAt (self.src) i in if __nullable_int_405 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_405 in (
                tempNumber2 := __assign_404;
                __assign_404
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_406 = self in let __old_407 = __obj_406.index in let __new_408 = HxInt.add __old_407 1 in (
                  ignore (__obj_406.index <- __new_408);
                  __old_407
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_409 = self in let __old_410 = __obj_409.line in let __new_411 = HxInt.add __old_410 1 in (
                    ignore (__obj_409.line <- __new_411);
                    __old_410
                  ));
                  let __assign_412 = 1 in (
                    self.column <- __assign_412;
                    __assign_412
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_413 = self in let __old_414 = __obj_413.column in let __new_415 = HxInt.add __old_414 1 in (
                  ignore (__obj_413.column <- __new_415);
                  __old_414
                )) else ()));
                c2
              )
            ));
            let __assign_416 = HxToken.create (HxTokenKind.TRParen) p in (
              tempResult := __assign_416;
              __assign_416
            )
          )
          | 44 -> (
            ignore (let tempNumber3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_417 = -1 in (
                tempNumber3 := __assign_417;
                __assign_417
              ) else let __assign_418 = let __nullable_int_419 = HxString.charCodeAt (self.src) i in if __nullable_int_419 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_419 in (
                tempNumber3 := __assign_418;
                __assign_418
              ));
              let c2 = !tempNumber3 in (
                ignore (let __obj_420 = self in let __old_421 = __obj_420.index in let __new_422 = HxInt.add __old_421 1 in (
                  ignore (__obj_420.index <- __new_422);
                  __old_421
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_423 = self in let __old_424 = __obj_423.line in let __new_425 = HxInt.add __old_424 1 in (
                    ignore (__obj_423.line <- __new_425);
                    __old_424
                  ));
                  let __assign_426 = 1 in (
                    self.column <- __assign_426;
                    __assign_426
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_427 = self in let __old_428 = __obj_427.column in let __new_429 = HxInt.add __old_428 1 in (
                  ignore (__obj_427.column <- __new_429);
                  __old_428
                )) else ()));
                c2
              )
            ));
            let __assign_430 = HxToken.create (HxTokenKind.TComma) p in (
              tempResult := __assign_430;
              __assign_430
            )
          )
          | 46 -> (
            ignore (let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_431 = -1 in (
                tempNumber4 := __assign_431;
                __assign_431
              ) else let __assign_432 = let __nullable_int_433 = HxString.charCodeAt (self.src) i in if __nullable_int_433 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_433 in (
                tempNumber4 := __assign_432;
                __assign_432
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_434 = self in let __old_435 = __obj_434.index in let __new_436 = HxInt.add __old_435 1 in (
                  ignore (__obj_434.index <- __new_436);
                  __old_435
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_437 = self in let __old_438 = __obj_437.line in let __new_439 = HxInt.add __old_438 1 in (
                    ignore (__obj_437.line <- __new_439);
                    __old_438
                  ));
                  let __assign_440 = 1 in (
                    self.column <- __assign_440;
                    __assign_440
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_441 = self in let __old_442 = __obj_441.column in let __new_443 = HxInt.add __old_442 1 in (
                  ignore (__obj_441.column <- __new_443);
                  __old_442
                )) else ()));
                c2
              )
            ));
            let __assign_444 = HxToken.create (HxTokenKind.TDot) p in (
              tempResult := __assign_444;
              __assign_444
            )
          )
          | 58 -> (
            ignore (let tempNumber5 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_445 = -1 in (
                tempNumber5 := __assign_445;
                __assign_445
              ) else let __assign_446 = let __nullable_int_447 = HxString.charCodeAt (self.src) i in if __nullable_int_447 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_447 in (
                tempNumber5 := __assign_446;
                __assign_446
              ));
              let c2 = !tempNumber5 in (
                ignore (let __obj_448 = self in let __old_449 = __obj_448.index in let __new_450 = HxInt.add __old_449 1 in (
                  ignore (__obj_448.index <- __new_450);
                  __old_449
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_451 = self in let __old_452 = __obj_451.line in let __new_453 = HxInt.add __old_452 1 in (
                    ignore (__obj_451.line <- __new_453);
                    __old_452
                  ));
                  let __assign_454 = 1 in (
                    self.column <- __assign_454;
                    __assign_454
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_455 = self in let __old_456 = __obj_455.column in let __new_457 = HxInt.add __old_456 1 in (
                  ignore (__obj_455.column <- __new_457);
                  __old_456
                )) else ()));
                c2
              )
            ));
            let __assign_458 = HxToken.create (HxTokenKind.TColon) p in (
              tempResult := __assign_458;
              __assign_458
            )
          )
          | 59 -> (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_459 = -1 in (
                tempNumber6 := __assign_459;
                __assign_459
              ) else let __assign_460 = let __nullable_int_461 = HxString.charCodeAt (self.src) i in if __nullable_int_461 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_461 in (
                tempNumber6 := __assign_460;
                __assign_460
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_462 = self in let __old_463 = __obj_462.index in let __new_464 = HxInt.add __old_463 1 in (
                  ignore (__obj_462.index <- __new_464);
                  __old_463
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_465 = self in let __old_466 = __obj_465.line in let __new_467 = HxInt.add __old_466 1 in (
                    ignore (__obj_465.line <- __new_467);
                    __old_466
                  ));
                  let __assign_468 = 1 in (
                    self.column <- __assign_468;
                    __assign_468
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_469 = self in let __old_470 = __obj_469.column in let __new_471 = HxInt.add __old_470 1 in (
                  ignore (__obj_469.column <- __new_471);
                  __old_470
                )) else ()));
                c2
              )
            ));
            let __assign_472 = HxToken.create (HxTokenKind.TSemicolon) p in (
              tempResult := __assign_472;
              __assign_472
            )
          )
          | 123 -> (
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_473 = -1 in (
                tempNumber7 := __assign_473;
                __assign_473
              ) else let __assign_474 = let __nullable_int_475 = HxString.charCodeAt (self.src) i in if __nullable_int_475 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_475 in (
                tempNumber7 := __assign_474;
                __assign_474
              ));
              let c2 = !tempNumber7 in (
                ignore (let __obj_476 = self in let __old_477 = __obj_476.index in let __new_478 = HxInt.add __old_477 1 in (
                  ignore (__obj_476.index <- __new_478);
                  __old_477
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_479 = self in let __old_480 = __obj_479.line in let __new_481 = HxInt.add __old_480 1 in (
                    ignore (__obj_479.line <- __new_481);
                    __old_480
                  ));
                  let __assign_482 = 1 in (
                    self.column <- __assign_482;
                    __assign_482
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_483 = self in let __old_484 = __obj_483.column in let __new_485 = HxInt.add __old_484 1 in (
                  ignore (__obj_483.column <- __new_485);
                  __old_484
                )) else ()));
                c2
              )
            ));
            let __assign_486 = HxToken.create (HxTokenKind.TLBrace) p in (
              tempResult := __assign_486;
              __assign_486
            )
          )
          | 125 -> (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_487 = -1 in (
                tempNumber8 := __assign_487;
                __assign_487
              ) else let __assign_488 = let __nullable_int_489 = HxString.charCodeAt (self.src) i in if __nullable_int_489 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_489 in (
                tempNumber8 := __assign_488;
                __assign_488
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_490 = self in let __old_491 = __obj_490.index in let __new_492 = HxInt.add __old_491 1 in (
                  ignore (__obj_490.index <- __new_492);
                  __old_491
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_493 = self in let __old_494 = __obj_493.line in let __new_495 = HxInt.add __old_494 1 in (
                    ignore (__obj_493.line <- __new_495);
                    __old_494
                  ));
                  let __assign_496 = 1 in (
                    self.column <- __assign_496;
                    __assign_496
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_497 = self in let __old_498 = __obj_497.column in let __new_499 = HxInt.add __old_498 1 in (
                  ignore (__obj_497.column <- __new_499);
                  __old_498
                )) else ()));
                c2
              )
            ));
            let __assign_500 = HxToken.create (HxTokenKind.TRBrace) p in (
              tempResult := __assign_500;
              __assign_500
            )
          )
          | _ -> if c >= 48 && c <= 57 then let __assign_372 = readNumber self p in (
            tempResult := __assign_372;
            __assign_372
          ) else if c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 then let __assign_373 = readIdent self p in (
            tempResult := __assign_373;
            __assign_373
          ) else let tempNumber9 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_374 = -1 in (
              tempNumber9 := __assign_374;
              __assign_374
            ) else let __assign_375 = let __nullable_int_376 = HxString.charCodeAt (self.src) i in if __nullable_int_376 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_376 in (
              tempNumber9 := __assign_375;
              __assign_375
            ));
            let c1 = !tempNumber9 in (
              ignore (let __obj_377 = self in let __old_378 = __obj_377.index in let __new_379 = HxInt.add __old_378 1 in (
                ignore (__obj_377.index <- __new_379);
                __old_378
              ));
              ignore (if c1 = 10 then ignore ((
                ignore (let __obj_380 = self in let __old_381 = __obj_380.line in let __new_382 = HxInt.add __old_381 1 in (
                  ignore (__obj_380.line <- __new_382);
                  __old_381
                ));
                let __assign_383 = 1 in (
                  self.column <- __assign_383;
                  __assign_383
                )
              )) else ignore (if c1 <> 13 then ignore (let __obj_384 = self in let __old_385 = __obj_384.column in let __new_386 = HxInt.add __old_385 1 in (
                ignore (__obj_384.column <- __new_386);
                __old_385
              )) else ()));
              ignore c1;
              let __assign_387 = HxToken.create (HxTokenKind.TOther c) p in (
                tempResult := __assign_387;
                __assign_387
              )
            )
          ));
        !tempResult
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_501 -> Obj.obj __ret_501

let isSpace = fun c -> c = 9 || c = 10 || c = 13 || c = 32

let isIdentStart = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95

let isIdentCont = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57

let isDigit = fun c -> c >= 48 && c <= 57