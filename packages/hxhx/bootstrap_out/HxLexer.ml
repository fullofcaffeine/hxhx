# 1 "HxLexer.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: HxLexer *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable src : string; mutable index : int; mutable line : int; mutable column : int }

let create = fun src2 -> let self = ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t) in (
  ignore ((
    ignore (let __assign_1 = 1 in (
      self.column <- __assign_1;
      __assign_1
    ));
    ignore (let __assign_2 = 1 in (
      self.line <- __assign_2;
      __assign_2
    ));
    ignore (let __assign_3 = 0 in (
      self.index <- __assign_3;
      __assign_3
    ));
    let __assign_4 = src2 in (
      self.src <- __assign_4;
      __assign_4
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "HxLexer"; src = ""; index = 0; line = 1; column = 1 } : t)

let eof = fun self () -> self.index >= HxString.length (self.src)

let peek = fun self (offset : int) -> let i = HxInt.add (self.index) offset in let tempResult = ref 0 in (
  ignore (if i >= HxString.length (self.src) then let __assign_5 = -1 in (
    tempResult := __assign_5;
    __assign_5
  ) else let __assign_6 = let __nullable_int_7 = HxString.charCodeAt (self.src) i in if __nullable_int_7 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_7 in (
    tempResult := __assign_6;
    __assign_6
  ));
  !tempResult
)

let bump = fun self () -> let tempNumber = ref 0 in let i = self.index in (
  ignore (if i >= HxString.length (self.src) then let __assign_8 = -1 in (
    tempNumber := __assign_8;
    __assign_8
  ) else let __assign_9 = let __nullable_int_10 = HxString.charCodeAt (self.src) i in if __nullable_int_10 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_10 in (
    tempNumber := __assign_9;
    __assign_9
  ));
  let c = !tempNumber in (
    ignore (let __obj_11 = self in let __old_12 = __obj_11.index in let __new_13 = HxInt.add __old_12 1 in (
      ignore (__obj_11.index <- __new_13);
      __old_12
    ));
    ignore (if c = 10 then ignore ((
      ignore (let __obj_14 = self in let __old_15 = __obj_14.line in let __new_16 = HxInt.add __old_15 1 in (
        ignore (__obj_14.line <- __new_16);
        __old_15
      ));
      let __assign_17 = 1 in (
        self.column <- __assign_17;
        __assign_17
      )
    )) else ignore (if c <> 13 then ignore (let __obj_18 = self in let __old_19 = __obj_18.column in let __new_20 = HxInt.add __old_19 1 in (
      ignore (__obj_18.column <- __new_20);
      __old_19
    )) else ()));
    c
  )
)

let pos = fun self () -> HxPos.create (self.index) (self.line) (self.column)

let skipWhitespaceAndComments = fun self () -> ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber = ref 0 in (
  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_21 = -1 in (
    tempNumber := __assign_21;
    __assign_21
  ) else let __assign_22 = let __nullable_int_23 = HxString.charCodeAt (self.src) i in if __nullable_int_23 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_23 in (
    tempNumber := __assign_22;
    __assign_22
  ));
  let c = !tempNumber in (
    ignore (if c = 9 || c = 10 || c = 13 || c = 32 then ignore ((
      ignore (let tempNumber1 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_24 = -1 in (
          tempNumber1 := __assign_24;
          __assign_24
        ) else let __assign_25 = let __nullable_int_26 = HxString.charCodeAt (self.src) i in if __nullable_int_26 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_26 in (
          tempNumber1 := __assign_25;
          __assign_25
        ));
        let c2 = !tempNumber1 in (
          ignore (let __obj_27 = self in let __old_28 = __obj_27.index in let __new_29 = HxInt.add __old_28 1 in (
            ignore (__obj_27.index <- __new_29);
            __old_28
          ));
          ignore (if c2 = 10 then ignore ((
            ignore (let __obj_30 = self in let __old_31 = __obj_30.line in let __new_32 = HxInt.add __old_31 1 in (
              ignore (__obj_30.line <- __new_32);
              __old_31
            ));
            let __assign_33 = 1 in (
              self.column <- __assign_33;
              __assign_33
            )
          )) else ignore (if c2 <> 13 then ignore (let __obj_34 = self in let __old_35 = __obj_34.column in let __new_36 = HxInt.add __old_35 1 in (
            ignore (__obj_34.column <- __new_36);
            __old_35
          )) else ()));
          c2
        )
      ));
      raise (HxRuntime.Hx_continue)
    )) else ());
    let tempLeft = ref 0 in (
      ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_37 = -1 in (
        tempLeft := __assign_37;
        __assign_37
      ) else let __assign_38 = let __nullable_int_39 = HxString.charCodeAt (self.src) i in if __nullable_int_39 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_39 in (
        tempLeft := __assign_38;
        __assign_38
      ));
      ignore (if c = 47 && !tempLeft = 47 then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_40 = -1 in (
            tempNumber2 := __assign_40;
            __assign_40
          ) else let __assign_41 = let __nullable_int_42 = HxString.charCodeAt (self.src) i in if __nullable_int_42 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_42 in (
            tempNumber2 := __assign_41;
            __assign_41
          ));
          let c2 = !tempNumber2 in (
            ignore (let __obj_43 = self in let __old_44 = __obj_43.index in let __new_45 = HxInt.add __old_44 1 in (
              ignore (__obj_43.index <- __new_45);
              __old_44
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_46 = self in let __old_47 = __obj_46.line in let __new_48 = HxInt.add __old_47 1 in (
                ignore (__obj_46.line <- __new_48);
                __old_47
              ));
              let __assign_49 = 1 in (
                self.column <- __assign_49;
                __assign_49
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_50 = self in let __old_51 = __obj_50.column in let __new_52 = HxInt.add __old_51 1 in (
              ignore (__obj_50.column <- __new_52);
              __old_51
            )) else ()));
            c2
          )
        ));
        ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_53 = -1 in (
            tempNumber3 := __assign_53;
            __assign_53
          ) else let __assign_54 = let __nullable_int_55 = HxString.charCodeAt (self.src) i in if __nullable_int_55 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_55 in (
            tempNumber3 := __assign_54;
            __assign_54
          ));
          let c2 = !tempNumber3 in (
            ignore (let __obj_56 = self in let __old_57 = __obj_56.index in let __new_58 = HxInt.add __old_57 1 in (
              ignore (__obj_56.index <- __new_58);
              __old_57
            ));
            ignore (if c2 = 10 then ignore ((
              ignore (let __obj_59 = self in let __old_60 = __obj_59.line in let __new_61 = HxInt.add __old_60 1 in (
                ignore (__obj_59.line <- __new_61);
                __old_60
              ));
              let __assign_62 = 1 in (
                self.column <- __assign_62;
                __assign_62
              )
            )) else ignore (if c2 <> 13 then ignore (let __obj_63 = self in let __old_64 = __obj_63.column in let __new_65 = HxInt.add __old_64 1 in (
              ignore (__obj_63.column <- __new_65);
              __old_64
            )) else ()));
            c2
          )
        ));
        ignore (try while true do try ignore (let tempLeft1 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_66 = -1 in (
            tempLeft1 := __assign_66;
            __assign_66
          ) else let __assign_67 = let __nullable_int_68 = HxString.charCodeAt (self.src) i in if __nullable_int_68 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_68 in (
            tempLeft1 := __assign_67;
            __assign_67
          ));
          ignore (if not (self.index < HxString.length (self.src) && !tempLeft1 <> 10) then raise (HxRuntime.Hx_break) else ());
          let tempNumber4 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_69 = -1 in (
              tempNumber4 := __assign_69;
              __assign_69
            ) else let __assign_70 = let __nullable_int_71 = HxString.charCodeAt (self.src) i in if __nullable_int_71 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_71 in (
              tempNumber4 := __assign_70;
              __assign_70
            ));
            let c2 = !tempNumber4 in (
              ignore (let __obj_72 = self in let __old_73 = __obj_72.index in let __new_74 = HxInt.add __old_73 1 in (
                ignore (__obj_72.index <- __new_74);
                __old_73
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_75 = self in let __old_76 = __obj_75.line in let __new_77 = HxInt.add __old_76 1 in (
                  ignore (__obj_75.line <- __new_77);
                  __old_76
                ));
                let __assign_78 = 1 in (
                  self.column <- __assign_78;
                  __assign_78
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_79 = self in let __old_80 = __obj_79.column in let __new_81 = HxInt.add __old_80 1 in (
                ignore (__obj_79.column <- __new_81);
                __old_80
              )) else ()));
              c2
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        raise (HxRuntime.Hx_continue)
      )) else ());
      let tempLeft2 = ref 0 in (
        ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_82 = -1 in (
          tempLeft2 := __assign_82;
          __assign_82
        ) else let __assign_83 = let __nullable_int_84 = HxString.charCodeAt (self.src) i in if __nullable_int_84 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_84 in (
          tempLeft2 := __assign_83;
          __assign_83
        ));
        ignore (if c = 47 && !tempLeft2 = 42 then ignore ((
          ignore (let tempNumber5 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_85 = -1 in (
              tempNumber5 := __assign_85;
              __assign_85
            ) else let __assign_86 = let __nullable_int_87 = HxString.charCodeAt (self.src) i in if __nullable_int_87 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_87 in (
              tempNumber5 := __assign_86;
              __assign_86
            ));
            let c2 = !tempNumber5 in (
              ignore (let __obj_88 = self in let __old_89 = __obj_88.index in let __new_90 = HxInt.add __old_89 1 in (
                ignore (__obj_88.index <- __new_90);
                __old_89
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_91 = self in let __old_92 = __obj_91.line in let __new_93 = HxInt.add __old_92 1 in (
                  ignore (__obj_91.line <- __new_93);
                  __old_92
                ));
                let __assign_94 = 1 in (
                  self.column <- __assign_94;
                  __assign_94
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_95 = self in let __old_96 = __obj_95.column in let __new_97 = HxInt.add __old_96 1 in (
                ignore (__obj_95.column <- __new_97);
                __old_96
              )) else ()));
              c2
            )
          ));
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_98 = -1 in (
              tempNumber6 := __assign_98;
              __assign_98
            ) else let __assign_99 = let __nullable_int_100 = HxString.charCodeAt (self.src) i in if __nullable_int_100 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_100 in (
              tempNumber6 := __assign_99;
              __assign_99
            ));
            let c2 = !tempNumber6 in (
              ignore (let __obj_101 = self in let __old_102 = __obj_101.index in let __new_103 = HxInt.add __old_102 1 in (
                ignore (__obj_101.index <- __new_103);
                __old_102
              ));
              ignore (if c2 = 10 then ignore ((
                ignore (let __obj_104 = self in let __old_105 = __obj_104.line in let __new_106 = HxInt.add __old_105 1 in (
                  ignore (__obj_104.line <- __new_106);
                  __old_105
                ));
                let __assign_107 = 1 in (
                  self.column <- __assign_107;
                  __assign_107
                )
              )) else ignore (if c2 <> 13 then ignore (let __obj_108 = self in let __old_109 = __obj_108.column in let __new_110 = HxInt.add __old_109 1 in (
                ignore (__obj_108.column <- __new_110);
                __old_109
              )) else ()));
              c2
            )
          ));
          ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber7 = ref 0 in (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_111 = -1 in (
                tempNumber8 := __assign_111;
                __assign_111
              ) else let __assign_112 = let __nullable_int_113 = HxString.charCodeAt (self.src) i in if __nullable_int_113 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_113 in (
                tempNumber8 := __assign_112;
                __assign_112
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_114 = self in let __old_115 = __obj_114.index in let __new_116 = HxInt.add __old_115 1 in (
                  ignore (__obj_114.index <- __new_116);
                  __old_115
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_117 = self in let __old_118 = __obj_117.line in let __new_119 = HxInt.add __old_118 1 in (
                    ignore (__obj_117.line <- __new_119);
                    __old_118
                  ));
                  let __assign_120 = 1 in (
                    self.column <- __assign_120;
                    __assign_120
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_121 = self in let __old_122 = __obj_121.column in let __new_123 = HxInt.add __old_122 1 in (
                  ignore (__obj_121.column <- __new_123);
                  __old_122
                )) else ()));
                let __assign_124 = c2 in (
                  tempNumber7 := __assign_124;
                  __assign_124
                )
              )
            ));
            let d = !tempNumber7 in let tempLeft3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_125 = -1 in (
                tempLeft3 := __assign_125;
                __assign_125
              ) else let __assign_126 = let __nullable_int_127 = HxString.charCodeAt (self.src) i in if __nullable_int_127 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_127 in (
                tempLeft3 := __assign_126;
                __assign_126
              ));
              if d = 42 && !tempLeft3 = 47 then ignore ((
                ignore (let tempNumber9 = ref 0 in (
                  ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_128 = -1 in (
                    tempNumber9 := __assign_128;
                    __assign_128
                  ) else let __assign_129 = let __nullable_int_130 = HxString.charCodeAt (self.src) i in if __nullable_int_130 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_130 in (
                    tempNumber9 := __assign_129;
                    __assign_129
                  ));
                  let c2 = !tempNumber9 in (
                    ignore (let __obj_131 = self in let __old_132 = __obj_131.index in let __new_133 = HxInt.add __old_132 1 in (
                      ignore (__obj_131.index <- __new_133);
                      __old_132
                    ));
                    ignore (if c2 = 10 then ignore ((
                      ignore (let __obj_134 = self in let __old_135 = __obj_134.line in let __new_136 = HxInt.add __old_135 1 in (
                        ignore (__obj_134.line <- __new_136);
                        __old_135
                      ));
                      let __assign_137 = 1 in (
                        self.column <- __assign_137;
                        __assign_137
                      )
                    )) else ignore (if c2 <> 13 then ignore (let __obj_138 = self in let __old_139 = __obj_138.column in let __new_140 = HxInt.add __old_139 1 in (
                      ignore (__obj_138.column <- __new_140);
                      __old_139
                    )) else ()));
                    c2
                  )
                ));
                raise (HxRuntime.Hx_break)
              )) else ()
            )
          )) with
            | HxRuntime.Hx_continue -> () done with
            | HxRuntime.Hx_break -> ());
          raise (HxRuntime.Hx_continue)
        )) else ());
        raise (HxRuntime.Hx_break)
      )
    )
  )
)) with
  | HxRuntime.Hx_continue -> () done with
  | HxRuntime.Hx_break -> ())

let readIdent = fun self (startPos : HxPos.t) -> let start = self.index in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_141 = -1 in (
      tempNumber := __assign_141;
      __assign_141
    ) else let __assign_142 = let __nullable_int_143 = HxString.charCodeAt (self.src) i in if __nullable_int_143 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_143 in (
      tempNumber := __assign_142;
      __assign_142
    ));
    let c = !tempNumber in (
      ignore (let __obj_144 = self in let __old_145 = __obj_144.index in let __new_146 = HxInt.add __old_145 1 in (
        ignore (__obj_144.index <- __new_146);
        __old_145
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_147 = self in let __old_148 = __obj_147.line in let __new_149 = HxInt.add __old_148 1 in (
          ignore (__obj_147.line <- __new_149);
          __old_148
        ));
        let __assign_150 = 1 in (
          self.column <- __assign_150;
          __assign_150
        )
      )) else ignore (if c <> 13 then ignore (let __obj_151 = self in let __old_152 = __obj_151.column in let __new_153 = HxInt.add __old_152 1 in (
        ignore (__obj_151.column <- __new_153);
        __old_152
      )) else ()));
      c
    )
  ));
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_154 = -1 in (
        tempNumber1 := __assign_154;
        __assign_154
      ) else let __assign_155 = let __nullable_int_156 = HxString.charCodeAt (self.src) i in if __nullable_int_156 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_156 in (
        tempNumber1 := __assign_155;
        __assign_155
      ));
      let c = !tempNumber1 in let __assign_157 = c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57 in (
        tempRight := __assign_157;
        __assign_157
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber2 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_158 = -1 in (
        tempNumber2 := __assign_158;
        __assign_158
      ) else let __assign_159 = let __nullable_int_160 = HxString.charCodeAt (self.src) i in if __nullable_int_160 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_160 in (
        tempNumber2 := __assign_159;
        __assign_159
      ));
      let c = !tempNumber2 in (
        ignore (let __obj_161 = self in let __old_162 = __obj_161.index in let __new_163 = HxInt.add __old_162 1 in (
          ignore (__obj_161.index <- __new_163);
          __old_162
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_164 = self in let __old_165 = __obj_164.line in let __new_166 = HxInt.add __old_165 1 in (
            ignore (__obj_164.line <- __new_166);
            __old_165
          ));
          let __assign_167 = 1 in (
            self.column <- __assign_167;
            __assign_167
          )
        )) else ignore (if c <> 13 then ignore (let __obj_168 = self in let __old_169 = __obj_168.column in let __new_170 = HxInt.add __old_169 1 in (
          ignore (__obj_168.column <- __new_170);
          __old_169
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let text = HxString.substring (self.src) start (self.index) in let tempResult = ref (Obj.magic ()) in (
    ignore (match text with
      | "as" -> let __assign_172 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KAs)) startPos in (
        tempResult := __assign_172;
        __assign_172
      )
      | "break" -> let __assign_173 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KBreak)) startPos in (
        tempResult := __assign_173;
        __assign_173
      )
      | "case" -> let __assign_174 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCase)) startPos in (
        tempResult := __assign_174;
        __assign_174
      )
      | "cast" -> let __assign_175 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCast)) startPos in (
        tempResult := __assign_175;
        __assign_175
      )
      | "catch" -> let __assign_176 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KCatch)) startPos in (
        tempResult := __assign_176;
        __assign_176
      )
      | "class" -> let __assign_177 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KClass)) startPos in (
        tempResult := __assign_177;
        __assign_177
      )
      | "continue" -> let __assign_178 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KContinue)) startPos in (
        tempResult := __assign_178;
        __assign_178
      )
      | "default" -> let __assign_179 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDefault)) startPos in (
        tempResult := __assign_179;
        __assign_179
      )
      | "do" -> let __assign_180 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KDo)) startPos in (
        tempResult := __assign_180;
        __assign_180
      )
      | "else" -> let __assign_181 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KElse)) startPos in (
        tempResult := __assign_181;
        __assign_181
      )
      | "false" -> let __assign_182 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFalse)) startPos in (
        tempResult := __assign_182;
        __assign_182
      )
      | "final" -> let __assign_183 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFinal)) startPos in (
        tempResult := __assign_183;
        __assign_183
      )
      | "for" -> let __assign_184 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFor)) startPos in (
        tempResult := __assign_184;
        __assign_184
      )
      | "function" -> let __assign_185 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KFunction)) startPos in (
        tempResult := __assign_185;
        __assign_185
      )
      | "if" -> let __assign_186 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIf)) startPos in (
        tempResult := __assign_186;
        __assign_186
      )
      | "import" -> let __assign_187 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KImport)) startPos in (
        tempResult := __assign_187;
        __assign_187
      )
      | "in" -> let __assign_188 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KIn)) startPos in (
        tempResult := __assign_188;
        __assign_188
      )
      | "inline" -> let __assign_189 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KInline)) startPos in (
        tempResult := __assign_189;
        __assign_189
      )
      | "new" -> let __assign_190 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNew)) startPos in (
        tempResult := __assign_190;
        __assign_190
      )
      | "null" -> let __assign_191 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KNull)) startPos in (
        tempResult := __assign_191;
        __assign_191
      )
      | "package" -> let __assign_192 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPackage)) startPos in (
        tempResult := __assign_192;
        __assign_192
      )
      | "private" -> let __assign_193 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPrivate)) startPos in (
        tempResult := __assign_193;
        __assign_193
      )
      | "public" -> let __assign_194 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KPublic)) startPos in (
        tempResult := __assign_194;
        __assign_194
      )
      | "return" -> let __assign_195 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KReturn)) startPos in (
        tempResult := __assign_195;
        __assign_195
      )
      | "static" -> let __assign_196 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KStatic)) startPos in (
        tempResult := __assign_196;
        __assign_196
      )
      | "super" -> let __assign_197 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSuper)) startPos in (
        tempResult := __assign_197;
        __assign_197
      )
      | "switch" -> let __assign_198 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KSwitch)) startPos in (
        tempResult := __assign_198;
        __assign_198
      )
      | "this" -> let __assign_199 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThis)) startPos in (
        tempResult := __assign_199;
        __assign_199
      )
      | "throw" -> let __assign_200 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KThrow)) startPos in (
        tempResult := __assign_200;
        __assign_200
      )
      | "true" -> let __assign_201 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTrue)) startPos in (
        tempResult := __assign_201;
        __assign_201
      )
      | "try" -> let __assign_202 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KTry)) startPos in (
        tempResult := __assign_202;
        __assign_202
      )
      | "untyped" -> let __assign_203 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUntyped)) startPos in (
        tempResult := __assign_203;
        __assign_203
      )
      | "using" -> let __assign_204 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KUsing)) startPos in (
        tempResult := __assign_204;
        __assign_204
      )
      | "var" -> let __assign_205 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KVar)) startPos in (
        tempResult := __assign_205;
        __assign_205
      )
      | "while" -> let __assign_206 = HxToken.create (HxTokenKind.TKeyword (HxKeyword.KWhile)) startPos in (
        tempResult := __assign_206;
        __assign_206
      )
      | _ -> let __assign_171 = HxToken.create (HxTokenKind.TIdent text) startPos in (
        tempResult := __assign_171;
        __assign_171
      ));
    !tempResult
  )
)

let readNumber = fun self (startPos : HxPos.t) -> try let start = self.index in (
  ignore (try while true do try ignore (let tempRight = ref false in (
    ignore (let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_207 = -1 in (
        tempNumber := __assign_207;
        __assign_207
      ) else let __assign_208 = let __nullable_int_209 = HxString.charCodeAt (self.src) i in if __nullable_int_209 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_209 in (
        tempNumber := __assign_208;
        __assign_208
      ));
      let c = !tempNumber in let __assign_210 = c >= 48 && c <= 57 in (
        tempRight := __assign_210;
        __assign_210
      )
    ));
    ignore (if not (self.index < HxString.length (self.src) && !tempRight) then raise (HxRuntime.Hx_break) else ());
    let tempNumber1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_211 = -1 in (
        tempNumber1 := __assign_211;
        __assign_211
      ) else let __assign_212 = let __nullable_int_213 = HxString.charCodeAt (self.src) i in if __nullable_int_213 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_213 in (
        tempNumber1 := __assign_212;
        __assign_212
      ));
      let c = !tempNumber1 in (
        ignore (let __obj_214 = self in let __old_215 = __obj_214.index in let __new_216 = HxInt.add __old_215 1 in (
          ignore (__obj_214.index <- __new_216);
          __old_215
        ));
        ignore (if c = 10 then ignore ((
          ignore (let __obj_217 = self in let __old_218 = __obj_217.line in let __new_219 = HxInt.add __old_218 1 in (
            ignore (__obj_217.line <- __new_219);
            __old_218
          ));
          let __assign_220 = 1 in (
            self.column <- __assign_220;
            __assign_220
          )
        )) else ignore (if c <> 13 then ignore (let __obj_221 = self in let __old_222 = __obj_221.column in let __new_223 = HxInt.add __old_222 1 in (
          ignore (__obj_221.column <- __new_223);
          __old_222
        )) else ()));
        c
      )
    )
  )) with
    | HxRuntime.Hx_continue -> () done with
    | HxRuntime.Hx_break -> ());
  let tempLeft = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_224 = -1 in (
      tempLeft := __assign_224;
      __assign_224
    ) else let __assign_225 = let __nullable_int_226 = HxString.charCodeAt (self.src) i in if __nullable_int_226 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_226 in (
      tempLeft := __assign_225;
      __assign_225
    ));
    let tempLeft1 = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_227 = -1 in (
        tempLeft1 := __assign_227;
        __assign_227
      ) else let __assign_228 = let __nullable_int_229 = HxString.charCodeAt (self.src) i in if __nullable_int_229 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_229 in (
        tempLeft1 := __assign_228;
        __assign_228
      ));
      ignore (if self.index < HxString.length (self.src) && self.index = HxInt.add start 1 && (let __nullable_230 = HxString.charCodeAt (self.src) start in if __nullable_230 == HxRuntime.hx_null then false else Obj.obj __nullable_230 = 48) && (!tempLeft = 120 || !tempLeft1 = 88) then ignore ((
        ignore (let tempNumber2 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_231 = -1 in (
            tempNumber2 := __assign_231;
            __assign_231
          ) else let __assign_232 = let __nullable_int_233 = HxString.charCodeAt (self.src) i in if __nullable_int_233 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_233 in (
            tempNumber2 := __assign_232;
            __assign_232
          ));
          let c = !tempNumber2 in (
            ignore (let __obj_234 = self in let __old_235 = __obj_234.index in let __new_236 = HxInt.add __old_235 1 in (
              ignore (__obj_234.index <- __new_236);
              __old_235
            ));
            ignore (if c = 10 then ignore ((
              ignore (let __obj_237 = self in let __old_238 = __obj_237.line in let __new_239 = HxInt.add __old_238 1 in (
                ignore (__obj_237.line <- __new_239);
                __old_238
              ));
              let __assign_240 = 1 in (
                self.column <- __assign_240;
                __assign_240
              )
            )) else ignore (if c <> 13 then ignore (let __obj_241 = self in let __old_242 = __obj_241.column in let __new_243 = HxInt.add __old_242 1 in (
              ignore (__obj_241.column <- __new_243);
              __old_242
            )) else ()));
            c
          )
        ));
        ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_244 = -1 in (
            tempNumber3 := __assign_244;
            __assign_244
          ) else let __assign_245 = let __nullable_int_246 = HxString.charCodeAt (self.src) i in if __nullable_int_246 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_246 in (
            tempNumber3 := __assign_245;
            __assign_245
          ));
          let c = !tempNumber3 in let isHex = c >= 48 && c <= 57 || c >= 97 && c <= 102 || c >= 65 && c <= 70 in (
            ignore (if not (isHex) then raise (HxRuntime.Hx_break) else ());
            let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_247 = -1 in (
                tempNumber4 := __assign_247;
                __assign_247
              ) else let __assign_248 = let __nullable_int_249 = HxString.charCodeAt (self.src) i in if __nullable_int_249 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_249 in (
                tempNumber4 := __assign_248;
                __assign_248
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_250 = self in let __old_251 = __obj_250.index in let __new_252 = HxInt.add __old_251 1 in (
                  ignore (__obj_250.index <- __new_252);
                  __old_251
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_253 = self in let __old_254 = __obj_253.line in let __new_255 = HxInt.add __old_254 1 in (
                    ignore (__obj_253.line <- __new_255);
                    __old_254
                  ));
                  let __assign_256 = 1 in (
                    self.column <- __assign_256;
                    __assign_256
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_257 = self in let __old_258 = __obj_257.column in let __new_259 = HxInt.add __old_258 1 in (
                  ignore (__obj_257.column <- __new_259);
                  __old_258
                )) else ()));
                c2
              )
            )
          )
        )) with
          | HxRuntime.Hx_continue -> () done with
          | HxRuntime.Hx_break -> ());
        let text = HxString.substring (self.src) start (self.index) in let value = Std.parseInt text in let tempNumber5 = ref 0 in (
          ignore (if value == HxRuntime.hx_null then let __assign_260 = 0 in (
            tempNumber5 := __assign_260;
            __assign_260
          ) else let __assign_261 = let __nullable_int_262 = value in if __nullable_int_262 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_262 in (
            tempNumber5 := __assign_261;
            __assign_261
          ));
          raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TInt (!tempNumber5)) startPos)))
        )
      )) else ());
      let isFloat = ref false in let tempLeft2 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_263 = -1 in (
          tempLeft2 := __assign_263;
          __assign_263
        ) else let __assign_264 = let __nullable_int_265 = HxString.charCodeAt (self.src) i in if __nullable_int_265 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_265 in (
          tempLeft2 := __assign_264;
          __assign_264
        ));
        let tempRight1 = ref false in (
          ignore (let tempNumber6 = ref 0 in (
            ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_266 = -1 in (
              tempNumber6 := __assign_266;
              __assign_266
            ) else let __assign_267 = let __nullable_int_268 = HxString.charCodeAt (self.src) i in if __nullable_int_268 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_268 in (
              tempNumber6 := __assign_267;
              __assign_267
            ));
            let c = !tempNumber6 in let __assign_269 = c >= 48 && c <= 57 in (
              tempRight1 := __assign_269;
              __assign_269
            )
          ));
          ignore (if self.index < HxString.length (self.src) && !tempLeft2 = 46 && !tempRight1 then ignore ((
            ignore (let __assign_270 = true in (
              isFloat := __assign_270;
              __assign_270
            ));
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_271 = -1 in (
                tempNumber7 := __assign_271;
                __assign_271
              ) else let __assign_272 = let __nullable_int_273 = HxString.charCodeAt (self.src) i in if __nullable_int_273 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_273 in (
                tempNumber7 := __assign_272;
                __assign_272
              ));
              let c = !tempNumber7 in (
                ignore (let __obj_274 = self in let __old_275 = __obj_274.index in let __new_276 = HxInt.add __old_275 1 in (
                  ignore (__obj_274.index <- __new_276);
                  __old_275
                ));
                ignore (if c = 10 then ignore ((
                  ignore (let __obj_277 = self in let __old_278 = __obj_277.line in let __new_279 = HxInt.add __old_278 1 in (
                    ignore (__obj_277.line <- __new_279);
                    __old_278
                  ));
                  let __assign_280 = 1 in (
                    self.column <- __assign_280;
                    __assign_280
                  )
                )) else ignore (if c <> 13 then ignore (let __obj_281 = self in let __old_282 = __obj_281.column in let __new_283 = HxInt.add __old_282 1 in (
                  ignore (__obj_281.column <- __new_283);
                  __old_282
                )) else ()));
                c
              )
            ));
            try while true do try ignore (let tempRight2 = ref false in (
              ignore (let tempNumber8 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_284 = -1 in (
                  tempNumber8 := __assign_284;
                  __assign_284
                ) else let __assign_285 = let __nullable_int_286 = HxString.charCodeAt (self.src) i in if __nullable_int_286 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_286 in (
                  tempNumber8 := __assign_285;
                  __assign_285
                ));
                let c = !tempNumber8 in let __assign_287 = c >= 48 && c <= 57 in (
                  tempRight2 := __assign_287;
                  __assign_287
                )
              ));
              ignore (if not (self.index < HxString.length (self.src) && !tempRight2) then raise (HxRuntime.Hx_break) else ());
              let tempNumber9 = ref 0 in (
                ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_288 = -1 in (
                  tempNumber9 := __assign_288;
                  __assign_288
                ) else let __assign_289 = let __nullable_int_290 = HxString.charCodeAt (self.src) i in if __nullable_int_290 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_290 in (
                  tempNumber9 := __assign_289;
                  __assign_289
                ));
                let c = !tempNumber9 in (
                  ignore (let __obj_291 = self in let __old_292 = __obj_291.index in let __new_293 = HxInt.add __old_292 1 in (
                    ignore (__obj_291.index <- __new_293);
                    __old_292
                  ));
                  ignore (if c = 10 then ignore ((
                    ignore (let __obj_294 = self in let __old_295 = __obj_294.line in let __new_296 = HxInt.add __old_295 1 in (
                      ignore (__obj_294.line <- __new_296);
                      __old_295
                    ));
                    let __assign_297 = 1 in (
                      self.column <- __assign_297;
                      __assign_297
                    )
                  )) else ignore (if c <> 13 then ignore (let __obj_298 = self in let __old_299 = __obj_298.column in let __new_300 = HxInt.add __old_299 1 in (
                    ignore (__obj_298.column <- __new_300);
                    __old_299
                  )) else ()));
                  c
                )
              )
            )) with
              | HxRuntime.Hx_continue -> () done with
              | HxRuntime.Hx_break -> ()
          )) else ());
          let tempLeft3 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_301 = -1 in (
              tempLeft3 := __assign_301;
              __assign_301
            ) else let __assign_302 = let __nullable_int_303 = HxString.charCodeAt (self.src) i in if __nullable_int_303 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_303 in (
              tempLeft3 := __assign_302;
              __assign_302
            ));
            let tempLeft4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_304 = -1 in (
                tempLeft4 := __assign_304;
                __assign_304
              ) else let __assign_305 = let __nullable_int_306 = HxString.charCodeAt (self.src) i in if __nullable_int_306 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_306 in (
                tempLeft4 := __assign_305;
                __assign_305
              ));
              ignore (if self.index < HxString.length (self.src) && (!tempLeft3 = 101 || !tempLeft4 = 69) then ignore (let off = ref 1 in let tempNumber10 = ref 0 in (
                ignore (let i = HxInt.add (self.index) 1 in if i >= HxString.length (self.src) then let __assign_307 = -1 in (
                  tempNumber10 := __assign_307;
                  __assign_307
                ) else let __assign_308 = let __nullable_int_309 = HxString.charCodeAt (self.src) i in if __nullable_int_309 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_309 in (
                  tempNumber10 := __assign_308;
                  __assign_308
                ));
                let sign = !tempNumber10 in (
                  ignore (if sign = 43 || sign = 45 then ignore (let __assign_310 = 2 in (
                    off := __assign_310;
                    __assign_310
                  )) else ());
                  let tempBool = ref false in (
                    ignore (let tempNumber11 = ref 0 in (
                      ignore (let i = HxInt.add (self.index) (!off) in if i >= HxString.length (self.src) then let __assign_311 = -1 in (
                        tempNumber11 := __assign_311;
                        __assign_311
                      ) else let __assign_312 = let __nullable_int_313 = HxString.charCodeAt (self.src) i in if __nullable_int_313 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_313 in (
                        tempNumber11 := __assign_312;
                        __assign_312
                      ));
                      let c = !tempNumber11 in let __assign_314 = c >= 48 && c <= 57 in (
                        tempBool := __assign_314;
                        __assign_314
                      )
                    ));
                    if !tempBool then ignore ((
                      ignore (let __assign_315 = true in (
                        isFloat := __assign_315;
                        __assign_315
                      ));
                      ignore (let tempNumber12 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_316 = -1 in (
                          tempNumber12 := __assign_316;
                          __assign_316
                        ) else let __assign_317 = let __nullable_int_318 = HxString.charCodeAt (self.src) i in if __nullable_int_318 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_318 in (
                          tempNumber12 := __assign_317;
                          __assign_317
                        ));
                        let c = !tempNumber12 in (
                          ignore (let __obj_319 = self in let __old_320 = __obj_319.index in let __new_321 = HxInt.add __old_320 1 in (
                            ignore (__obj_319.index <- __new_321);
                            __old_320
                          ));
                          ignore (if c = 10 then ignore ((
                            ignore (let __obj_322 = self in let __old_323 = __obj_322.line in let __new_324 = HxInt.add __old_323 1 in (
                              ignore (__obj_322.line <- __new_324);
                              __old_323
                            ));
                            let __assign_325 = 1 in (
                              self.column <- __assign_325;
                              __assign_325
                            )
                          )) else ignore (if c <> 13 then ignore (let __obj_326 = self in let __old_327 = __obj_326.column in let __new_328 = HxInt.add __old_327 1 in (
                            ignore (__obj_326.column <- __new_328);
                            __old_327
                          )) else ()));
                          c
                        )
                      ));
                      let tempLeft5 = ref 0 in (
                        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_329 = -1 in (
                          tempLeft5 := __assign_329;
                          __assign_329
                        ) else let __assign_330 = let __nullable_int_331 = HxString.charCodeAt (self.src) i in if __nullable_int_331 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_331 in (
                          tempLeft5 := __assign_330;
                          __assign_330
                        ));
                        let tempLeft6 = ref 0 in (
                          ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_332 = -1 in (
                            tempLeft6 := __assign_332;
                            __assign_332
                          ) else let __assign_333 = let __nullable_int_334 = HxString.charCodeAt (self.src) i in if __nullable_int_334 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_334 in (
                            tempLeft6 := __assign_333;
                            __assign_333
                          ));
                          ignore (if !tempLeft5 = 43 || !tempLeft6 = 45 then ignore (let tempNumber13 = ref 0 in (
                            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_335 = -1 in (
                              tempNumber13 := __assign_335;
                              __assign_335
                            ) else let __assign_336 = let __nullable_int_337 = HxString.charCodeAt (self.src) i in if __nullable_int_337 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_337 in (
                              tempNumber13 := __assign_336;
                              __assign_336
                            ));
                            let c = !tempNumber13 in (
                              ignore (let __obj_338 = self in let __old_339 = __obj_338.index in let __new_340 = HxInt.add __old_339 1 in (
                                ignore (__obj_338.index <- __new_340);
                                __old_339
                              ));
                              ignore (if c = 10 then ignore ((
                                ignore (let __obj_341 = self in let __old_342 = __obj_341.line in let __new_343 = HxInt.add __old_342 1 in (
                                  ignore (__obj_341.line <- __new_343);
                                  __old_342
                                ));
                                let __assign_344 = 1 in (
                                  self.column <- __assign_344;
                                  __assign_344
                                )
                              )) else ignore (if c <> 13 then ignore (let __obj_345 = self in let __old_346 = __obj_345.column in let __new_347 = HxInt.add __old_346 1 in (
                                ignore (__obj_345.column <- __new_347);
                                __old_346
                              )) else ()));
                              c
                            )
                          )) else ());
                          try while true do try ignore (let tempRight3 = ref false in (
                            ignore (let tempNumber14 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_348 = -1 in (
                                tempNumber14 := __assign_348;
                                __assign_348
                              ) else let __assign_349 = let __nullable_int_350 = HxString.charCodeAt (self.src) i in if __nullable_int_350 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_350 in (
                                tempNumber14 := __assign_349;
                                __assign_349
                              ));
                              let c = !tempNumber14 in let __assign_351 = c >= 48 && c <= 57 in (
                                tempRight3 := __assign_351;
                                __assign_351
                              )
                            ));
                            ignore (if not (self.index < HxString.length (self.src) && !tempRight3) then raise (HxRuntime.Hx_break) else ());
                            let tempNumber15 = ref 0 in (
                              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_352 = -1 in (
                                tempNumber15 := __assign_352;
                                __assign_352
                              ) else let __assign_353 = let __nullable_int_354 = HxString.charCodeAt (self.src) i in if __nullable_int_354 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_354 in (
                                tempNumber15 := __assign_353;
                                __assign_353
                              ));
                              let c = !tempNumber15 in (
                                ignore (let __obj_355 = self in let __old_356 = __obj_355.index in let __new_357 = HxInt.add __old_356 1 in (
                                  ignore (__obj_355.index <- __new_357);
                                  __old_356
                                ));
                                ignore (if c = 10 then ignore ((
                                  ignore (let __obj_358 = self in let __old_359 = __obj_358.line in let __new_360 = HxInt.add __old_359 1 in (
                                    ignore (__obj_358.line <- __new_360);
                                    __old_359
                                  ));
                                  let __assign_361 = 1 in (
                                    self.column <- __assign_361;
                                    __assign_361
                                  )
                                )) else ignore (if c <> 13 then ignore (let __obj_362 = self in let __old_363 = __obj_362.column in let __new_364 = HxInt.add __old_363 1 in (
                                  ignore (__obj_362.column <- __new_364);
                                  __old_363
                                )) else ()));
                                c
                              )
                            )
                          )) with
                            | HxRuntime.Hx_continue -> () done with
                            | HxRuntime.Hx_break -> ()
                        )
                      )
                    )) else ()
                  )
                )
              )) else ());
              let text = HxString.substring (self.src) start (self.index) in (
                ignore (if !isFloat then ignore (let value = Std.parseFloat text in raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TFloat value) startPos)))) else ());
                let value = Std.parseInt text in let tempNumber16 = ref 0 in (
                  ignore (if value == HxRuntime.hx_null then let __assign_365 = 0 in (
                    tempNumber16 := __assign_365;
                    __assign_365
                  ) else let __assign_366 = let __nullable_int_367 = value in if __nullable_int_367 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_367 in (
                    tempNumber16 := __assign_366;
                    __assign_366
                  ));
                  HxToken.create (HxTokenKind.TInt (!tempNumber16)) startPos
                )
              )
            )
          )
        )
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_368 -> Obj.obj __ret_368

let readString = fun self (startPos : HxPos.t) -> try let _gthis = self in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_369 = -1 in (
      tempNumber := __assign_369;
      __assign_369
    ) else let __assign_370 = let __nullable_int_371 = HxString.charCodeAt (self.src) i in if __nullable_int_371 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_371 in (
      tempNumber := __assign_370;
      __assign_370
    ));
    let c = !tempNumber in (
      ignore (let __obj_372 = self in let __old_373 = __obj_372.index in let __new_374 = HxInt.add __old_373 1 in (
        ignore (__obj_372.index <- __new_374);
        __old_373
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_375 = self in let __old_376 = __obj_375.line in let __new_377 = HxInt.add __old_376 1 in (
          ignore (__obj_375.line <- __new_377);
          __old_376
        ));
        let __assign_378 = 1 in (
          self.column <- __assign_378;
          __assign_378
        )
      )) else ignore (if c <> 13 then ignore (let __obj_379 = self in let __old_380 = __obj_379.column in let __new_381 = HxInt.add __old_380 1 in (
        ignore (__obj_379.column <- __new_381);
        __old_380
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in let hexVal = fun c -> let tempResult = ref 0 in (
    ignore (if c >= 48 && c <= 57 then let __assign_382 = HxInt.sub c 48 in (
      tempResult := __assign_382;
      __assign_382
    ) else if c >= 97 && c <= 102 then let __assign_383 = HxInt.add 10 (HxInt.sub c 97) in (
      tempResult := __assign_383;
      __assign_383
    ) else if c >= 65 && c <= 70 then let __assign_384 = HxInt.add 10 (HxInt.sub c 65) in (
      tempResult := __assign_384;
      __assign_384
    ) else let __assign_385 = -1 in (
      tempResult := __assign_385;
      __assign_385
    ));
    !tempResult
  ) in let readHexDigits = fun count -> try let acc = ref 0 in let _g = ref 0 in let _g1 = count in (
    ignore (while !_g < _g1 do ignore ((
      ignore (let __old_386 = !_g in let __new_387 = HxInt.add __old_386 1 in (
        ignore (_g := __new_387);
        __old_386
      ));
      let tempNumber1 = ref 0 in (
        ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_388 = -1 in (
          tempNumber1 := __assign_388;
          __assign_388
        ) else let __assign_389 = let __nullable_int_390 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_390 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_390 in (
          tempNumber1 := __assign_389;
          __assign_389
        ));
        let c = !tempNumber1 in (
          ignore (if c = -1 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
          let v = hexVal c in (
            ignore (if v < 0 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
            ignore (let __assign_391 = HxInt.logor (HxInt.shl (!acc) 4) v in (
              acc := __assign_391;
              __assign_391
            ));
            let tempNumber2 = ref 0 in (
              ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_392 = -1 in (
                tempNumber2 := __assign_392;
                __assign_392
              ) else let __assign_393 = let __nullable_int_394 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_394 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_394 in (
                tempNumber2 := __assign_393;
                __assign_393
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_395 = _gthis in let __old_396 = __obj_395.index in let __new_397 = HxInt.add __old_396 1 in (
                  ignore (__obj_395.index <- __new_397);
                  __old_396
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_398 = _gthis in let __old_399 = __obj_398.line in let __new_400 = HxInt.add __old_399 1 in (
                    ignore (__obj_398.line <- __new_400);
                    __old_399
                  ));
                  let __assign_401 = 1 in (
                    _gthis.column <- __assign_401;
                    __assign_401
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_402 = _gthis in let __old_403 = __obj_402.column in let __new_404 = HxInt.add __old_403 1 in (
                  ignore (__obj_402.column <- __new_404);
                  __old_403
                )) else ()));
                c2
              )
            )
          )
        )
      )
    )) done);
    !acc
  ) with
    | HxRuntime.Hx_return __ret_405 -> Obj.obj __ret_405 in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
      ignore (let tempNumber4 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_406 = -1 in (
          tempNumber4 := __assign_406;
          __assign_406
        ) else let __assign_407 = let __nullable_int_408 = HxString.charCodeAt (self.src) i in if __nullable_int_408 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_408 in (
          tempNumber4 := __assign_407;
          __assign_407
        ));
        let c = !tempNumber4 in (
          ignore (let __obj_409 = self in let __old_410 = __obj_409.index in let __new_411 = HxInt.add __old_410 1 in (
            ignore (__obj_409.index <- __new_411);
            __old_410
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_412 = self in let __old_413 = __obj_412.line in let __new_414 = HxInt.add __old_413 1 in (
              ignore (__obj_412.line <- __new_414);
              __old_413
            ));
            let __assign_415 = 1 in (
              self.column <- __assign_415;
              __assign_415
            )
          )) else ignore (if c <> 13 then ignore (let __obj_416 = self in let __old_417 = __obj_416.column in let __new_418 = HxInt.add __old_417 1 in (
            ignore (__obj_416.column <- __new_418);
            __old_417
          )) else ()));
          let __assign_419 = c in (
            tempNumber3 := __assign_419;
            __assign_419
          )
        )
      ));
      let c = !tempNumber3 in (
        ignore (if c = 34 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_420 = -1 in (
                tempNumber6 := __assign_420;
                __assign_420
              ) else let __assign_421 = let __nullable_int_422 = HxString.charCodeAt (self.src) i in if __nullable_int_422 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_422 in (
                tempNumber6 := __assign_421;
                __assign_421
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_423 = self in let __old_424 = __obj_423.index in let __new_425 = HxInt.add __old_424 1 in (
                  ignore (__obj_423.index <- __new_425);
                  __old_424
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_426 = self in let __old_427 = __obj_426.line in let __new_428 = HxInt.add __old_427 1 in (
                    ignore (__obj_426.line <- __new_428);
                    __old_427
                  ));
                  let __assign_429 = 1 in (
                    self.column <- __assign_429;
                    __assign_429
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_430 = self in let __old_431 = __obj_430.column in let __new_432 = HxInt.add __old_431 1 in (
                  ignore (__obj_430.column <- __new_432);
                  __old_431
                )) else ()));
                let __assign_433 = c2 in (
                  tempNumber5 := __assign_433;
                  __assign_433
                )
              )
            ));
            let esc = !tempNumber5 in (
              ignore (match esc with
                | 34 -> ignore (StringBuf.addChar buf 34)
                | 92 -> ignore (StringBuf.addChar buf 92)
                | 110 -> ignore (StringBuf.addChar buf 10)
                | 114 -> ignore (StringBuf.addChar buf 13)
                | 116 -> ignore (StringBuf.addChar buf 9)
                | 117 -> ignore (let v = readHexDigits 4 in if v < 0 then ignore (StringBuf.addChar buf 117) else ignore (StringBuf.addChar buf v))
                | 120 -> ignore (let v = readHexDigits 2 in if v < 0 then ignore (StringBuf.addChar buf 120) else ignore (StringBuf.addChar buf v))
                | _ -> ignore (StringBuf.addChar buf esc));
              raise (HxRuntime.Hx_continue)
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_434 -> Obj.obj __ret_434

let readSingleQuotedString = fun self (startPos : HxPos.t) -> try let _gthis = self in (
  ignore (let tempNumber = ref 0 in (
    ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_435 = -1 in (
      tempNumber := __assign_435;
      __assign_435
    ) else let __assign_436 = let __nullable_int_437 = HxString.charCodeAt (self.src) i in if __nullable_int_437 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_437 in (
      tempNumber := __assign_436;
      __assign_436
    ));
    let c = !tempNumber in (
      ignore (let __obj_438 = self in let __old_439 = __obj_438.index in let __new_440 = HxInt.add __old_439 1 in (
        ignore (__obj_438.index <- __new_440);
        __old_439
      ));
      ignore (if c = 10 then ignore ((
        ignore (let __obj_441 = self in let __old_442 = __obj_441.line in let __new_443 = HxInt.add __old_442 1 in (
          ignore (__obj_441.line <- __new_443);
          __old_442
        ));
        let __assign_444 = 1 in (
          self.column <- __assign_444;
          __assign_444
        )
      )) else ignore (if c <> 13 then ignore (let __obj_445 = self in let __old_446 = __obj_445.column in let __new_447 = HxInt.add __old_446 1 in (
        ignore (__obj_445.column <- __new_447);
        __old_446
      )) else ()));
      c
    )
  ));
  let buf = StringBuf.create () in let hexVal = fun c -> let tempResult = ref 0 in (
    ignore (if c >= 48 && c <= 57 then let __assign_448 = HxInt.sub c 48 in (
      tempResult := __assign_448;
      __assign_448
    ) else if c >= 97 && c <= 102 then let __assign_449 = HxInt.add 10 (HxInt.sub c 97) in (
      tempResult := __assign_449;
      __assign_449
    ) else if c >= 65 && c <= 70 then let __assign_450 = HxInt.add 10 (HxInt.sub c 65) in (
      tempResult := __assign_450;
      __assign_450
    ) else let __assign_451 = -1 in (
      tempResult := __assign_451;
      __assign_451
    ));
    !tempResult
  ) in let readHexDigits = fun count -> try let acc = ref 0 in let _g = ref 0 in let _g1 = count in (
    ignore (while !_g < _g1 do ignore ((
      ignore (let __old_452 = !_g in let __new_453 = HxInt.add __old_452 1 in (
        ignore (_g := __new_453);
        __old_452
      ));
      let tempNumber1 = ref 0 in (
        ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_454 = -1 in (
          tempNumber1 := __assign_454;
          __assign_454
        ) else let __assign_455 = let __nullable_int_456 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_456 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_456 in (
          tempNumber1 := __assign_455;
          __assign_455
        ));
        let c = !tempNumber1 in (
          ignore (if c = -1 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
          let v = hexVal c in (
            ignore (if v < 0 then raise (HxRuntime.Hx_return (Obj.repr (-1))) else ());
            ignore (let __assign_457 = HxInt.logor (HxInt.shl (!acc) 4) v in (
              acc := __assign_457;
              __assign_457
            ));
            let tempNumber2 = ref 0 in (
              ignore (let i = _gthis.index in if i >= HxString.length (_gthis.src) then let __assign_458 = -1 in (
                tempNumber2 := __assign_458;
                __assign_458
              ) else let __assign_459 = let __nullable_int_460 = HxString.charCodeAt (_gthis.src) i in if __nullable_int_460 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_460 in (
                tempNumber2 := __assign_459;
                __assign_459
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_461 = _gthis in let __old_462 = __obj_461.index in let __new_463 = HxInt.add __old_462 1 in (
                  ignore (__obj_461.index <- __new_463);
                  __old_462
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_464 = _gthis in let __old_465 = __obj_464.line in let __new_466 = HxInt.add __old_465 1 in (
                    ignore (__obj_464.line <- __new_466);
                    __old_465
                  ));
                  let __assign_467 = 1 in (
                    _gthis.column <- __assign_467;
                    __assign_467
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_468 = _gthis in let __old_469 = __obj_468.column in let __new_470 = HxInt.add __old_469 1 in (
                  ignore (__obj_468.column <- __new_470);
                  __old_469
                )) else ()));
                c2
              )
            )
          )
        )
      )
    )) done);
    !acc
  ) with
    | HxRuntime.Hx_return __ret_471 -> Obj.obj __ret_471 in (
    ignore (try while self.index < HxString.length (self.src) do try ignore (let tempNumber3 = ref 0 in (
      ignore (let tempNumber4 = ref 0 in (
        ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_472 = -1 in (
          tempNumber4 := __assign_472;
          __assign_472
        ) else let __assign_473 = let __nullable_int_474 = HxString.charCodeAt (self.src) i in if __nullable_int_474 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_474 in (
          tempNumber4 := __assign_473;
          __assign_473
        ));
        let c = !tempNumber4 in (
          ignore (let __obj_475 = self in let __old_476 = __obj_475.index in let __new_477 = HxInt.add __old_476 1 in (
            ignore (__obj_475.index <- __new_477);
            __old_476
          ));
          ignore (if c = 10 then ignore ((
            ignore (let __obj_478 = self in let __old_479 = __obj_478.line in let __new_480 = HxInt.add __old_479 1 in (
              ignore (__obj_478.line <- __new_480);
              __old_479
            ));
            let __assign_481 = 1 in (
              self.column <- __assign_481;
              __assign_481
            )
          )) else ignore (if c <> 13 then ignore (let __obj_482 = self in let __old_483 = __obj_482.column in let __new_484 = HxInt.add __old_483 1 in (
            ignore (__obj_482.column <- __new_484);
            __old_483
          )) else ()));
          let __assign_485 = c in (
            tempNumber3 := __assign_485;
            __assign_485
          )
        )
      ));
      let c = !tempNumber3 in (
        ignore (if c = 39 then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TString (StringBuf.toString buf ())) startPos))) else ());
        ignore (if c = 92 then ignore ((
          ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_break) else ());
          let tempNumber5 = ref 0 in (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_486 = -1 in (
                tempNumber6 := __assign_486;
                __assign_486
              ) else let __assign_487 = let __nullable_int_488 = HxString.charCodeAt (self.src) i in if __nullable_int_488 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_488 in (
                tempNumber6 := __assign_487;
                __assign_487
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_489 = self in let __old_490 = __obj_489.index in let __new_491 = HxInt.add __old_490 1 in (
                  ignore (__obj_489.index <- __new_491);
                  __old_490
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_492 = self in let __old_493 = __obj_492.line in let __new_494 = HxInt.add __old_493 1 in (
                    ignore (__obj_492.line <- __new_494);
                    __old_493
                  ));
                  let __assign_495 = 1 in (
                    self.column <- __assign_495;
                    __assign_495
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_496 = self in let __old_497 = __obj_496.column in let __new_498 = HxInt.add __old_497 1 in (
                  ignore (__obj_496.column <- __new_498);
                  __old_497
                )) else ()));
                let __assign_499 = c2 in (
                  tempNumber5 := __assign_499;
                  __assign_499
                )
              )
            ));
            let esc = !tempNumber5 in (
              ignore (match esc with
                | 39 -> ignore (StringBuf.addChar buf 39)
                | 92 -> ignore (StringBuf.addChar buf 92)
                | 110 -> ignore (StringBuf.addChar buf 10)
                | 114 -> ignore (StringBuf.addChar buf 13)
                | 116 -> ignore (StringBuf.addChar buf 9)
                | 117 -> ignore (let v = readHexDigits 4 in if v < 0 then ignore (StringBuf.addChar buf 117) else ignore (StringBuf.addChar buf v))
                | 120 -> ignore (let v = readHexDigits 2 in if v < 0 then ignore (StringBuf.addChar buf 120) else ignore (StringBuf.addChar buf v))
                | _ -> ignore (StringBuf.addChar buf esc));
              raise (HxRuntime.Hx_continue)
            )
          )
        )) else ());
        StringBuf.addChar buf c
      )
    )) with
      | HxRuntime.Hx_continue -> () done with
      | HxRuntime.Hx_break -> ());
    HxType.hx_throw_typed_rtti (Obj.repr (HxParseError.create "Unterminated string literal" startPos)) ["Dynamic"; "HxParseError"]
  )
) with
  | HxRuntime.Hx_return __ret_500 -> Obj.obj __ret_500

let next = fun self () -> try (
  ignore (skipWhitespaceAndComments self ());
  let p = HxPos.create (self.index) (self.line) (self.column) in (
    ignore (if self.index >= HxString.length (self.src) then raise (HxRuntime.Hx_return (Obj.repr (HxToken.create (HxTokenKind.TEof) p))) else ());
    let tempNumber = ref 0 in (
      ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_501 = -1 in (
        tempNumber := __assign_501;
        __assign_501
      ) else let __assign_502 = let __nullable_int_503 = HxString.charCodeAt (self.src) i in if __nullable_int_503 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_503 in (
        tempNumber := __assign_502;
        __assign_502
      ));
      let c = !tempNumber in let tempResult = ref (Obj.magic ()) in (
        ignore (match c with
          | 34 -> let __assign_520 = readString self p in (
            tempResult := __assign_520;
            __assign_520
          )
          | 39 -> let __assign_521 = readSingleQuotedString self p in (
            tempResult := __assign_521;
            __assign_521
          )
          | 40 -> (
            ignore (let tempNumber1 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_522 = -1 in (
                tempNumber1 := __assign_522;
                __assign_522
              ) else let __assign_523 = let __nullable_int_524 = HxString.charCodeAt (self.src) i in if __nullable_int_524 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_524 in (
                tempNumber1 := __assign_523;
                __assign_523
              ));
              let c2 = !tempNumber1 in (
                ignore (let __obj_525 = self in let __old_526 = __obj_525.index in let __new_527 = HxInt.add __old_526 1 in (
                  ignore (__obj_525.index <- __new_527);
                  __old_526
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_528 = self in let __old_529 = __obj_528.line in let __new_530 = HxInt.add __old_529 1 in (
                    ignore (__obj_528.line <- __new_530);
                    __old_529
                  ));
                  let __assign_531 = 1 in (
                    self.column <- __assign_531;
                    __assign_531
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_532 = self in let __old_533 = __obj_532.column in let __new_534 = HxInt.add __old_533 1 in (
                  ignore (__obj_532.column <- __new_534);
                  __old_533
                )) else ()));
                c2
              )
            ));
            let __assign_535 = HxToken.create (HxTokenKind.TLParen) p in (
              tempResult := __assign_535;
              __assign_535
            )
          )
          | 41 -> (
            ignore (let tempNumber2 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_536 = -1 in (
                tempNumber2 := __assign_536;
                __assign_536
              ) else let __assign_537 = let __nullable_int_538 = HxString.charCodeAt (self.src) i in if __nullable_int_538 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_538 in (
                tempNumber2 := __assign_537;
                __assign_537
              ));
              let c2 = !tempNumber2 in (
                ignore (let __obj_539 = self in let __old_540 = __obj_539.index in let __new_541 = HxInt.add __old_540 1 in (
                  ignore (__obj_539.index <- __new_541);
                  __old_540
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_542 = self in let __old_543 = __obj_542.line in let __new_544 = HxInt.add __old_543 1 in (
                    ignore (__obj_542.line <- __new_544);
                    __old_543
                  ));
                  let __assign_545 = 1 in (
                    self.column <- __assign_545;
                    __assign_545
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_546 = self in let __old_547 = __obj_546.column in let __new_548 = HxInt.add __old_547 1 in (
                  ignore (__obj_546.column <- __new_548);
                  __old_547
                )) else ()));
                c2
              )
            ));
            let __assign_549 = HxToken.create (HxTokenKind.TRParen) p in (
              tempResult := __assign_549;
              __assign_549
            )
          )
          | 44 -> (
            ignore (let tempNumber3 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_550 = -1 in (
                tempNumber3 := __assign_550;
                __assign_550
              ) else let __assign_551 = let __nullable_int_552 = HxString.charCodeAt (self.src) i in if __nullable_int_552 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_552 in (
                tempNumber3 := __assign_551;
                __assign_551
              ));
              let c2 = !tempNumber3 in (
                ignore (let __obj_553 = self in let __old_554 = __obj_553.index in let __new_555 = HxInt.add __old_554 1 in (
                  ignore (__obj_553.index <- __new_555);
                  __old_554
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_556 = self in let __old_557 = __obj_556.line in let __new_558 = HxInt.add __old_557 1 in (
                    ignore (__obj_556.line <- __new_558);
                    __old_557
                  ));
                  let __assign_559 = 1 in (
                    self.column <- __assign_559;
                    __assign_559
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_560 = self in let __old_561 = __obj_560.column in let __new_562 = HxInt.add __old_561 1 in (
                  ignore (__obj_560.column <- __new_562);
                  __old_561
                )) else ()));
                c2
              )
            ));
            let __assign_563 = HxToken.create (HxTokenKind.TComma) p in (
              tempResult := __assign_563;
              __assign_563
            )
          )
          | 46 -> (
            ignore (let tempNumber4 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_564 = -1 in (
                tempNumber4 := __assign_564;
                __assign_564
              ) else let __assign_565 = let __nullable_int_566 = HxString.charCodeAt (self.src) i in if __nullable_int_566 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_566 in (
                tempNumber4 := __assign_565;
                __assign_565
              ));
              let c2 = !tempNumber4 in (
                ignore (let __obj_567 = self in let __old_568 = __obj_567.index in let __new_569 = HxInt.add __old_568 1 in (
                  ignore (__obj_567.index <- __new_569);
                  __old_568
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_570 = self in let __old_571 = __obj_570.line in let __new_572 = HxInt.add __old_571 1 in (
                    ignore (__obj_570.line <- __new_572);
                    __old_571
                  ));
                  let __assign_573 = 1 in (
                    self.column <- __assign_573;
                    __assign_573
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_574 = self in let __old_575 = __obj_574.column in let __new_576 = HxInt.add __old_575 1 in (
                  ignore (__obj_574.column <- __new_576);
                  __old_575
                )) else ()));
                c2
              )
            ));
            let __assign_577 = HxToken.create (HxTokenKind.TDot) p in (
              tempResult := __assign_577;
              __assign_577
            )
          )
          | 58 -> (
            ignore (let tempNumber5 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_578 = -1 in (
                tempNumber5 := __assign_578;
                __assign_578
              ) else let __assign_579 = let __nullable_int_580 = HxString.charCodeAt (self.src) i in if __nullable_int_580 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_580 in (
                tempNumber5 := __assign_579;
                __assign_579
              ));
              let c2 = !tempNumber5 in (
                ignore (let __obj_581 = self in let __old_582 = __obj_581.index in let __new_583 = HxInt.add __old_582 1 in (
                  ignore (__obj_581.index <- __new_583);
                  __old_582
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_584 = self in let __old_585 = __obj_584.line in let __new_586 = HxInt.add __old_585 1 in (
                    ignore (__obj_584.line <- __new_586);
                    __old_585
                  ));
                  let __assign_587 = 1 in (
                    self.column <- __assign_587;
                    __assign_587
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_588 = self in let __old_589 = __obj_588.column in let __new_590 = HxInt.add __old_589 1 in (
                  ignore (__obj_588.column <- __new_590);
                  __old_589
                )) else ()));
                c2
              )
            ));
            let __assign_591 = HxToken.create (HxTokenKind.TColon) p in (
              tempResult := __assign_591;
              __assign_591
            )
          )
          | 59 -> (
            ignore (let tempNumber6 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_592 = -1 in (
                tempNumber6 := __assign_592;
                __assign_592
              ) else let __assign_593 = let __nullable_int_594 = HxString.charCodeAt (self.src) i in if __nullable_int_594 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_594 in (
                tempNumber6 := __assign_593;
                __assign_593
              ));
              let c2 = !tempNumber6 in (
                ignore (let __obj_595 = self in let __old_596 = __obj_595.index in let __new_597 = HxInt.add __old_596 1 in (
                  ignore (__obj_595.index <- __new_597);
                  __old_596
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_598 = self in let __old_599 = __obj_598.line in let __new_600 = HxInt.add __old_599 1 in (
                    ignore (__obj_598.line <- __new_600);
                    __old_599
                  ));
                  let __assign_601 = 1 in (
                    self.column <- __assign_601;
                    __assign_601
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_602 = self in let __old_603 = __obj_602.column in let __new_604 = HxInt.add __old_603 1 in (
                  ignore (__obj_602.column <- __new_604);
                  __old_603
                )) else ()));
                c2
              )
            ));
            let __assign_605 = HxToken.create (HxTokenKind.TSemicolon) p in (
              tempResult := __assign_605;
              __assign_605
            )
          )
          | 123 -> (
            ignore (let tempNumber7 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_606 = -1 in (
                tempNumber7 := __assign_606;
                __assign_606
              ) else let __assign_607 = let __nullable_int_608 = HxString.charCodeAt (self.src) i in if __nullable_int_608 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_608 in (
                tempNumber7 := __assign_607;
                __assign_607
              ));
              let c2 = !tempNumber7 in (
                ignore (let __obj_609 = self in let __old_610 = __obj_609.index in let __new_611 = HxInt.add __old_610 1 in (
                  ignore (__obj_609.index <- __new_611);
                  __old_610
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_612 = self in let __old_613 = __obj_612.line in let __new_614 = HxInt.add __old_613 1 in (
                    ignore (__obj_612.line <- __new_614);
                    __old_613
                  ));
                  let __assign_615 = 1 in (
                    self.column <- __assign_615;
                    __assign_615
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_616 = self in let __old_617 = __obj_616.column in let __new_618 = HxInt.add __old_617 1 in (
                  ignore (__obj_616.column <- __new_618);
                  __old_617
                )) else ()));
                c2
              )
            ));
            let __assign_619 = HxToken.create (HxTokenKind.TLBrace) p in (
              tempResult := __assign_619;
              __assign_619
            )
          )
          | 125 -> (
            ignore (let tempNumber8 = ref 0 in (
              ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_620 = -1 in (
                tempNumber8 := __assign_620;
                __assign_620
              ) else let __assign_621 = let __nullable_int_622 = HxString.charCodeAt (self.src) i in if __nullable_int_622 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_622 in (
                tempNumber8 := __assign_621;
                __assign_621
              ));
              let c2 = !tempNumber8 in (
                ignore (let __obj_623 = self in let __old_624 = __obj_623.index in let __new_625 = HxInt.add __old_624 1 in (
                  ignore (__obj_623.index <- __new_625);
                  __old_624
                ));
                ignore (if c2 = 10 then ignore ((
                  ignore (let __obj_626 = self in let __old_627 = __obj_626.line in let __new_628 = HxInt.add __old_627 1 in (
                    ignore (__obj_626.line <- __new_628);
                    __old_627
                  ));
                  let __assign_629 = 1 in (
                    self.column <- __assign_629;
                    __assign_629
                  )
                )) else ignore (if c2 <> 13 then ignore (let __obj_630 = self in let __old_631 = __obj_630.column in let __new_632 = HxInt.add __old_631 1 in (
                  ignore (__obj_630.column <- __new_632);
                  __old_631
                )) else ()));
                c2
              )
            ));
            let __assign_633 = HxToken.create (HxTokenKind.TRBrace) p in (
              tempResult := __assign_633;
              __assign_633
            )
          )
          | _ -> if c >= 48 && c <= 57 then let __assign_504 = readNumber self p in (
            tempResult := __assign_504;
            __assign_504
          ) else if c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 then let __assign_505 = readIdent self p in (
            tempResult := __assign_505;
            __assign_505
          ) else let tempNumber9 = ref 0 in (
            ignore (let i = self.index in if i >= HxString.length (self.src) then let __assign_506 = -1 in (
              tempNumber9 := __assign_506;
              __assign_506
            ) else let __assign_507 = let __nullable_int_508 = HxString.charCodeAt (self.src) i in if __nullable_int_508 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_508 in (
              tempNumber9 := __assign_507;
              __assign_507
            ));
            let c1 = !tempNumber9 in (
              ignore (let __obj_509 = self in let __old_510 = __obj_509.index in let __new_511 = HxInt.add __old_510 1 in (
                ignore (__obj_509.index <- __new_511);
                __old_510
              ));
              ignore (if c1 = 10 then ignore ((
                ignore (let __obj_512 = self in let __old_513 = __obj_512.line in let __new_514 = HxInt.add __old_513 1 in (
                  ignore (__obj_512.line <- __new_514);
                  __old_513
                ));
                let __assign_515 = 1 in (
                  self.column <- __assign_515;
                  __assign_515
                )
              )) else ignore (if c1 <> 13 then ignore (let __obj_516 = self in let __old_517 = __obj_516.column in let __new_518 = HxInt.add __old_517 1 in (
                ignore (__obj_516.column <- __new_518);
                __old_517
              )) else ()));
              ignore c1;
              let __assign_519 = HxToken.create (HxTokenKind.TOther c) p in (
                tempResult := __assign_519;
                __assign_519
              )
            )
          ));
        !tempResult
      )
    )
  )
) with
  | HxRuntime.Hx_return __ret_634 -> Obj.obj __ret_634

let isSpace = fun c -> c = 9 || c = 10 || c = 13 || c = 32

let isIdentStart = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95

let isIdentCont = fun c -> c >= 65 && c <= 90 || c >= 97 && c <= 122 || c = 95 || c >= 48 && c <= 57

let isDigit = fun c -> c >= 48 && c <= 57