# 1 "backend_TargetCoreBackend.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: backend.TargetCoreBackend *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable backendDescriptor : Obj.t; mutable emitImpl : Obj.t -> Backend_BackendContext.t -> Backend_EmitResult.t; id : Obj.t -> unit -> string; describe : Obj.t -> unit -> string; capabilities : Obj.t -> unit -> Obj.t; emit : Obj.t -> Obj.t -> Backend_BackendContext.t -> Backend_EmitResult.t }

let __ctor = fun (self : t) backendDescriptor2 emitImpl2 -> ignore ((
  ignore (let __assign_1 = backendDescriptor2 in (
    self.backendDescriptor <- __assign_1;
    __assign_1
  ));
  let __assign_2 = emitImpl2 in (
    self.emitImpl <- __assign_2;
    __assign_2
  )
))

let id__impl = fun (self : t) () -> Obj.obj (HxAnon.get (self.backendDescriptor) "id")

let describe__impl = fun (self : t) () -> Obj.obj (HxAnon.get (self.backendDescriptor) "description")

let capabilities__impl = fun (self : t) () -> Obj.obj (HxAnon.get (self.backendDescriptor) "capabilities")

let emit__impl = fun (self : t) (program : Obj.t) (context : Backend_BackendContext.t) -> self.emitImpl program context

let create = fun backendDescriptor2 emitImpl2 -> let self = ({ __hx_type = HxType.class_ "backend.TargetCoreBackend"; backendDescriptor = Obj.magic (); emitImpl = Obj.magic (); id = (fun o () -> id__impl (Obj.magic o) ()); describe = (fun o () -> describe__impl (Obj.magic o) ()); capabilities = (fun o () -> capabilities__impl (Obj.magic o) ()); emit = (fun o a0 a1 -> emit__impl (Obj.magic o) a0 a1) } : t) in (
  ignore ((
    ignore (let __assign_1 = backendDescriptor2 in (
      self.backendDescriptor <- __assign_1;
      __assign_1
    ));
    let __assign_2 = emitImpl2 in (
      self.emitImpl <- __assign_2;
      __assign_2
    )
  ));
  self
)

let __empty = fun () -> ({ __hx_type = HxType.class_ "backend.TargetCoreBackend"; backendDescriptor = Obj.magic (); emitImpl = Obj.magic (); id = (fun o () -> id__impl (Obj.magic o) ()); describe = (fun o () -> describe__impl (Obj.magic o) ()); capabilities = (fun o () -> capabilities__impl (Obj.magic o) ()); emit = (fun o a0 a1 -> emit__impl (Obj.magic o) a0 a1) } : t)

let emitBridge = fun backend program context -> backend.emit (Obj.magic backend) program context