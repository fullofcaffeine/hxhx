(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: haxe.exceptions.PosException *)

let __reflaxe_ocaml__ = ()

type t = { mutable posInfos : Obj.t }

let create = fun message previous pos -> let self = { posInfos = Obj.magic () } in (
  (
    ignore (self message previous);
    if pos == Obj.magic (HxRuntime.hx_null) then self.posInfos <- () else self.posInfos <- pos
  );
  self
)

let toString = fun self () -> (((((((("" ^ HxString.toStdString (Haxe_Exception.toString self ())) ^ " in ") ^ HxString.toStdString (self.posInfos.className)) ^ ".") ^ HxString.toStdString (self.posInfos.methodName)) ^ " at ") ^ HxString.toStdString (self.posInfos.fileName)) ^ ":") ^ string_of_int (self.posInfos.lineNumber)