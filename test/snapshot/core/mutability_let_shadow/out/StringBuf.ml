# 1 "StringBuf.ml"
(* Generated by reflaxe.ocaml (WIP) *)
(* Haxe type: StringBuf *)

let __reflaxe_ocaml__ = ()

type t = { __hx_type : Obj.t; mutable buf : Stdlib.Buffer.t }

let create = fun () -> let self = ({ __hx_type = HxType.class_ "StringBuf"; buf = Obj.magic () } : t) in (
  ignore (let __assign_1 = Stdlib.Buffer.create 16 in (
    self.buf <- __assign_1;
    __assign_1
  ));
  self
)

let get_length = fun self () -> let b = self.buf in let tempResult = Stdlib.Buffer.length b in tempResult

let add = fun self x -> ignore (let b = self.buf in let s = HxRuntime.dynamic_toStdString (Obj.repr x) in Stdlib.Buffer.add_string b s)

let addChar = fun self c -> ignore (let b = self.buf in let s = HxString.fromCharCode c in Stdlib.Buffer.add_string b s)

let addSub = fun self s pos len -> ignore (let b = self.buf in let tempString = ref "" in (
  ignore (if len == HxRuntime.hx_null then let __assign_2 = HxString.substr s pos (-1) in (
    tempString := __assign_2;
    __assign_2
  ) else let __assign_3 = HxString.substr s pos (let __nullable_int_4 = len in if __nullable_int_4 == HxRuntime.hx_null then 0 else Obj.obj __nullable_int_4) in (
    tempString := __assign_3;
    __assign_3
  ));
  Stdlib.Buffer.add_string b (!tempString)
))

let toString = fun self () -> let b = self.buf in let tempResult = Stdlib.Buffer.contents b in tempResult